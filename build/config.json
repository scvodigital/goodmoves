{
  "domains": [
    "goodmoves.com",
    "test.goodmoves.com",
    "beta.goodmoves.com",
    "goodmoves.eu",
    "goodmoves.be",
    "goodmoves.scot",
    "goodmovesjobs.de",
    "goodmoves.local",
    "goodmoves.org.uk"
  ],
  "routes": [
    {
      "name": "home",
      "pattern": "/",
      "debug": false,
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        "context.metaData.commonTasks.searchesData",
        "context.metaData.commonTasks.shortlistData",
        "context.metaData.commonTasks.notesData",
        "context.metaData.commonTasks.organisationsWithOpenVacancies",
        {
          "name": "primaryResponse",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "home_latest_personalised",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_home-latest-personalised"
              },
              {
                "name": "home_latest",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_home-latest"
              },
              {
                "name": "recently_viewed",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_recently-viewed"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "supplimentaryResponses",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "top",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_home-top"
              },
              {
                "name": "shortlist_vacancies_open",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_shortlist-open"
              },
              {
                "name": "shortlist_vacancies_closed",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_shortlist-closed"
              },
              {
                "name": "currently_recruiting",
                "index": "web-content-production",
                "type": "goodmoves-organisation",
                "template": ">context.metaData.handlebars.queries.organisations_currently-recruiting"
              },
              {
                "name": "types",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types"
              },
              {
                "name": "types_regions",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-scotland"
              },
              {
                "name": "types_regions_belgium",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-belgium"
              },
              {
                "name": "types_regions_england",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-england"
              },
              {
                "name": "types_regions_northern_ireland",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-northern-ireland"
              },
              {
                "name": "types_regions_wales",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-wales"
              },
              {
                "name": "splash",
                "index": "web-content-production",
                "type": "scvo-media",
                "template": ">context.metaData.handlebars.queries.pages_splash"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "posts",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "tfn_latest",
                "index": "web-content-production",
                "type": "tfn-legacy-post-news,tfn-legacy-feature",
                "template": ">context.metaData.handlebars.queries.posts_tfn-latest"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_home-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_home",
                  "foot": ">context.metaData.handlebars.templates.vacancies_home-foot"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "four_oh_four",
      "pattern": "/404",
      "defaultStatusCode": 404,
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "not_found",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": {
              "index": "web-content-production",
              "type": "goodmoves-page",
              "template": ">context.metaData.handlebars.queries.pages_not-found"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "supplimentaryResponses",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "types",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.errors_404",
                  "foot": ""
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "five_hundred",
      "pattern": "/500",
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.errors_500",
                  "foot": ""
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "robots",
      "pattern": "/robots.txt",
      "tasks": [
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "data"
              ]
            },
            "output": "body",
            "layouts": {
              "data": {
                "layout": ">context.metaData.handlebars.layouts.data",
                "parts": {
                  "content": ">context.metaData.handlebars.templates.robots"
                },
                "contentType": "text/plain"
              }
            }
          }
        }
      ]
    },
    {
      "name": "humans",
      "pattern": "/humans.txt",
      "tasks": [
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "data"
              ]
            },
            "output": "body",
            "layouts": {
              "data": {
                "layout": ">context.metaData.handlebars.layouts.data",
                "parts": {
                  "content": ">context.metaData.handlebars.templates.humans"
                },
                "contentType": "text/plain"
              }
            }
          }
        }
      ]
    },
    {
      "name": "sign_in",
      "pattern": "/sign-in",
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.account_sign-in"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "sign_out",
      "pattern": "/sign-out",
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.account_sign-out"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "sign_up",
      "pattern": "/sign-up",
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.account_sign-up"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "delete-user",
      "pattern": "/delete-user",
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "delete_user": ">context.metaData.handlebars.queries.notifications_delete-user"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.account_delete-user"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "reset_password",
      "pattern": "/reset-password",
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.account_reset-password"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "upgrade_token",
      "pattern": "/upgrade-token",
      "tasks": [
        {
          "name": "auth",
          "taskModule": "firebaseGetSession",
          "config": {
            "tokenPath": "request.params.query.token",
            "cookieName": "gm_cookie",
            "cookieOptions": {
              "maxAge": 1209600000,
              "secure": true,
              "path": "/"
            },
            "appName": "goodmoves"
          }
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": "{{{safeStringify @root.data.auth}}}",
            "parseJson": true
          }
        }
      ]
    },
    {
      "name": "vacancy_search_rss",
      "pattern": "/search-rss",
      "metaData": {
        "hideSearch": true
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "detailed_results",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_search-rss"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                {
                  "in": [
                    "rss",
                    {
                      "var": "request.fullUrl"
                    }
                  ]
                },
                "rss",
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "rss": {
                "layout": ">context.metaData.handlebars.layouts.rss",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_search-rss-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_search-rss"
                },
                "contentType": "application/rss+xml"
              }
            }
          }
        }
      ]
    },
    {
      "name": "vacancy_search",
      "pattern": "/search",
      "debug": false,
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        "context.metaData.commonTasks.searchesData",
        "context.metaData.commonTasks.shortlistData",
        "context.metaData.commonTasks.notesData",
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "detailed_results",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_search-list"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                {
                  "in": [
                    "rss",
                    {
                      "var": "request.fullUrl"
                    }
                  ]
                },
                "rss",
                {
                  "in": [
                    "view=json",
                    {
                      "var": "request.fullUrl"
                    }
                  ]
                },
                "data",
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "rss": {
                "layout": ">context.metaData.handlebars.layouts.rss",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_search-rss-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_search-rss"
                },
                "contentType": "application/rss+xml"
              },
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_search-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_search",
                  "foot": ">context.metaData.handlebars.templates.vacancies_search-foot",
                  "sidebar": ">context.metaData.handlebars.templates.vacancies_search-form"
                },
                "contentType": "text/html"
              },
              "data": {
                "layout": ">context.metaData.handlebars.layouts.data",
                "parts": {
                  "content": ">context.metaData.handlebars.templates.vacancies_search-json"
                },
                "contentType": "application/json"
              }
            }
          }
        }
      ]
    },
    {
      "name": "vacancy_map",
      "pattern": "/map",
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        "context.metaData.commonTasks.shortlistData",
        {
          "name": "location_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "la_results",
                "index": "geo_lookup",
                "type": "es_district",
                "template": ">context.metaData.handlebars.queries.vacancies_local-authority-areas"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "map_results",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_search-map"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                {
                  "in": [
                    "view=rss",
                    {
                      "var": "request.fullUrl"
                    }
                  ]
                },
                "rss",
                {
                  "in": [
                    "view=json",
                    {
                      "var": "request.fullUrl"
                    }
                  ]
                },
                "data",
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "rss": {
                "layout": ">context.metaData.handlebars.layouts.rss",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_search-rss-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_search-rss"
                },
                "contentType": "application/rss+xml"
              },
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_search-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_map",
                  "foot": ">context.metaData.handlebars.templates.vacancies_search-foot",
                  "sidebar": ">context.metaData.handlebars.templates.vacancies_search-form"
                },
                "contentType": "text/html"
              },
              "data": {
                "layout": ">context.metaData.handlebars.layouts.data",
                "parts": {
                  "content": ">context.metaData.handlebars.templates.vacancies_search-json"
                },
                "contentType": "application/json"
              }
            }
          }
        }
      ]
    },
    {
      "name": "vacancy",
      "pattern": "/vacancy/:id(/:junk)",
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "detail"
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        "context.metaData.commonTasks.shortlistData",
        "context.metaData.commonTasks.notesData",
        {
          "name": "primaryResponse",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": {
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_vacancy"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "supplimentaryResponses",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "types",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types"
              },
              {
                "name": "types_regions",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-scotland"
              },
              {
                "name": "types_regions_belgium",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-belgium"
              },
              {
                "name": "types_regions_england",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-england"
              },
              {
                "name": "types_regions_northern_ireland",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-northern-ireland"
              },
              {
                "name": "types_regions_wales",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-wales"
              },
              {
                "name": "related",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_related"
              },
              {
                "name": "not_found",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.pages_not-found"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "posts",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "tfn_latest",
                "index": "web-content-production",
                "type": "tfn-legacy-post-news,tfn-legacy-post-blog,tfn-legacy-feature",
                "template": ">context.metaData.handlebars.queries.posts_tfn-latest"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_vacancy-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_vacancy",
                  "foot": ">context.metaData.handlebars.templates.vacancies_vacancy-foot",
                  "sidebar": ">context.metaData.handlebars.templates.vacancies_search-form"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "browse",
      "pattern": "/browse",
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "supplimentaryResponses",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "types",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types"
              },
              {
                "name": "types_regions",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-scotland"
              },
              {
                "name": "types_regions_belgium",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-belgium"
              },
              {
                "name": "types_regions_england",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-england"
              },
              {
                "name": "types_regions_northern_ireland",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-northern-ireland"
              },
              {
                "name": "types_regions_wales",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types-regions-wales"
              },
              {
                "name": "banner",
                "index": "web-content-production",
                "type": "goodmoves-banner",
                "template": ">context.metaData.handlebars.queries.banners_banner"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_browse",
                  "sidebar": ">context.metaData.handlebars.templates.vacancies_search-form"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "jobs_in",
      "pattern": "/jobs-in/:district(/:ward)",
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        "context.metaData.commonTasks.searchesData",
        "context.metaData.commonTasks.shortlistData",
        "context.metaData.commonTasks.notesData",
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "detailed_results",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_jobs-in-list"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                {
                  "in": [
                    "rss",
                    {
                      "var": "request.fullUrl"
                    }
                  ]
                },
                "rss",
                {
                  "in": [
                    "view=json",
                    {
                      "var": "request.fullUrl"
                    }
                  ]
                },
                "data",
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "rss": {
                "layout": ">context.metaData.handlebars.layouts.rss",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_search-rss-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_search-rss"
                },
                "contentType": "application/rss+xml"
              },
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.vacancies_search-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_jobs-in",
                  "foot": ">context.metaData.handlebars.templates.vacancies_search-foot",
                  "sidebar": ">context.metaData.handlebars.templates.vacancies_search-form"
                },
                "contentType": "text/html"
              },
              "data": {
                "layout": ">context.metaData.handlebars.layouts.data",
                "parts": {
                  "content": ">context.metaData.handlebars.templates.vacancies_search-json"
                },
                "contentType": "application/json"
              }
            }
          }
        }
      ]
    },
    {
      "name": "geo-lookup",
      "pattern": "/geo-lookup",
      "doNotZip": true,
      "tasks": [
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": {
              "index": "geo_lookup",
              "type": "os_place,postcode",
              "template": ">context.metaData.handlebars.queries.geo-lookup"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "data"
              ]
            },
            "output": "body",
            "layouts": {
              "data": {
                "layout": ">context.metaData.handlebars.layouts.data",
                "parts": {
                  "content": ">context.metaData.handlebars.templates.geo-lookup"
                },
                "contentType": "application/json; charset=utf-8"
              }
            }
          }
        }
      ]
    },
    {
      "name": "organisation_search",
      "pattern": "/organisations",
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        "context.metaData.commonTasks.organisationsWithOpenVacancies",
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "detailed_results",
                "index": "web-content-production",
                "type": "goodmoves-organisation",
                "template": ">context.metaData.handlebars.queries.organisations_search-list"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.organisations_search-head-tags",
                  "body": ">context.metaData.handlebars.templates.organisations_search",
                  "sidebar": ">context.metaData.handlebars.templates.organisations_organisation-search-form"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "organisation",
      "pattern": "/organisation/:id(/:junk)",
      "defaultParams": {
        "context": "detail"
      },
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        "context.metaData.commonTasks.shortlistData",
        "context.metaData.commonTasks.notesData",
        "context.metaData.commonTasks.organisationsWithVacancies",
        {
          "name": "primaryResponse",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": {
              "index": "web-content-production",
              "type": "goodmoves-organisation",
              "template": ">context.metaData.handlebars.queries.organisations_organisation"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "supplimentaryResponses",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "vacancies_open",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_organisation-vacancies-open"
              },
              {
                "name": "vacancies_closed",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_organisation-vacancies-closed"
              },
              {
                "name": "types",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types"
              },
              {
                "name": "not_found",
                "index": "web-content-production",
                "type": "goodmoves-organisation",
                "template": ">context.metaData.handlebars.queries.pages_not-found"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "goodhq",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "posts",
                "index": "web-content-production",
                "type": "goodhq-post",
                "template": ">context.metaData.handlebars.queries.goodhq_posts"
              },
              {
                "name": "reviews",
                "index": "web-content-production",
                "type": "goodhq-review",
                "template": ">context.metaData.handlebars.queries.goodhq_reviews"
              },
              {
                "name": "volunteering",
                "index": "web-content-production",
                "type": "milo-volunteering-opportunity",
                "template": ">context.metaData.handlebars.queries.goodhq_volunteering"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.organisations_organisation-head-tags",
                  "body": ">context.metaData.handlebars.templates.organisations_organisation",
                  "sidebar": ">context.metaData.handlebars.templates.organisations_organisation-search-form"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "searches",
      "pattern": "/searches",
      "metaData": {
        "hideSearch": true,
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        "context.metaData.commonTasks.searchesData",
        {
          "name": "email_days",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "data",
            "template": ">context.metaData.handlebars.partials.email_days"
          }
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_saved-searches",
                  "sidebar": ">context.metaData.handlebars.templates.account_sidebar"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "delete-search",
      "pattern": "/delete-search",
      "acceptedVerbs": "POST",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "delete_search": ">context.metaData.handlebars.queries.notifications_delete-search"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": ">request.headers.referer"
          }
        }
      ]
    },
    {
      "name": "save-search",
      "pattern": "/save-search",
      "acceptedVerbs": "POST",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "add_saved_search_parameters": ">context.metaData.handlebars.queries.notifications_add-saved-search"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "searchUrl",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "data",
            "template": "/search{{> query_search}}"
          }
        },
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": ">data.searchUrl",
            "statusCode": 307
          }
        }
      ]
    },
    {
      "name": "stop-all-emails",
      "pattern": "/stop-all-emails",
      "acceptedVerbs": "GET",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "stop_all_emails": ">context.metaData.handlebars.queries.notifications_stop-all-emails"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": ">request.headers.referer"
          }
        }
      ]
    },
    {
      "name": "toggle-shortlist-subscription",
      "pattern": "/toggle-shortlist-subscription",
      "acceptedVerbs": "POST",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "toggle_subscription": ">context.metaData.handlebars.queries.notifications_toggle-shortlist-subscription"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": "Toggled subscription"
          }
        }
      ]
    },
    {
      "name": "toggle-subscription",
      "pattern": "/toggle-subscription",
      "acceptedVerbs": "POST",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "toggle_subscription": ">context.metaData.handlebars.queries.notifications_toggle-subscription"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": ">request.headers.referer"
          }
        }
      ]
    },
    {
      "name": "update-email-preferences",
      "pattern": "/update-email-preferences",
      "acceptedVerbs": "POST",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "update_email_prefs": ">context.metaData.handlebars.queries.notifications_update-email-preferences"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": "Toggled preferences"
          }
        }
      ]
    },
    {
      "name": "shortlist",
      "pattern": "/shortlist",
      "metaData": {
        "hideSearch": true,
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        "context.metaData.commonTasks.shortlistData",
        "context.metaData.commonTasks.notesData",
        {
          "name": "shortlist_vacancies",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6",
              "log": "warning"
            },
            "queryTemplates": [
              {
                "name": "open",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_shortlist-open"
              },
              {
                "name": "closed",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_shortlist-closed"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_shortlist",
                  "sidebar": ">context.metaData.handlebars.templates.account_sidebar"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "notes",
      "pattern": "/notes",
      "metaData": {
        "hideSearch": true,
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        "context.metaData.commonTasks.notesData",
        {
          "name": "notes_vacancies",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "open",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_notes-open"
              },
              {
                "name": "closed",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_notes-closed"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.vacancies_notes",
                  "sidebar": ">context.metaData.handlebars.templates.account_sidebar"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "settings",
      "pattern": "/settings",
      "metaData": {
        "hideSearch": true,
        "sidebarButton": {
          "icon": "cog",
          "tooltip": "Settings",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        "context.metaData.commonTasks.searchesData",
        "context.metaData.commonTasks.shortlistData",
        "context.metaData.commonTasks.notesData",
        {
          "name": "email_days",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "data",
            "template": ">context.metaData.handlebars.partials.email_days"
          }
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "vacancy_lookup",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": {
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.account_shortlist"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "export_user_data",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "data",
            "template": ">context.metaData.handlebars.templates.account_export-user-data"
          }
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.account_settings",
                  "foot": ">context.metaData.handlebars.templates.account_settings-foot",
                  "sidebar": ">context.metaData.handlebars.templates.account_sidebar"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "export-user-data",
      "pattern": "/export-user-data",
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        "context.metaData.commonTasks.searchesData",
        "context.metaData.commonTasks.shortlistData",
        "context.metaData.commonTasks.notesData",
        {
          "name": "vacancy_lookup",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": {
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.account_shortlist"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "export_user_data",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": ">context.metaData.handlebars.templates.account_export-user-data"
          }
        }
      ]
    },
    {
      "name": "import-user-data",
      "pattern": "/import-user-data",
      "acceptedVerbs": "POST",
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notes",
          "taskModule": "firebaseRtbSet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/notes/{{default data.auth.uid 'no-such-profile'}}",
            "setOrUpdate": "update",
            "dataTemplate": ">context.metaData.handlebars.templates.account_import-notes"
          }
        },
        {
          "name": "dynamic_notifications_task",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "data",
            "parseJson": true,
            "template": ">context.metaData.handlebars.templates.account_dynamic-notifications-task"
          }
        },
        "data.dynamic_notifications_task",
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": "Imported"
          }
        }
      ]
    },
    {
      "name": "volunteering_search",
      "pattern": "__DISABLED__/volunteering/search",
      "debug": false,
      "metaData": {
        "title": "Volunteer Scotland Search",
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "location_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "la_results",
                "index": "geo_lookup",
                "type": "es_district",
                "template": ">context.metaData.handlebars.queries.volunteering_local-authority-areas"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "detailed_results",
                "index": "web-content-production",
                "type": "milo-volunteering-opportunity,goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.volunteering_search-list"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.volunteering_search-head-tags",
                  "body": ">context.metaData.handlebars.templates.volunteering_search",
                  "foot": ">context.metaData.handlebars.templates.volunteering_search-foot",
                  "sidebar": ">context.metaData.handlebars.templates.volunteering_search-form"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "volunteering",
      "pattern": "/volunteering",
      "debug": false,
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "home_latest",
                "index": "web-content-production",
                "type": "milo-volunteering-opportunity",
                "template": ">context.metaData.handlebars.queries.volunteering_home-latest"
              },
              {
                "name": "home_top",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.volunteering_home-top"
              }
            ]
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.volunteering_search-head-tags",
                  "body": ">context.metaData.handlebars.templates.volunteering_home"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "event_search",
      "pattern": "/training",
      "metaData": {
        "sidebarButton": {
          "icon": "search",
          "tooltip": "Search",
          "classes": "hide-md hide-lg"
        }
      },
      "defaultParams": {
        "context": "results"
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "search_data",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "detailed_results",
                "index": "web-content-production",
                "type": "scvo-event",
                "template": ">context.metaData.handlebars.queries.events_search-list"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.events_search-head-tags",
                  "body": ">context.metaData.handlebars.templates.events_search",
                  "sidebar": ">context.metaData.handlebars.templates.events_event-search-form"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "save-notes",
      "pattern": "/save-notes",
      "acceptedVerbs": "POST",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notes",
          "taskModule": "firebaseRtbSet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/notes/{{default data.auth.uid 'no-such-profile'}}/{{request.body.id}}",
            "setOrUpdate": "set",
            "dataTemplate": "{{{stringify (stripTags @root.request.body.notes)}}}"
          }
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": "Saved"
          }
        }
      ]
    },
    {
      "name": "delete-notes",
      "pattern": "/delete-notes",
      "acceptedVerbs": "POST",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notes",
          "taskModule": "firebaseRtbSet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/notes/{{default data.auth.uid 'no-such-profile'}}/{{request.body.id}}",
            "setOrUpdate": "set",
            "dataTemplate": "null"
          }
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": "Deleted"
          }
        }
      ]
    },
    {
      "name": "add-to-shortlist",
      "pattern": "/add-to-shortlist",
      "acceptedVerbs": "GET",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "add_to_shortlist": ">context.metaData.handlebars.queries.notifications_add-to-shortlist"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": "Added {{@root.request.params.query.id}}"
          }
        }
      ]
    },
    {
      "name": "remove-from-shortlist",
      "pattern": "/remove-from-shortlist",
      "acceptedVerbs": "GET",
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "notifications",
          "taskModule": "mysql",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "remove_from_shortlist": ">context.metaData.handlebars.queries.notifications_remove-from-shortlist"
            }
          },
          "renderer": "handlebars"
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "body",
            "template": "Removed {{@root.request.params.query.id}}"
          }
        }
      ]
    },
    {
      "name": "admin",
      "pattern": "/admin",
      "debug": true,
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "isAdmin",
          "taskModule": "firebaseRtbGet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/administrators/{{default data.auth.uid 'no-such-profile'}}",
            "defaultData": false
          }
        },
        {
          "name": "reroute",
          "taskModule": "reroute",
          "config": {
            "if": [
              {
                "var": "data.isAdmin"
              },
              false,
              "home"
            ]
          }
        },
        {
          "name": "email",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "data",
            "template": "{{default request.params.query.email data.auth.email}}"
          }
        },
        {
          "name": "userAuth",
          "taskModule": "firebaseGetUser",
          "config": {
            "appName": "goodmoves",
            "userIdentifier": ">data.email"
          }
        },
        {
          "name": "userAdmin",
          "taskModule": "firebaseRtbGet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/administrators/{{default data.userAuth.uid 'no-such-profile'}}",
            "defaultData": false
          }
        },
        {
          "name": "userNotes",
          "taskModule": "firebaseRtbGet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/notes/{{default data.userAuth.uid 'no-such-profile'}}",
            "defaultData": {}
          }
        },
        {
          "name": "userSubscriptions",
          "taskModule": "mysql",
          "renderer": "handlebars",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "subscriptions": "CALL _getSubscriptions({{{mysqlEscape @root.data.email}}}, NULL, NULL)",
              "logs": "SELECT * FROM logs WHERE email={{{mysqlEscape @root.data.email}}} AND campaign LIKE 'goodmoves%'"
            }
          }
        },
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.admin_head-tags",
                  "body": ">context.metaData.handlebars.templates.admin_index",
                  "foot": ">context.metaData.handlebars.templates.admin_foot"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    },
    {
      "name": "admin_set_administrator",
      "pattern": "/admin/set-administrator",
      "debug": true,
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "isAdmin",
          "taskModule": "firebaseRtbGet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/administrators/{{default data.auth.uid 'no-such-profile'}}",
            "defaultData": false
          }
        },
        {
          "name": "reroute",
          "taskModule": "reroute",
          "config": {
            "if": [
              {
                "var": "data.isAdmin"
              },
              false,
              "home"
            ]
          }
        },
        {
          "name": "updateProfile",
          "taskModule": "firebaseRtbSet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/administrators/{{default @root.request.body.uid 'no-such-profile'}}",
            "setOrUpdate": "set",
            "dataTemplate": "{{#compare @root.request.body.admin 'true'}}true{{else}}null{{/compare}}"
          }
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "template": "{ {{#if @root.errors}}\"errors\": {{{safeStringify @root.errors}}}{{/if}} }",
            "parseJson": true,
            "output": "body"
          }
        }
      ]
    },
    {
      "name": "admin_update_subscription",
      "pattern": "/admin/update-subscription",
      "debug": true,
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "isAdmin",
          "taskModule": "firebaseRtbGet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/administrators/{{default data.auth.uid 'no-such-profile'}}",
            "defaultData": false
          }
        },
        {
          "name": "reroute",
          "taskModule": "reroute",
          "config": {
            "if": [
              {
                "var": "data.isAdmin"
              },
              false,
              "home"
            ]
          }
        },
        {
          "name": "updateSubscription",
          "taskModule": "mysql",
          "renderer": "handlebars",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "subscriptions": "UPDATE subscriptions SET days={{{mysqlEscape (default @root.request.body.days '')}}}, active={{#if @root.request.body.active}}1{{else}}0{{/if}} WHERE campaign={{{mysqlEscape @root.request.body.campaign}}} AND email={{{mysqlEscape @root.request.body.email}}}"
            }
          }
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "template": "{ {{#if @root.errors}}\"errors\": {{{safeStringify @root.errors}}}{{/if}} }",
            "parseJson": true,
            "output": "body"
          }
        }
      ]
    },
    {
      "name": "admin_update_partition",
      "pattern": "/admin/update-partition",
      "debug": true,
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "isAdmin",
          "taskModule": "firebaseRtbGet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/administrators/{{default data.auth.uid 'no-such-profile'}}",
            "defaultData": false
          }
        },
        {
          "name": "reroute",
          "taskModule": "reroute",
          "config": {
            "if": [
              {
                "var": "data.isAdmin"
              },
              false,
              "home"
            ]
          }
        },
        {
          "name": "updateSubscription",
          "taskModule": "mysql",
          "renderer": "handlebars",
          "config": {
            "connectionName": "notifications",
            "queryTemplates": {
              "subscriptions": "UPDATE subscriptionPartitions SET active={{@root.request.body.active}} WHERE campaign={{{mysqlEscape @root.request.body.campaign}}} AND email={{{mysqlEscape @root.request.body.email}}} AND `partition`={{{mysqlEscape @root.request.body.partition}}}"
            }
          }
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "template": "{ {{#if @root.errors}}\"errors\": {{{safeStringify @root.errors}}}{{/if}} }",
            "parseJson": true,
            "output": "body"
          }
        }
      ]
    },
    {
      "name": "admin_delete_note",
      "pattern": "/admin/delete-note",
      "debug": true,
      "tasks": [
        "context.metaData.commonTasks.authRequired",
        {
          "name": "isAdmin",
          "taskModule": "firebaseRtbGet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/administrators/{{default data.auth.uid 'no-such-profile'}}",
            "defaultData": false
          }
        },
        {
          "name": "reroute",
          "taskModule": "reroute",
          "config": {
            "if": [
              {
                "var": "data.isAdmin"
              },
              false,
              "home"
            ]
          }
        },
        {
          "name": "deleteNote",
          "taskModule": "firebaseRtbSet",
          "renderer": "handlebars",
          "config": {
            "appName": "goodmoves",
            "pathTemplate": "/notes/{{default @root.request.body.uid 'no-such-profile'}}/{{@root.request.body.id}}",
            "setOrUpdate": "set",
            "dataTemplate": "null"
          }
        },
        {
          "name": "destination",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "template": "{ \"errors\": {{{safeStringify (default @root.errors null)}}}, \"id\": {{{safeStringify @root.request.body.id}}} }",
            "parseJson": true,
            "output": "body"
          }
        }
      ]
    },
    {
      "name": "email_updates",
      "pattern": "/email-updates",
      "tasks": [
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": "/settings",
            "statusCode": 301
          }
        }
      ]
    },
    {
      "name": "email_preferences",
      "pattern": "/email-preferences",
      "tasks": [
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": "/settings",
            "statusCode": 301
          }
        }
      ]
    },
    {
      "name": "saved_searches",
      "pattern": "/saved-searches",
      "tasks": [
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": "/searches",
            "statusCode": 302
          }
        }
      ]
    },
    {
      "name": "profile",
      "pattern": "/profile",
      "tasks": [
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": "/settings",
            "statusCode": 301
          }
        }
      ]
    },
    {
      "name": "password-reset-handler",
      "pattern": "/__/auth/action",
      "tasks": [
        {
          "name": "generate_url",
          "taskModule": "render",
          "renderer": "handlebars",
          "config": {
            "output": "data",
            "template": "https://auth.goodmoves.com{{{@root.request.url.path}}}"
          }
        },
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": ">data.generate_url",
            "statusCode": 301
          }
        }
      ]
    },
    {
      "name": "sitemap",
      "pattern": "/sitemap.xml",
      "tasks": [
        {
          "name": "supplimentaryResponses",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": [
              {
                "name": "types",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_types"
              },
              {
                "name": "pages",
                "index": "web-content-production",
                "type": "goodmoves-page",
                "template": ">context.metaData.handlebars.queries.pages_sitemap"
              },
              {
                "name": "aggs",
                "index": "web-content-production",
                "type": "goodmoves-vacancy",
                "template": ">context.metaData.handlebars.queries.vacancies_sitemap"
              }
            ]
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.termsMaps",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.data",
                "parts": {
                  "content": ">context.metaData.handlebars.templates.sitemap"
                },
                "contentType": "application/xml"
              }
            }
          }
        }
      ]
    },
    {
      "name": "redirect_register",
      "pattern": "/register",
      "tasks": [
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": "/sign-up",
            "statusCode": 301
          }
        }
      ]
    },
    {
      "name": "redirect_login",
      "pattern": "/login",
      "tasks": [
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": "/sign-in",
            "statusCode": 301
          }
        }
      ]
    },
    {
      "name": "redirect_search",
      "pattern": {
        "one": "/Search/CMS",
        "two": "/Search/CMS/Search",
        "three": "/Search/Home/Search"
      },
      "tasks": [
        {
          "name": "destination",
          "taskModule": "redirect",
          "config": {
            "location": "/search",
            "statusCode": 301
          }
        }
      ]
    },
    {
      "name": "_default",
      "pattern": "/*path",
      "metaData": {
        "hideSearch": true
      },
      "tasks": [
        "context.metaData.commonTasks.authNotRequired",
        {
          "name": "primaryResponse",
          "taskModule": "elasticsearch",
          "config": {
            "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
            "elasticsearchConfig": {
              "apiVersion": "5.6"
            },
            "queryTemplates": {
              "index": "web-content-production",
              "type": "goodmoves-page",
              "template": ">context.metaData.handlebars.queries.pages_page"
            }
          },
          "renderer": "handlebars"
        },
        "context.metaData.commonTasks.supplimentaryResponses",
        {
          "name": "destination",
          "taskModule": "renderLayout",
          "renderer": "handlebars",
          "config": {
            "logic": {
              "if": [
                "default"
              ]
            },
            "output": "body",
            "layouts": {
              "default": {
                "layout": ">context.metaData.handlebars.layouts.default",
                "parts": {
                  "head": ">context.metaData.handlebars.templates.pages_page-head-tags",
                  "body": ">context.metaData.handlebars.templates.pages_page"
                },
                "contentType": "text/html"
              }
            }
          }
        }
      ]
    }
  ],
  "metaData": {
    "assetsVersion": "0.0.2",
    "assetsBase": "https://storage.googleapis.com/scvo-assets/test/goodmoves/",
    "title": "Goodmoves - charity and voluntary sector recruitment",
    "emailCampaignName": "goodmoves-saved-searches",
    "shortlistCampaignName": "goodmoves-shortlist",
    "volunteeringTerms": [
      {
        "label": "For volunteers aged",
        "termGroups": [
          {
            "label": "Other",
            "terms": [
              {
                "label": "18 and over",
                "textBag": "18 19 20 21 22 23 24 25 year old over",
                "key": "18-and-over"
              },
              {
                "label": "16 to 17",
                "textBag": "16 17 year old",
                "key": "16-to-17"
              },
              {
                "label": "12 to 15",
                "textBag": "12 13 14 15 year old",
                "key": "12-to-15"
              },
              {
                "label": "11 and under",
                "textBag": "8 9 10 11 12 under year old",
                "key": "11-and-under"
              }
            ],
            "key": "other"
          }
        ],
        "key": "age_groups"
      },
      {
        "label": "Themes",
        "termGroups": [
          {
            "label": "Advice & advocacy",
            "terms": [
              {
                "label": "Human / Civil Rights / Justice",
                "textBag": "human civil rights justice law",
                "key": "human-civil-rights-justice"
              },
              {
                "label": "Justice / Legal Assistance",
                "textbag": "Justice Legal Assistance",
                "key": "justice-legal-assistance"
              }
            ],
            "key": "advice-advocacy"
          },
          {
            "label": "Anti-Poverty",
            "terms": [
              {
                "label": "Anti-Poverty",
                "textBag": "Anti Poverty",
                "key": "anti-poverty"
              },
              {
                "label": "Homeless / Housing",
                "textBag": "Homeless Housing homelessness",
                "key": "homeless-housing"
              },
              {
                "label": "Low Income Households",
                "textBag": "Low Income Households",
                "key": "low-income-households"
              }
            ],
            "key": "anti-poverty"
          },
          {
            "label": "Arts & culture",
            "terms": [
              {
                "label": "Arts (Music / Drama / Crafts)",
                "textBag": "Arts Music Drama Crafts",
                "key": "arts-music-drama-crafts"
              },
              {
                "label": "Museums / Galleries / Heritage",
                "textBag": "Museums Galleries Heritage museum history",
                "key": "museums-galleries-heritage"
              }
            ],
            "key": "arts-culture"
          },
          {
            "label": "Care & counselling",
            "terms": [
              {
                "label": "Carers",
                "textBag": "Carers",
                "key": "carers"
              },
              {
                "label": "Drugs / Alcohol Issues",
                "textBag": "Drugs Alcohol Issues",
                "key": "drugs-alcohol-issues"
              },
              {
                "label": "Leaving / In Care",
                "textBag": "Leaving In Care",
                "key": "leaving-in-care"
              }
            ],
            "key": "care-counselling"
          },
          {
            "label": "Community",
            "terms": [
              {
                "label": "Local Authority",
                "textBag": "Local Authority",
                "key": "local-authority"
              },
              {
                "label": "Local Community",
                "textBag": "Local Community",
                "key": "local-community"
              },
              {
                "label": "Residents of Disadvantaged Neighbourhoods",
                "textBag": "Residents of Disadvantaged Neighbourhoods",
                "key": "residents-of-disadvantaged-neighbourhoods"
              }
            ],
            "key": "community"
          },
          {
            "label": "Crime & ex-offenders",
            "terms": [
              {
                "label": "Crime / Safety",
                "textBag": "Crime / Safety",
                "key": "crime-safety"
              },
              {
                "label": "Offenders & Ex-Offenders",
                "textBag": "Offenders Ex-Offenders prison",
                "key": "offenders-and-ex-offenders"
              },
              {
                "label": "Victims of Crime",
                "textBag": "Victims of Crime victim support",
                "key": "victims-of-crime"
              }
            ],
            "key": "crime-ex-offenders"
          },
          {
            "label": "Development & emergency relief",
            "terms": [
              {
                "label": "Disaster / Emergencies",
                "textBag": "Disaster Emergencies",
                "key": "disaster-emergencies"
              },
              {
                "label": "Overseas Aid / Developing World",
                "textBag": "Overseas Aid Developing World international",
                "key": "overseas-aid-developing-world"
              }
            ],
            "key": "development-emergency-relief"
          },
          {
            "label": "Disability",
            "terms": [
              {
                "label": "Learning Disabilities",
                "textBag": "Learning Disabilities Autism",
                "key": "learning-disabilities"
              },
              {
                "label": "Physical Disability",
                "textBag": "Physical Disability",
                "key": "physical-disability"
              },
              {
                "label": "Sensory Impairment",
                "textBag": "Sensory Impairment",
                "key": "sensory-impairment"
              }
            ],
            "key": "disability"
          },
          {
            "label": "Education & languages",
            "terms": [
              {
                "label": "Education / Literacy",
                "textBag": "Education Literacy",
                "key": "education-literacy"
              },
              {
                "label": "Literacy Needs",
                "textBag": "Literacy Needs",
                "key": "literacy-needs"
              }
            ],
            "key": "education-languages"
          },
          {
            "label": "Elderly",
            "terms": [
              {
                "label": "Elderly",
                "textBag": "Elderly",
                "key": "elderly"
              },
              {
                "label": "Older People",
                "textBag": "Older People",
                "key": "older-people"
              }
            ],
            "key": "elderly"
          },
          {
            "label": "Environment & animals",
            "terms": [
              {
                "label": "Animals",
                "textBag": "Animals",
                "key": "animals"
              },
              {
                "label": "Environment",
                "textBag": "Environment",
                "key": "environment"
              }
            ],
            "key": "environment-animals"
          },
          {
            "label": "Health",
            "terms": [
              {
                "label": "Health / Hospitals / Hospices",
                "textBag": "Health Hospitals Hospices",
                "key": "health-hospitals-hospices"
              },
              {
                "label": "Mental Health",
                "textBag": "Mental Health",
                "key": "mental-health"
              },
              {
                "label": "People with Ill Health",
                "textBag": "People with Ill Health",
                "key": "people-with-ill-health"
              }
            ],
            "key": "health"
          },
          {
            "label": "Represented groups",
            "terms": [
              {
                "label": "Ethnic Minorities",
                "textBag": "Ethnic Minorities",
                "key": "ethnic-minorities"
              },
              {
                "label": "Families",
                "textBag": "Families",
                "key": "families"
              },
              {
                "label": "Gender / Sexuality",
                "textBag": "Gender Sexuality",
                "key": "gender-sexuality"
              },
              {
                "label": "General Public",
                "textBag": "General Public",
                "key": "general-public"
              },
              {
                "label": "LGBT",
                "textBag": "LGBT LGBTQI",
                "key": "lgbt"
              },
              {
                "label": "Lone Parents",
                "textBag": "Lone Parents",
                "key": "lone-parents"
              },
              {
                "label": "Mens Groups",
                "textBag": "Mens Groups",
                "key": "mens-groups"
              },
              {
                "label": "Parents",
                "textBag": "Parents",
                "key": "parents"
              },
              {
                "label": "Refugees / Asylum Seekers",
                "textBag": "Refugees Asylum Seekers",
                "key": "refugees-asylum-seekers"
              },
              {
                "label": "Womens Groups",
                "textBag": "Womens Groups",
                "key": "womens-groups"
              }
            ],
            "key": "represented-groups"
          },
          {
            "label": "Unemployment",
            "terms": [
              {
                "label": "Tackling Unemployment",
                "textBag": "Tackling Unemployment",
                "key": "tackling-unemployment"
              },
              {
                "label": "Unemployed",
                "textBag": "Unemployed",
                "key": "unemployed"
              }
            ],
            "key": "unemployment"
          },
          {
            "label": "Youth & children",
            "terms": [
              {
                "label": "Children",
                "textBag": "Children",
                "key": "children"
              },
              {
                "label": "Young People",
                "textBag": "Young People",
                "key": "young-people"
              }
            ],
            "key": "youth-children"
          },
          {
            "label": "Other",
            "terms": [
              {
                "label": "Religion / Faith",
                "textBag": "Religion Faith",
                "key": "religion-faith"
              },
              {
                "label": "Sport / Outdoor Activities",
                "textBag": "Sport Outdoor Activities",
                "key": "sport-outdoor-activities"
              }
            ],
            "key": "other"
          }
        ],
        "key": "themes"
      },
      {
        "label": "Activities",
        "termGroups": [
          {
            "label": "Administrative & managerial",
            "terms": [
              {
                "label": "Administrative / Office Work",
                "textBag": "Administrative Office Work admin assistant administration office receptionist",
                "key": "administrative-office-work"
              },
              {
                "label": "Committee Work",
                "textBag": "Committee Work board member treasurer trustee",
                "key": "committee-work"
              },
              {
                "label": "Computing",
                "textBag": "Computing computer computing it web website",
                "key": "computing"
              },
              {
                "label": "Finance / Accountancy",
                "textBag": "Finance Accountancy finance accounts",
                "key": "finance-accountancy"
              },
              {
                "label": "Library / Information Management",
                "textBag": "Library Information Management",
                "key": "library-information-management"
              },
              {
                "label": "Management / Business Skills",
                "textBag": "Management Business Skills",
                "key": "management-business-skills"
              },
              {
                "label": "Marketing / PR / Media",
                "textBag": "Marketing PR Media marketing social media radio photographer photography writing",
                "key": "marketing-pr-media"
              },
              {
                "label": "Research / Policy Work",
                "textBag": "Research Policy Work",
                "key": "research-policy-work"
              }
            ],
            "key": "administrative-managerial"
          },
          {
            "label": "Advice & advocacy",
            "terms": [
              {
                "label": "Advice / Information Giving",
                "textBag": "Advice Information Giving",
                "key": "advice-information-giving"
              },
              {
                "label": "Advocacy / Human Rights",
                "textBag": "Advocacy Human Rights",
                "key": "advocacy-human-rights"
              },
              {
                "label": "Campaigning / Lobbying",
                "textBag": "Campaigning Lobbying",
                "key": "campaigning-lobbying"
              },
              {
                "label": "Equal Opportunities / Race Relations",
                "textBag": "Equal Opportunities Race Relations",
                "key": "equal-opportunities-race-relations"
              },
              {
                "label": "Justice / Legal Assistance",
                "textBag": "Justice Legal Assistance",
                "key": "justice-legal-assistance"
              }
            ],
            "key": "advice-advocacy"
          },
          {
            "label": "Care & counselling",
            "terms": [
              {
                "label": "Befriending / Mentoring",
                "textBag": "Befriending Mentoring befriender mentor",
                "key": "befriending-mentoring"
              },
              {
                "label": "Care / Support Worker",
                "textBag": "Care Support Worker",
                "key": "care-support-worker"
              },
              {
                "label": "Counselling",
                "textBag": "Counselling counsellor",
                "key": "counselling"
              }
            ],
            "key": "care-counselling"
          },
          {
            "label": "Development & emergency relief",
            "terms": [
              {
                "label": "Community / Economic Development",
                "textBag": "Community Economic Development",
                "key": "community-economic-development"
              },
              {
                "label": "Disaster / Emergency Relief",
                "textBag": "Disaster Emergency Relief",
                "key": "disaster-emergency-relief"
              }
            ],
            "key": "development-emergency-relief"
          },
          {
            "label": "Education & languages",
            "terms": [
              {
                "label": "Languages / Translating",
                "textBag": "Languages Translating spanish german french",
                "key": "languages-translating"
              },
              {
                "label": "Tutoring / Supporting Learners",
                "textBag": "Tutoring Supporting Learners tutor training",
                "key": "tutoring-supporting-learners"
              }
            ],
            "key": "education-languages"
          },
          {
            "label": "Specialist & practical",
            "terms": [
              {
                "label": "Catering",
                "textBag": "Catering",
                "key": "catering"
              },
              {
                "label": "Charity Shops / Retail",
                "textBag": "Charity Shops Retail",
                "key": "charity-shops-retail"
              },
              {
                "label": "Conservation / Gardening",
                "textBag": "Conservation Gardening allotment garden",
                "key": "conservation-gardening"
              },
              {
                "label": "Driving / Escorting",
                "textBag": "Driving Escorting driver",
                "key": "driving-escorting"
              },
              {
                "label": "Fundraising",
                "textBag": "Fundraising funding",
                "key": "fundraising"
              },
              {
                "label": "Practical / DIY",
                "textBag": "Practical DIY",
                "key": "practical-diy"
              },
              {
                "label": "Specialist / Technical",
                "textBag": "Specialist Technical physiotherapy complementary therapist massage therapist",
                "key": "specialist-technical"
              }
            ],
            "key": "specialist-practical"
          },
          {
            "label": "Youth & children",
            "terms": [
              {
                "label": "Playschemes / Childrens Clubs",
                "textBag": "Playschemes / Childrens Clubs",
                "key": "playschemes-childrens-clubs"
              },
              {
                "label": "Volunteering for under 16s",
                "textBag": "Volunteering for under 16 15 14 13 12 11 year old",
                "key": "volunteering-for-under-16s"
              },
              {
                "label": "Youth Work",
                "textBag": "Youth Work",
                "key": "youth-work"
              }
            ],
            "key": "youth-children"
          },
          {
            "label": "Other",
            "terms": [
              {
                "label": "Arts (Music / Drama / Crafts)",
                "textBag": "Arts (Music / Drama / Crafts)",
                "key": "arts-music-drama-crafts"
              },
              {
                "label": "Events",
                "textBag": "Events",
                "key": "events"
              },
              {
                "label": "Miscellaneous",
                "textBag": "Miscellaneous",
                "key": "miscellaneous"
              },
              {
                "label": "Online Volunteering",
                "textBag": "Online Volunteering",
                "key": "online-volunteering"
              },
              {
                "label": "Residential Volunteering",
                "textBag": "Residential Volunteering",
                "key": "residential-volunteering"
              },
              {
                "label": "Short-Term / Seasonal Working",
                "textBag": "Short-Term / Seasonal Working",
                "key": "short-term-seasonal-working"
              },
              {
                "label": "Sports / Outdoor Activities",
                "textBag": "Sports / Outdoor Activities",
                "key": "sports-outdoor-activities"
              }
            ],
            "key": "other"
          }
        ],
        "key": "activities"
      },
      {
        "label": "Services",
        "termGroups": [
          {
            "label": "Other",
            "terms": [
              {
                "label": "Childcare",
                "textBag": "Childcare",
                "key": "childcare"
              },
              {
                "label": "Expenses Paid",
                "textBag": "Expenses Paid",
                "key": "expenses-paid"
              },
              {
                "label": "Named Contact For Volunteer",
                "textBag": "Named Contact For Volunteer",
                "key": "named-contact-for-volunteer"
              },
              {
                "label": "Taster Available",
                "textBag": "Taster Available",
                "key": "taster-available"
              },
              {
                "label": "Wheelchair Access/Disabled Access Toilet",
                "textBag": "Wheelchair Access/Disabled Access Toilet",
                "key": "wheelchair-access-disabled-access-toilet"
              }
            ],
            "key": "other"
          }
        ],
        "key": "services"
      },
      {
        "label": "Specialist roles",
        "termGroups": [
          {
            "label": "Other",
            "terms": [
              {
                "label": "Board/trustee role",
                "textBag": "Board trustee role",
                "key": "board-trustee-role"
              },
              {
                "label": "Home-based volunteering",
                "textBag": "Home-based volunteering",
                "key": "home-based-volunteering"
              },
              {
                "label": "One-off volunteering",
                "textBag": "One-off volunteering",
                "key": "one-off-volunteering"
              },
              {
                "label": "Suitable for groups",
                "textBag": "Suitable for groups",
                "key": "suitable-for-groups"
              }
            ],
            "key": "other"
          }
        ],
        "key": "volunteersearch_types"
      },
      {
        "label": "Availability",
        "termGroups": [
          {
            "label": "Monday",
            "terms": [
              {
                "label": "Monday Morning",
                "textBag": "monday morning",
                "key": "monday-morning"
              },
              {
                "label": "Monday Afternoon",
                "textBag": "monday afternoon",
                "key": "monday-afternoon"
              },
              {
                "label": "Monday Evening",
                "textBag": "monday evening",
                "key": "monday-evening"
              }
            ],
            "key": "monday"
          },
          {
            "label": "Tuesday",
            "terms": [
              {
                "label": "Tuesday Morning",
                "textBag": "tuesday morning",
                "key": "tuesday-morning"
              },
              {
                "label": "Tuesday Afternoon",
                "textBag": "tuesday afternoon",
                "key": "tuesday-afternoon"
              },
              {
                "label": "Tuesday Evening",
                "textBag": "tuesday evening",
                "key": "tuesday-evening"
              }
            ],
            "key": "tuesday"
          },
          {
            "label": "Wednesday",
            "terms": [
              {
                "label": "Wednesday Morning",
                "textBag": "wednesday morning",
                "key": "wednesday-morning"
              },
              {
                "label": "Wednesday Afternoon",
                "textBag": "wednesday afternoon",
                "key": "wednesday-afternoon"
              },
              {
                "label": "Wednesday Evening",
                "textBag": "wednesday evening",
                "key": "wednesday-evening"
              }
            ],
            "key": "wednesday"
          },
          {
            "label": "Thursday",
            "terms": [
              {
                "label": "Thursday Morning",
                "textBag": "thursday morning",
                "key": "thursday-morning"
              },
              {
                "label": "Thursday Afternoon",
                "textBag": "thursday afternoon",
                "key": "thursday-afternoon"
              },
              {
                "label": "Thursday Evening",
                "textBag": "thursday evening",
                "key": "thursday-evening"
              }
            ],
            "key": "thursday"
          },
          {
            "label": "Friday",
            "terms": [
              {
                "label": "Friday Morning",
                "textBag": "friday morning",
                "key": "friday-morning"
              },
              {
                "label": "Friday Afternoon",
                "textBag": "friday afternoon",
                "key": "friday-afternoon"
              },
              {
                "label": "Friday Evening",
                "textBag": "friday evening",
                "key": "friday-evening"
              }
            ],
            "key": "friday"
          },
          {
            "label": "Saturday",
            "terms": [
              {
                "label": "Saturday Morning",
                "textBag": "saturday morning",
                "key": "saturday-morning"
              },
              {
                "label": "Saturday Afternoon",
                "textBag": "saturday afternoon",
                "key": "saturday-afternoon"
              },
              {
                "label": "Saturday Evening",
                "textBag": "saturday evening",
                "key": "saturday-evening"
              }
            ],
            "key": "saturday"
          },
          {
            "label": "Sunday",
            "terms": [
              {
                "label": "Sunday Morning",
                "textBag": "sunday morning",
                "key": "sunday-morning"
              },
              {
                "label": "Sunday Afternoon",
                "textBag": "sunday afternoon",
                "key": "sunday-afternoon"
              },
              {
                "label": "Sunday Evening",
                "textBag": "sunday evening",
                "key": "sunday-evening"
              }
            ],
            "key": "sunday"
          }
        ],
        "key": "availability"
      },
      {
        "label": "Advertised Areas",
        "noSearchFilter": true,
        "termGroups": [
          {
            "label": "Other",
            "terms": [
              {
                "label": "Aberdeen",
                "key": "aberdeen"
              },
              {
                "label": "Aberdeenshire",
                "key": "aberdeenshire"
              },
              {
                "label": "Angus",
                "key": "angus"
              },
              {
                "label": "Argyll & Bute",
                "key": "argyll-bute"
              },
              {
                "label": "Clackmannanshire",
                "key": "clackmannanshire"
              },
              {
                "label": "Dumfries & Galloway",
                "key": "dumfries-galloway"
              },
              {
                "label": "Dundee",
                "key": "dundee"
              },
              {
                "label": "East Ayrshire",
                "key": "east-ayrshire"
              },
              {
                "label": "East Dunbartonshire",
                "key": "east-dunbartonshire"
              },
              {
                "label": "East Lothian",
                "key": "east-lothian"
              },
              {
                "label": "East Renfrewshire",
                "key": "east-renfrewshire"
              },
              {
                "label": "Edinburgh",
                "key": "edinburgh"
              },
              {
                "label": "Falkirk",
                "key": "falkirk"
              },
              {
                "label": "Fife",
                "key": "fife"
              },
              {
                "label": "Glasgow",
                "key": "glasgow"
              },
              {
                "label": "Highland",
                "key": "highland"
              },
              {
                "label": "Inverclyde",
                "key": "inverclyde"
              },
              {
                "label": "Midlothian",
                "key": "midlothian"
              },
              {
                "label": "Moray",
                "key": "moray"
              },
              {
                "label": "Na h-Eileanan Siar",
                "key": "na-h-eileanan-siar"
              },
              {
                "label": "North Ayrshire",
                "key": "north-ayrshire"
              },
              {
                "label": "North Lanarkshire",
                "key": "north-lanarkshire"
              },
              {
                "label": "Orkney",
                "key": "orkney"
              },
              {
                "label": "Perth & Kinross",
                "key": "perth-kinross"
              },
              {
                "label": "Renfrewshire",
                "key": "renfrewshire"
              },
              {
                "label": "Scottish Borders",
                "key": "scottish-borders"
              },
              {
                "label": "Shetland",
                "key": "shetland"
              },
              {
                "label": "South Ayrshire",
                "key": "south-ayrshire"
              },
              {
                "label": "South Lanarkshire",
                "key": "south-lanarkshire"
              },
              {
                "label": "Stirling",
                "key": "stirling"
              },
              {
                "label": "West Dunbartonshire",
                "key": "west-dunbartonshire"
              },
              {
                "label": "West Lothian",
                "key": "west-lothian"
              }
            ],
            "key": "other"
          }
        ],
        "key": "advertised_areas"
      }
    ],
    "menus": {
      "main": [
        {
          "label": "Jobs",
          "icon": "search",
          "path": "/search",
          "route": "^/search$|^/map|^/vacancy"
        },
        {
          "label": "Browse",
          "icon": "list-alt",
          "path": "/browse",
          "route": "^/browse$"
        }
      ],
      "main-extra": [
        {
          "label": "Advice",
          "icon": "question-circle",
          "path": "/advice",
          "route": "^/advice"
        }
      ],
      "upper-not-signed-in": [
        {
          "label": "Jobs by email",
          "icon": "envelope",
          "path": "/jobs-by-email",
          "route": "^/jobs-by-email"
        }
      ],
      "upper-signed-in": [
        {
          "label": "Jobs by email",
          "icon": "envelope",
          "path": "/searches",
          "route": "^/searches"
        }
      ],
      "upper": [
        {
          "label": "Recruiting?",
          "icon": "clipboard-list",
          "path": "/recruitment",
          "route": "^/recruitment"
        },
        {
          "label": "Training",
          "icon": "graduation-cap",
          "path": "/training",
          "route": "^/training"
        },
        {
          "label": "Volunteering",
          "icon": "hands-helping",
          "path": "/volunteering",
          "route": "^/volunteering"
        },
        {
          "label": "",
          "icon": "hands-helping",
          "path": "/volunteering",
          "route": "^/volunteering"
        },
        {
          "label": "Contact",
          "icon": "at",
          "path": "/contact",
          "route": "^/contact"
        }
      ],
      "user-signed-in": [
        {
          "label": "Home",
          "icon": "home",
          "path": "/",
          "route": "^/$"
        },
        {
          "label": "Shortlist",
          "icon": "star",
          "path": "/shortlist",
          "route": "^/shortlist"
        },
        {
          "label": "Searches &amp; email",
          "icon": "search-plus",
          "path": "/searches",
          "route": "^/searches"
        },
        {
          "label": "Notes",
          "icon": "edit",
          "path": "/notes",
          "route": "^/notes"
        },
        {
          "label": "Settings",
          "icon": "cog",
          "path": "/settings",
          "route": "^/settings"
        },
        {
          "label": "Sign out",
          "icon": "sign-out-alt",
          "path": "/sign-out",
          "route": "^/sign-out"
        }
      ],
      "user-not-signed-in": [
        {
          "label": "Sign in",
          "icon": "sign-in-alt",
          "path": "/sign-in",
          "route": "^/sign-in"
        },
        {
          "label": "Sign up",
          "icon": "list-alt",
          "path": "/sign-up",
          "route": "^/sign-up"
        }
      ],
      "footer-help": [
        {
          "label": "Contact",
          "icon": "at",
          "path": "/contact",
          "route": "^/contact"
        },
        {
          "label": "Change country",
          "icon": "globe",
          "path": "/change-country",
          "route": "^/change-country"
        }
      ],
      "footer-info": [
        {
          "label": "Recruitment",
          "icon": "handshake",
          "path": "/recruitment",
          "route": "^/recruitment"
        },
        {
          "label": "Advertise",
          "icon": "bullhorn",
          "path": "/advertise",
          "route": "^/advertise"
        },
        {
          "label": "Privacy",
          "icon": "lock-alt",
          "path": "/privacy",
          "route": "^/privacy"
        },
        {
          "label": "Cookies",
          "icon": "cookie",
          "path": "/cookies",
          "route": "^/cookies"
        }
      ]
    },
    "termTypeLabels": {
      "working_patterns": {
        "singular": "Working pattern",
        "plural": "Working patterns"
      },
      "regions": {
        "singular": "Region",
        "plural": "Regions"
      },
      "roles": {
        "singular": "Role",
        "plural": "Roles"
      },
      "sectors": {
        "singular": "Sector",
        "plural": "Sectors"
      },
      "age_groups": {
        "singular": "For volunteers aged",
        "plural": "For volunteers aged"
      },
      "availability": {
        "singular": "Availability",
        "plural": "Availability"
      },
      "services": {
        "singular": "Services",
        "plural": "Services"
      },
      "types": {
        "singular": "Type",
        "plural": "Types"
      },
      "activities": {
        "singular": "Activity",
        "plural": "Activities"
      },
      "organisation_activities": {
        "singular": "Activity",
        "plural": "Activities"
      },
      "themes": {
        "singular": "Theme",
        "plural": "Themes"
      }
    },
    "handlebars": {
      "partials": {
        "account_sign_in_social": "<div class=\"button-row\">\n  <button class=\"mdc-button mdc-ripple-surface mdc-ripple-surface--primary\" id=\"continue-with-google\" type=\"button\">\n    <span class=\"fab fa-2x google-logo\"><img src=\"https://storage.googleapis.com/scvo-assets/test/goodmoves/images/logos/g-logo.png\" /></span> Sign in with Google\n  </button>\n  <button class=\"mdc-button mdc-ripple-surface mdc-ripple-surface--primary\" id=\"continue-with-twitter\" type=\"button\">\n    <span class=\"fab fa-twitter-square fa-2x\"></span> Sign in with Twitter\n  </button>\n  <button class=\"mdc-button mdc-ripple-surface mdc-ripple-surface--primary\" id=\"continue-with-facebook\" type=\"button\">\n    <span class=\"fab fa-facebook-square fa-2x\"></span> Sign in with Facebook\n  </button>\n</div>\n\n<script>\n  document.addEventListener(\"DOMContentLoaded\", function(event) {\n    var $message = $('{{messageSelector}}');\n    var $loader = $('{{loaderSelector}}');\n    var $google = $('#continue-with-google');\n    var $twitter = $('#continue-with-twitter');\n    var $facebook = $('#continue-with-facebook');\n\n    $google.on('click', function(evt) { socialSignIn('google'); });\n    $facebook.on('click', function(evt) { socialSignIn('facebook'); });\n    $twitter.on('click', function(evt) { socialSignIn('twitter'); });\n\n    function socialSignIn(providerName) {\n      $loader.show();\n      goodmoves.auth.signInProvider(providerName).then(function(user) {\n        console.log('Registered user:', user);\n        window.location.href = '{{{@root.request.headers.referer}}}';\n      }).catch(function(err) {\n        console.error(err);\n        $message.text(err.message).show();\n        $loader.css('display', 'none');\n      });\n    }\n  });\n</script>",
        "account_sign_out_loader": "<form id=\"sign-out-form\" method=\"POST\" class=\"sign-in-form sign-out-form\">\n  <div class=\"mdc-card mdc-elevation--z0\">\n    <div class=\"card-loader\" id=\"sign-out-loader\">\n      <div class=\"card-loader-inner\">\n        <span class=\"far fa-2x fa-circle-notch fa-spin\"></span>\n      </div>\n    </div>\n  </div>\n</form>",
        "ajax_chip": "{{#with (parse (@partial-block))}}\n  <div class=\"mdc-chip {{if ../on \"mdc-chip--selected\"}}\" {{{extraAttributes}}} data-ajax-chip='{\n      \"onUrl\": \"{{../onUrl}}\",\n      \"offUrl\": \"{{../offUrl}}\",\n      \"onMethod\": \"{{default ../onMethod \"GET\"}}\",\n      \"offMethod\": \"{{default ../offMethod \"GET\"}}\",\n      {{#if onData}}\n        \"onData\": {{{stringify onData}}},\n      {{/if}}\n      {{#if offData}}\n        \"offData\": {{{stringify offData}}},\n      {{/if}}\n      {{#if onClasses}}\n      \"onClasses\": {{{stringify onClasses}}},\n      {{/if}}\n      {{#if offClasses}}\n      \"offClasses\": {{{stringify offClasses}}},\n      {{/if}}\n      \"onText\": \"{{../onText}}\",\n      \"offText\": \"{{../offText}}\"\n    }'>\n    <span class=\"{{../iconClasses}} mdc-chip__icon mdc-chip__icon--leading {{if ../on \"mdc-chip__icon--leading-hidden\"}}\" aria-hidden=\"true\"></span>\n    <div class=\"mdc-chip__checkmark\">\n      <svg class=\"mdc-chip__checkmark-svg\" viewBox=\"-2 -3 30 30\">\n        <path class=\"mdc-chip__checkmark-path\" fill=\"none\" stroke=\"#ffffff\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"/>\n      </svg>\n    </div>\n    <div class=\"mdc-chip__text noselect\">{{if ../on ../onText else=../offText}}</div>\n  </div>\n{{/with}}",
        "asset_url": "{{~#if @root.context.metaData.live~}}\n{{@root.context.metaData.assetsBase}}{{{replace url \"VERSION\" @root.context.metaData.assetsVersion}}}\n{{~else~}}\n/assets/{{{url}}}\n{{~/if~}}",
        "banner_ad": "{{#compare @root.data.supplimentaryResponses.banner.hits.total \">\" 0 ~}}\n{{#with @root.data.supplimentaryResponses.banner.hits.hits.[0]._source ~}}\n<div class=\"x-items\">\n  <a href=\"{{url}}\" class=\"x-item mdc-theme--secondary-bg mdc-elevation--z1\" target=\"_blank\">\n    <img class=\"responsive-img\" src=\"{{og_image}}\" alt=\"{{title}}\" height=\"90\">\n  </a>\n</div>\n{{/with ~}}\n{{/compare ~}}",
        "browse_volunteering": "<div class=\"mdc-layout-grid home-content-primary\">\n  <div class=\"mdc-layout-grid__inner\">\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n      <div class=\"browse-title browse-title-roles mdc-typography--headline6\">\n        Themes\n      </div>\n      <ul class=\"mdc-list themes\">\n        {{#each (filter @root.context.metaData.volunteeringTerms \"key\" \"===\" \"themes\")}}\n        {{#each termGroups ~}}\n        <li class=\"mdc-typography--body2 t-margin\">{{{label}}}</li>\n        {{#each terms ~}}\n        <a class=\"mdc-list-item\" href=\"https://search.volunteerscotland.net/search?themes={{urlencode key}}&utm_source=Goodmoves\" role=\"menuitem\">\n          <span class=\"mdc-list-item__text\">\n            {{{label}}}\n          </span>\n        </a>\n        {{/each ~}}\n        {{/each ~}}\n        {{/each ~}}\n      </ul>\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n      <div class=\"browse-title browse-title-activities mdc-typography--headline6\">\n        Activities\n      </div>\n      <ul class=\"mdc-list activities\">\n        {{#each (filter @root.context.metaData.volunteeringTerms \"key\" \"===\" \"activities\")}}\n        {{#each termGroups ~}}\n        <li class=\"mdc-typography--body2 t-margin\">{{{label}}}</li>\n        {{#each terms ~}}\n        <a class=\"mdc-list-item\" href=\"https://search.volunteerscotland.net/search?activities={{urlencode key}}&utm_source=Goodmoves\" role=\"menuitem\">\n          <span class=\"mdc-list-item__text\">\n            {{{label}}}\n          </span>\n        </a>\n        {{/each ~}}\n        {{/each ~}}\n        {{/each ~}}\n      </ul>\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n      <div class=\"browse-title browse-title-areas mdc-typography--headline6\">\n        Areas\n      </div>\n      <ul class=\"mdc-list areas t-margin\">\n        {{#each (filter @root.context.metaData.volunteeringTerms \"key\" \"===\" \"advertised_areas\")}}\n        {{#each termGroups~}}\n        {{#each terms}}\n        {{#if key ~}}\n        <a class=\"mdc-list-item\" href=\"https://search.volunteerscotland.net/opportunities-in/{{key}}?utm_source=Goodmoves\" role=\"menuitem\">\n          <span class=\"mdc-list-item__text\">\n            {{{label}}}\n          </span>\n        </a>\n        {{/if ~}}\n        {{/each}}\n        {{/each ~}}\n        {{/each ~}}\n      </ul>\n    </div>\n  </div>\n</div>",
        "browse": "{{#compare @root.data.supplimentaryResponses.types.hits.total \">\" 0 ~}}\n<div class=\"mdc-layout-grid home-content-primary\">\n  <div class=\"mdc-layout-grid__inner\">\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n      <div class=\"browse-title browse-title-roles mdc-typography--headline5\">\n        Roles\n      </div>\n      <ul class=\"mdc-list\">\n        {{#each @root.data.supplimentaryResponses.types.aggregations.roles.buckets ~}}\n          {{#if key ~}}\n            <a class=\"mdc-list-item\" href=\"/search?roles%5B%5D={{urlencode (slugify (replace key \"/\" \"-\"))}}\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default ../eventContext \"category-browser\"}}', event_label: 'Role: {{slugify (replace key \"/\" \"-\")}}' })\">\n              <span class=\"mdc-list-item__text\">\n                {{{key}}}\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{doc_count}} vacancies\">\n                {{doc_count}}\n              </span>\n            </a>\n          {{/if ~}}\n        {{/each ~}}\n      </ul>\n\n      <div class=\"browse-title browse-title-working-patterns mdc-typography--headline5\">\n        Working patterns\n      </div>\n      <ul class=\"mdc-list\">\n        {{#each @root.data.supplimentaryResponses.types.aggregations.working_patterns.buckets ~}}\n          {{#if key ~}}\n            <a class=\"mdc-list-item\" href=\"/search?working_patterns%5B%5D={{urlencode (slugify (replace key \"/\" \"-\"))}}\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default ../eventContext \"category-browser\"}}', event_label: 'Working pattern: {{slugify (replace key \"/\" \"-\")}}' })\">\n              <span class=\"mdc-list-item__text\">\n                {{{key}}}\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{doc_count}} vacancies\">\n                {{doc_count}}\n              </span>\n            </a>\n          {{/if ~}}\n        {{/each ~}}\n      </ul>\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n      <div class=\"browse-title browse-title-sectors mdc-typography--headline5\">\n        Sectors\n      </div>\n      <ul class=\"mdc-list\">\n        {{#each @root.data.supplimentaryResponses.types.aggregations.sectors.buckets ~}}\n          {{#if key ~}}\n            <a class=\"mdc-list-item\" href=\"/search?sectors%5B%5D={{urlencode (slugify (replace key \"/\" \"-\"))}}\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default ../eventContext \"category-browser\"}}', event_label: 'Sector: {{slugify (replace key \"/\" \"-\")}}' })\">\n              <span class=\"mdc-list-item__text\">\n                {{{key}}}\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{doc_count}} vacancies\">\n                {{doc_count}}\n              </span>\n            </a>\n          {{/if ~}}\n        {{/each ~}}\n      </ul>\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n      <div class=\"browse-title browse-title-regions mdc-typography--headline5\">\n        Regions\n      </div>\n      <ul class=\"mdc-list\">\n        {{#compare (length @root.data.supplimentaryResponses.types_regions.aggregations.regions.buckets) \">\" 0 ~}}\n        <li class=\"mdc-list-item mdc-list-item--0\">\n          <h3 class=\"mdc-typography--headline7\">Scotland</h3>\n        </li>\n        {{#each @root.data.supplimentaryResponses.types_regions.aggregations.regions.buckets ~}}\n          {{#if key ~}}\n            <a class=\"mdc-list-item\" href=\"/search?regions%5B%5D={{urlencode (slugify (replace key \"/\" \"-\"))}}\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default ../../eventContext \"category-browser\"}}', event_label: 'Region: {{slugify (replace key \"/\" \"-\")}}' })\">\n              <span class=\"mdc-list-item__text\">\n                {{{key}}}\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{doc_count}} vacancies\">\n                {{doc_count}}\n              </span>\n            </a>\n          {{/if ~}}\n        {{/each ~}}\n        {{/compare ~}}\n        {{#compare (length @root.data.supplimentaryResponses.types_regions_england.aggregations.regions.buckets) \">\" 0 ~}}\n        <li class=\"mdc-list-item mdc-list-item--1\">\n          <h3 class=\"mdc-typography--headline7\">England</h3>\n        </li>\n        {{#each @root.data.supplimentaryResponses.types_regions_england.aggregations.regions.buckets ~}}\n          {{#if key ~}}\n            <a class=\"mdc-list-item\" href=\"/search?regions%5B%5D={{urlencode (slugify (replace key \"/\" \"-\"))}}\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default ../../eventContext \"category-browser\"}}', event_label: 'Region: {{slugify (replace key \"/\" \"-\")}}' })\">\n              <span class=\"mdc-list-item__text\">\n                {{{key}}}\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{doc_count}} vacancies\">\n                {{doc_count}}\n              </span>\n            </a>\n          {{/if ~}}\n        {{/each ~}}\n        {{/compare ~}}\n        {{#compare (length @root.data.supplimentaryResponses.types_regions_northern_ireland.aggregations.regions.buckets) \">\" 0 ~}}\n        <li class=\"mdc-list-item mdc-list-item--2\">\n          <h3 class=\"mdc-typography--headline7\">Northern Ireland</h3>\n        </li>\n        {{#each @root.data.supplimentaryResponses.types_regions_northern_ireland.aggregations.regions.buckets ~}}\n          {{#if key ~}}\n            <a class=\"mdc-list-item\" href=\"/search?regions%5B%5D={{urlencode (slugify (replace key \"/\" \"-\"))}}\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default ../../eventContext \"category-browser\"}}', event_label: 'Region: {{slugify (replace key \"/\" \"-\")}}' })\">\n              <span class=\"mdc-list-item__text\">\n                {{{key}}}\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{doc_count}} vacancies\">\n                {{doc_count}}\n              </span>\n            </a>\n          {{/if ~}}\n        {{/each ~}}\n        {{/compare ~}}\n        {{#compare (length @root.data.supplimentaryResponses.types_regions_wales.aggregations.regions.buckets) \">\" 0 ~}}\n        <li class=\"mdc-list-item mdc-list-item--3\">\n          <h3 class=\"mdc-typography--headline7\">Wales</h3>\n        </li>\n        {{#each @root.data.supplimentaryResponses.types_regions_wales.aggregations.regions.buckets ~}}\n          {{#if key ~}}\n            <a class=\"mdc-list-item\" href=\"/search?regions%5B%5D={{urlencode (slugify (replace key \"/\" \"-\"))}}\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default ../../eventContext \"category-browser\"}}', event_label: 'Region: {{slugify (replace key \"/\" \"-\")}}' })\">\n              <span class=\"mdc-list-item__text\">\n                {{{key}}}\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{doc_count}} vacancies\">\n                {{doc_count}}\n              </span>\n            </a>\n          {{/if ~}}\n        {{/each ~}}\n        {{/compare ~}}\n\n        {{#ifAny (length @root.data.supplimentaryResponses.types.aggregations.home_based.buckets) (length @root.data.supplimentaryResponses.types.aggregations.various_locations.buckets) ~}}\n          <li class=\"mdc-list-item mdc-list-item--other\">\n            <h3 class=\"mdc-typography--headline7\">Other</h3>\n          </li>\n          {{#compare (length @root.data.supplimentaryResponses.types.aggregations.various_locations.buckets) \">=\" 1 ~}}\n            <a class=\"mdc-list-item\" href=\"/search?various_locations%5B%5D=true\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default eventContext \"category-browser\"}}', event_label: 'Various locations' })\">\n              <span class=\"mdc-list-item__text\">\n                Various locations\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{@root.data.supplimentaryResponses.types.aggregations.various_locations.buckets.0.doc_count}} vacancies\">\n                {{@root.data.supplimentaryResponses.types.aggregations.various_locations.buckets.0.doc_count}}\n              </span>\n            </a>\n          {{/compare ~}}\n          {{#compare (length @root.data.supplimentaryResponses.types.aggregations.home_based.buckets) \">=\" 1 ~}}\n            <a class=\"mdc-list-item\" href=\"/search?home_based%5B%5D=true\" role=\"menuitem\" onclick=\"gtag('event', 'navigation', { event_category: '{{default eventContext \"category-browser\"}}', event_label: 'Home-based' })\">\n              <span class=\"mdc-list-item__text\">\n                Home-based\n              </span>\n              <span class=\"mdc-list-item__meta\" aria-label=\"{{@root.data.supplimentaryResponses.types.aggregations.home_based.buckets.0.doc_count}} vacancies\">\n                {{@root.data.supplimentaryResponses.types.aggregations.home_based.buckets.0.doc_count}}\n              </span>\n            </a>\n          {{/compare ~}}\n        {{/ifAny ~}}\n      </ul>\n    </div>\n  </div>\n</div>\n{{else}}\n<div class=\"home-content-primary\">\n  <div class=\"content page-content\">\n    <div class=\"browse-title mdc-typography--headline5\">\n      No jobs are currently listed\n    </div>\n  </div>\n</div>\n{{/compare ~}}",
        "components_advanced_checkbox_checkbox": "  <div class=\"mdc-checkbox mdc-list-item__meta\">\n    <input type=\"checkbox\" class=\"mdc-checkbox__native-control\"\n        {{#unless hideName}}name=\"{{name}}\"{{/unless}} value=\"{{value}}\"\n        id=\"cb-{{name}}-{{value}}\" {{#if checked}}checked{{/if}}\n        aria-labelledby=\"li-{{name}}-{{value}}\">\n    <div class=\"mdc-checkbox__background\">\n      <svg class=\"mdc-checkbox__checkmark\" viewBox=\"0 0 24 24\">\n        <path class=\"mdc-checkbox__checkmark-path\" fill=\"none\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"/>\n      </svg>\n      <div class=\"mdc-checkbox__mixedmark\"></div>\n    </div>\n  </div>",
        "components_advanced_checkbox_group": "<li class=\"mdc-list-item checkbox-list-parent {{#if hideParent}}checkbox-list-parent-hidden{{/if}}\" data-advanced-checkbox-group=\"{{name}}\"\n    role=\"checkbox\" aria-checked=\"false\" id=\"li-{{name}}-{{value}}\">\n  <label class=\"mdc-list-item__text\" for=\"cb-{{name}}-{{value}}\">\n    {{label}}\n    <span class=\"checkbox-list-indicator\" data-advanced-checkbox-group-indicator></span>\n  </label>\n  {{> components_advanced_checkbox_checkbox name=name hideName=true label=label}}\n</li>\n{{> @partial-block}}",
        "components_advanced_checkbox_item": "<li class=\"mdc-list-item checkbox-list-child {{#if noIndent}}checkbox-list-child-no-indent{{/if}}\" data-advanced-checkbox-item=\"{{name}}\"\n    data-advanced-checkbox-group-parent=\"{{group}}\" role=\"checkbox\" aria-checked=\"{{checked}}\"\n    id=\"li-{{name}}-{{value}}\">\n  <label class=\"mdc-list-item__text\" for=\"cb-{{name}}-{{value}}\">{{label}}</label>\n  {{> components_advanced_checkbox_checkbox name=name hideName=false value=value label=label checked=checked}}\n</li>",
        "components_advanced_checkbox_list": "<div class=\"mdc-list-group advanced-checkbox-list\" data-advanced-checkbox-list=\"{{name}}\">\n  <h3 class=\"mdc-list-group__subheader cursor-pointer noselect\" data-acl-collapse-trigger>\n    <span class=\"mdc-icon-toggle mdc-icon-toggle-xs pull-right\" data-acl-clear>\n      <span class=\"far fa-trash\" aria-hidden=\"true\"></span>\n    </span>\n    {{{label}}}\n  </h3>\n  <ul class=\"mdc-list mdc-list--dense\" style=\"display:none;\" role=\"group\" aria-label=\"{{label}}\">\n    {{> @partial-block}}\n  </ul>\n  <div class=\"collapse-trigger cursor-pointer noselect\" data-acl-collapse-trigger>\n    <span class=\"fas fa-chevron-down pull-centre\" data-acl-collapse-icon-collapsed=\"fa-chevron-down\" data-acl-collapse-icon-open=\"fa-chevron-up\"></span>\n  </div>\n</div>",
        "components_anchored_menu": "{{#with (default menuId (concat \"menu-\" (random 1000 9999))) as |menuId|}}\n<div class=\"mdc-menu-surface--anchor {{../anchorClasses}}\">\n  <button class=\"mdc-button {{../buttonClasses}}\" id=\"{{menuId}}-trigger\">\n    {{#if ../imageUrl ~}}\n      <img src=\"{{../imageUrl}}\" class=\"{{../imageClasses}}\" />\n    {{/if}}\n    {{#if ../iconClasses}}\n      <span class=\"{{../iconClasses}}\"></span>\n    {{/if ~}}\n    {{{../buttonLabel}}}\n    {{#if ../arrowClasses}}\n      <span class=\"{{../arrowClasses}}\"></span>\n    {{/if}}\n  </button>\n  <div class=\"mdc-menu mdc-menu-surface {{../menuClasses}}\" tabindex=\"-1\" id=\"{{menuId}}\" data-menu-trigger=\"#{{menuId}}-trigger\">\n    <ul class=\"mdc-menu__items mdc-list {{../menuListClasses}}\" role=\"menu\" aria-hidden=\"true\">\n      {{> @partial-block}}\n    </ul>\n  </div>\n</div>\n{{/with}}\n",
        "components_checkbox": "<div class=\"mdc-form-field {{fieldClasses}}\">\n  <div class=\"mdc-checkbox\">\n    <input type=\"checkbox\" class=\"mdc-checkbox__native-control\" id=\"{{id}}\" name=\"{{name}}\" value=\"{{default value label}}\"{{#if checked}} checked=\"checked\"{{/if}} />\n    <div class=\"mdc-checkbox__background\">\n      <svg class=\"mdc-checkbox__checkmark\"\n      viewBox=\"0 0 24 24\">\n      <path class=\"mdc-checkbox__checkmark-path\"\n      fill=\"none\"\n      stroke=\"white\"\n      d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"/></svg>\n      <div class=\"mdc-checkbox__mixedmark\"></div>\n    </div>\n  </div>\n  <label for=\"{{id}}\">\n    {{{default label value}}}\n  </label>\n</div>\n\n",
        "components_horizontal_card_scroller": "{{#ifAll (compare (length items) \"===\" 0) @partial-block}}\n  {{> @partial-block}}\n{{else}}\n  <div class=\"mdc-layout-grid equal-height {{outerClasses}}\">\n    {{#if (any items)}}\n    <div class=\"scroll-button scroll-left {{scrollButtonClasses}} {{scrollButtonLeftClasses}}\">\n      <span class=\"scroll-icon {{scrollIconClasses}} {{scrollLeftIconClasses}}\"></span>\n    </div>\n    <div class=\"scroll-button scroll-right {{scrollButtonClasses}} {{scrollButtonRightClasses}}\">\n      <span class=\"scroll-icon {{scrollIconClasses}} {{scrollRightIconClasses}}\"></span>\n    </div>\n    {{/if}}\n    <div class=\"mdc-layout-grid__inner scrolling-grid {{innerClasses}}\">\n      {{#if (any items)}}\n        {{#each items}}\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone {{../itemClasses}}\">\n            {{> (lookup ../this 'itemsPartial')}}\n          </div>\n        {{/each}}\n        {{#if moreUrl}}\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone latest-content-primary last-card {{moreClasses}}\">\n            <div class=\"mdc-card align-centre mdc-typography--body1 {{moreCardClasses}}\">\n              <a href=\"{{{moreUrl}}}\">{{default moreText \"More\"}}</a>\n            </div>\n          </div>\n        {{/if}}\n      {{/if}}\n    </div>\n  </div>\n{{/ifAll}}\n",
        "components_radio_button": "<div class=\"mdc-form-field {{fieldClasses}}\"{{#if @partial-block ~}} data-ajax-radio-button='{{> @partial-block}}'{{/if}}>\n  <div class=\"mdc-radio {{innerClasses}}\">\n    <input class=\"mdc-radio__native-control\" type=\"radio\" id=\"{{default id name}}\" name=\"{{default name}}\" value=\"{{default value label}}\"{{#if active}} checked=\"checked\"{{/if}}{{#if required}} required{{/if}}>\n    <div class=\"mdc-radio__background\">\n      <div class=\"mdc-radio__outer-circle\"></div>\n      <div class=\"mdc-radio__inner-circle\"></div>\n    </div>\n  </div>\n  <label for=\"{{default id name}}\">{{default label value}}</label>\n</div>\n",
        "components_scvo_bar": "<nav id=\"scvo-tab-bar\" class=\"mdc-tab-bar\">\n  <a class=\"mdc-tab{{#if (contains @root.request.url.hostname 'scvo.')}} mdc-tab--active{{/if}}\" href=\"{{#unless (contains @root.request.url.hostname 'scvo.')}}https://scvo.org{{else}}/{{/unless}}\"><span class=\"mdc-tab--label\">SCVO</span></a>\n  <a class=\"mdc-tab{{#if (contains @root.request.url.hostname 'goodmoves.')}} mdc-tab--active{{/if}}\" href=\"https://goodmoves.com\"><span class=\"mdc-tab--label\">Goodmoves</span></a>\n  <a class=\"mdc-tab{{#if (contains @root.request.url.hostname 'thirdforcenews.')}} mdc-tab--active{{/if}}\" href=\"https://thirdforcenews.org.uk\"><span class=\"mdc-tab--label\">TFN</span></a>\n  <a class=\"mdc-tab\" href=\"{{#unless (contains @root.request.url.hostname 'scvo.')}}https://scvo.org{{/unless}}/scottish-charity-awards\"><span class=\"mdc-tab--label\">Scottish Charity Awards</span></a>\n  <a class=\"mdc-tab\" href=\"{{#unless (contains @root.request.url.hostname 'scvo.')}}https://scvo.org{{/unless}}/the-gathering-2020\"><span class=\"mdc-tab--label\">The Gathering</span></a>\n  <a class=\"mdc-tab pull-right brand-logo\" href=\"{{#unless (contains @root.request.url.hostname 'scvo.')}}https://scvo.org{{else}}/{{/unless}}\" title=\"Scottish Council for Voluntary Organisations\">\n    <img src=\"{{~>asset_url url='images/logos/scvo-inverse.png'}}\" alt=\"Scottish Council for Voluntary Organisations\" />\n  </a>\n</nav>",
        "components_tab_bar": "<div class=\"mdc-tab-bar {{extraClasses}}\" {{#if id}}id=\"{{id}}\"{{/if}} role=\"tablist\" data-tab-bar='{\n      \"defaultTabIdentifier\": {{{stringify (default defaultTabIdentifier null)}}}\n    }'>\n  <div class=\"mdc-tab-scroller\">\n    <div class=\"mdc-tab-scroller__scroll-area\">\n      <div class=\"mdc-tab-scroller__scroll-content\">\n        {{> @partial-block}}\n      </div>\n    </div>\n  </div>\n</div>\n",
        "components_tab": "<{{#if url}}a href=\"{{{url}}}\"{{else}}button{{/if}} class=\"mdc-tab {{linkClasses}} {{#if active}} mdc-tab--active{{/if}}\"\n              role=\"tab\" {{#if active}}aria-selected=\"true\"{{else}}aria-hidden=\"true\"{{/if}} tabindex=\"0\"\n              {{#if tabName}}data-tab-name=\"{{tabName}}\"{{/if}}>\n  <span class=\"mdc-tab__content {{contentClasses}}\">\n    {{#if iconClasses}}<span class=\"mdc-tab__icon {{iconClasses}}\"></span>{{/if}}\n    <span class=\"mdc-tab__text-label {{labelClasses}}\">{{label}}</span>\n  </span>\n  <span class=\"mdc-tab-indicator {{indicatorClasses}} {{#if active}}mdc-tab-indicator--active{{/if}}\">\n    <span class=\"mdc-tab-indicator__content {{indicatorContentClasses}} mdc-tab-indicator__content--underline\"></span>\n  </span>\n  <span class=\"mdc-tab__ripple\"></span>\n  </{{#if url}}a{{else}}button{{/if}}>",
        "currently_recruiting": "{{#compare @root.data.supplimentaryResponses.currently_recruiting.hits.total \">\" 0 ~}}\n<section class=\"currently-recruiting mdc-elevation--z3\">\n  <div class=\"mdc-typography--headline5 home-heading v-margin-full\">\n    Currently recruiting&ensp;\n    <span class=\"mdc-typography--body1\">\n      <a href=\"/organisations\">See all</a>\n    </span>\n  </div>\n  <div class=\"mdc-layout-grid\">\n    <div class=\"mdc-layout-grid__inner\">\n      {{#each @root.data.supplimentaryResponses.currently_recruiting.hits.hits ~}}\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-2-phone\">\n        <a href=\"/organisation/{{_source.slug}}\" class=\"content-secondary-logo\">\n          <img src=\"{{_source.logo_url}}\" alt=\"{{_source.title}}\" />\n        </a>\n      </div>\n      {{/each ~}}\n    </div>\n  </div>\n</section>\n{{/compare ~}}",
        "delete_search": "<form action=\"/delete-search\" method=\"POST\" class=\"{{formClasses}}\">\n  <input type=\"hidden\" name=\"name\" value=\"{{name}}\">\n  <button type=\"submit\" class=\"saved-search-remove mdc-icon-button\" data-mdc-auto-init=\"MDCRipple\" title=\"Delete this saved search\">\n    <span class=\"far fa-trash-alt\" aria-hidden=\"true\"></span>\n  </button>\n</form>\n",
        "dialog_shortlist": "<aside id=\"shortlist-dialog\" class=\"mdc-dialog\" role=\"alertdialog\" aria-labelledby=\"shortlist-dialog-label\" aria-describedby=\"shortlist-dialog-description\" data-mdc-auto-init=\"MDCDialog\">\n  <div class=\"mdc-dialog__container\">\n    <form class=\"mdc-dialog__surface\">\n      <header class=\"mdc-dialog__header\">\n        <h2 id=\"shortlist-dialog-label\" class=\"mdc-dialog__title\">Add to shortlist</h2>\n      </header>\n      <section id=\"shortlist-dialog-description\" class=\"mdc-dialog__content\">\n        If you have an account on Goodmoves you can shortlist jobs you are interested in.\n      </section>\n      <footer class=\"mdc-dialog__actions\">\n        <button type=\"button\" class=\"mdc-button mdc-dialog__button mdc-ripple-upgraded\" data-mdc-dialog-action=\"close\">Cancel</button>\n        <a href=\"/sign-in\" class=\"mdc-button mdc-dialog__button mdc-ripple-upgraded\">Sign in</a>\n        <a href=\"/sign-up\" class=\"mdc-button mdc-dialog__button mdc-ripple-upgraded\">Sign up</a>\n      </footer>\n    </form>\n  </div>\n  <div class=\"mdc-dialog__scrim\"></div>\n</aside>",
        "email_days": "{{#if @root.data.searches.items.[0] ~}}\n  {{~#with @root.data.searches.items.[0] ~}}\n    {{~#each (split \"sunday,monday,tuesday,wednesday,thursday,friday,saturday\" \",\")~}}\n      {{~#if (contains ../days (add @index 1))~}}\n        {{~ this ~}},\n      {{~/if~}}\n    {{~/each~}}\n  {{~/with~}}\n{{~/if}}\n",
        "email_frequency": "{{#if @root.data.auth ~}}\n  {{#with @root.data.searches.items.[0].[0] ~}}\n    {{#>components_radio_button\n        id=\"daily\"\n        name=\"frequency\"\n        label=\"Daily\"\n        active=(compare days \"1234567\")~}}\n      {\n        \"url\": \"/update-email-preferences\",\n        \"method\": \"POST\",\n        \"successMessage\": \"You will now recieve an email every day if there are new jobs matching your preferences\",\n        \"failureMessage\": \"Failed to update email frequency setting to daily\",\n        \"postBody\": {\n          {{~#each (split \"sunday,monday,tuesday,wednesday,thursday,friday,saturday\" \",\")~}}\n            \"{{this}}\": true\n            {{~#unless @last}},{{/unless~}}\n          {{~/each~}}\n        }\n      }\n    {{~/components_radio_button}}\n    {{#>components_radio_button\n        id=\"weekly\"\n        name=\"frequency\"\n        label=\"Weekly\"\n        active=(compare (length days) 1)~}}\n      {\n        \"url\": \"/update-email-preferences\",\n        \"method\": \"POST\",\n        \"successMessage\": \"You will now recieve an email every every {{momentFormat (moment (dateMath \"now+1d\") \"x\") \"dddd\"}} (starting tomorrow) if there are new jobs matching your preferences\",\n        \"failureMessage\": \"Failed to update email frequency setting to weekly\",\n        \"postBody\": {\n          \"{{lowercase (momentFormat (moment (dateMath \"now+1d\") \"x\") \"dddd\")}}\": true\n        }\n      }\n    {{~/components_radio_button}}\n  {{else}}\n    <div class=\"mdc-form-field\">\n      <label>You don't have any saved searches</label>\n    </div>\n  {{/with}}\n{{/if ~}}\n\n",
        "event_search_form": "<div class=\"mdc-drawer__content\">\n  <h2 class=\"mdc-drawer__content-heading hide-sm mdc-drawer--occasional-ie11\">Search SCVO training</h2>\n  <form action=\"/training\" method=\"GET\">\n    <div class=\"h-padding\">\n      <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon mdc-drawer--occasional-ie11\" data-mdc-auto-init=\"MDCTextField\">\n        <span class=\"far fa-search mdc-text-field__icon\" tabindex=\"0\" role=\"button\"></span>\n        <input type=\"text\" id=\"{{instance_id}}-keywords\" name=\"keywords\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" value=\"{{@root.request.params.query.keywords}}\">\n        <label class=\"mdc-floating-label mdc-floating-label--float-above\" for=\"keywords\">\n          Keywords\n        </label>\n        <div class=\"mdc-line-ripple\"></div>\n      </div>\n    </div>\n    <div class=\"h-margin v-margin mdc-drawer--occasional-ie11\">\n      <button class=\"mdc-button mdc-button--raised mdc-button--fullwidth\" type=\"submit\" id=\"{{instance_id}}-search-submit\">\n        <span class=\"far fa-search fa-fw mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n        Search\n      </button>\n    </div>\n  </form>\n</div>\n",
        "event_search_results": "{{> banner_ad}}\n\n{{> search_info paging=@root.data.search_data.detailed_results.pagination}}\n\n<div class=\"mdc-layout-grid head\">\n  <div class=\"mdc-layout-grid__inner\">\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n      {{> pagination paging=@root.data.search_data.detailed_results.pagination}}\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n    </div>\n  </div>\n</div>\n\n{{#each @root.data.search_data.detailed_results.hits.hits ~}}\n{{> event_search_result _source}}\n{{/each ~}}\n\n<div class=\"foot\">\n  {{> pagination paging=@root.data.search_data.detailed_results.pagination}}\n</div>",
        "event_full": "<div class=\"mdc-card full\" data-event-id=\"{{Id}}\">\n  <div class=\"mdc-card__info--event-row\">\n    <div class=\"mdc-card__info--event\">\n      <div class=\"mdc-card__info--event-title mdc-typography--headline4\">\n        {{{title}}}\n      </div>\n      <div class=\"detailed-info\">\n        <div class=\"mdc-layout-grid\">\n          <div class=\"mdc-layout-grid__inner\">\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone content event-content\">\n              <dl class=\"inline-dl\">\n                <dt>Details</dt>\n                <dd>\n                  <div class=\"mdc-layout-grid\">\n                    <!-- {{#if date_start ~}}\n                    <div class=\"mdc-layout-grid__inner\">\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                        <strong>Starts</strong>\n                      </div>\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                        {{moment date_start 'Do MMMM YYYY HH:mm' dstr local=true}}\n                      </div>\n                    </div>\n                    {{/if ~}}\n                    {{#if date_end ~}}\n                    <div class=\"mdc-layout-grid__inner\">\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                        <strong>Ends</strong>\n                      </div>\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                        {{moment date_end 'Do MMMM YYYY HH:mm' dstr local=true}}\n                      </div>\n                    </div>\n                    {{/if ~}} -->\n                    {{#if trainer ~}}\n                    <div class=\"mdc-layout-grid__inner\">\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                        <strong>Trainer</strong>\n                      </div>\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                        {{trainer}}\n                      </div>\n                    </div>\n                    {{/if ~}}\n                    {{#if contact ~}}\n                    <div class=\"mdc-layout-grid__inner\">\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                        <strong>Contact</strong>\n                      </div>\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                        {{#if contact_email ~}}\n                        <span class=\"far fa-envelope fa-fw\"></span> <a href=\"mailto:{{contact_email}}\">{{{contact}}}</a>\n                        {{else}}\n                        {{{contact}}}\n                        {{/if ~}}\n                        {{#if contact_phone ~}}<br />\n                        <span class=\"fas fa-phone fa-flip-horizontal fa-fw\"></span> {{contact_phone}}{{/if ~}}\n                      </div>\n                    </div>\n                    {{/if ~}}\n                    {{#if costs ~}}\n                    <div class=\"mdc-layout-grid__inner\">\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                        <strong>Cost</strong>\n                      </div>\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                        {{{costs}}}\n                      </div>\n                    </div>\n                    {{else}}\n                    {{#if cost_structures ~}}\n                    <div class=\"mdc-layout-grid__inner\">\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                        <strong>Cost</strong>\n                      </div>\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                        {{#forEach cost_structures ~}}\n                        {{Description__c}} &pound;{{Total_Amount__c}}{{#unless isLast}}, {{/unless}}\n                        {{/forEach ~}}\n                      </div>\n                    </div>\n                    {{else}}\n                    {{#if rate ~}}\n                    <div class=\"mdc-layout-grid__inner\">\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                        <strong>Cost</strong>\n                      </div>\n                      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                        &pound;{{rate}}\n                      </div>\n                    </div>\n                    {{/if ~}}\n                    {{/if ~}}\n                    {{/if ~}}\n                  </div>\n                </dd>\n                {{#if course_overview ~}}\n                <dt>\n                  {{#compare course_type \"===\" \"Training Course\" ~}}\n                  Course overview\n                  {{else}}\n                  Overview\n                  {{/compare ~}}\n                </dt>\n                <dd>\n                  {{{course_overview}}}\n                </dd>\n                {{/if ~}}\n                {{#if aims ~}}\n                <dt>\n                  {{#compare course_type \"===\" \"Training Course\" ~}}\n                  Overall course aim\n                  {{else}}\n                  Overall aim\n                  {{/compare ~}}\n                </dt>\n                <dd>\n                  {{{aims}}}\n                </dd>\n                {{/if ~}}\n                {{#if description ~}}\n                <dt>\n                  {{#compare course_type \"===\" \"Training Course\" ~}}\n                  Course objectives\n                  {{else}}\n                  Description\n                  {{/compare ~}}\n                </dt>\n                <dd>\n                  {{{description}}}\n                </dd>\n                {{/if ~}}\n                {{#if aimed_at ~}}\n                <dt>\n                  {{#compare course_type \"===\" \"Training Course\" ~}}\n                  Who is the course aimed at?\n                  {{else}}\n                  Who is this event aimed at?\n                  {{/compare ~}}\n                </dt>\n                <dd>\n                  {{{aimed_at}}}\n                </dd>\n                {{/if ~}}\n                {{#if entry_requirements ~}}\n                <dt>\n                  Entry requirements\n                </dt>\n                <dd>\n                  {{{entry_requirements}}}\n                </dd>\n                {{/if ~}}\n              </dl>\n              {{#if places_available ~}}\n              {{#compare places_available \">\" 0 ~}}\n              {{#compare places_available \"<\" 5 ~}}\n              <p class=\"booking course-almost-full\">\n                <strong>Note:</strong> Only a few places left!\n              </p>\n              {{/compare ~}}\n              <p class=\"book-now\">\n                <a href=\"{{#if booking_url}}{{#startsWith \"https://www.surveygizmo.eu\" booking_url}}https://scvo.org{{url}}/book{{else}}{{{booking_url}}}{{/startsWith}}{{else}}https://scvo.org{{url}}/book{{/if}}\" class=\"mdc-button mdc-button--raised\">\n                  Book now\n                </a>\n              </p>\n              {{else}}\n              <p class=\"booking course-full\">\n                <strong>Please note this {{#compare course_type \"===\" \"Training Course\"}}course{{else}}event{{/compare}} is now fully booked!</strong>\n              </p>\n              {{/compare ~}}\n              {{else}}\n              <p class=\"booking course-full\">\n                <strong>Please note this {{#compare course_type \"===\" \"Training Course\"}}course{{else}}event{{/compare}} is now fully booked!</strong>\n              </p>\n              {{/if ~}}\n            </div>\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4 mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone sidebar event-sidebar\">\n              <div class=\"mdc-layout-grid__inner\">\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <strong>Venue</strong>\n                </div>\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                  {{#if event_venue.postcode ~}}\n                  {{#if event_venue.name ~}}{{event_venue.name}}<br />{{/if ~}}\n                  {{#if event_venue.organisation_name ~}}{{event_venue.organisation_name}}<br />{{/if ~}}\n                  {{#if event_venue.address_1 ~}}{{event_venue.address_1}}<br />{{/if ~}}\n                  {{#if event_venue.address_2 ~}}{{event_venue.address_2}}<br />{{/if ~}}\n                  {{#if rendered.city ~}}{{#compare rendered.city \"!==\" event_venue.address_2 ~}}{{rendered.city}}<br />{{/compare ~}}{{/if ~}}\n                  {{#if event_venue.postcode ~}}{{event_venue.postcode}}{{/if ~}}\n                  {{#if event_venue.accessible ~}}\n                  <br /><span class=\"fab fa-accessible-icon\" aria-hidden=\"true\"></span> Wheelchair accessible\n                  {{/if ~}}\n                  {{else}}\n                  {{#if venue_alt ~}}\n                  {{venue_alt}}\n                  {{else}}\n                  TBC\n                  {{#if rendered.city ~}}({{rendered.city}}){{else}}{{#if event_venue.address_2 ~}}({{event_venue.address_2}}){{/if ~}}{{/if ~}}\n                  {{/if ~}}\n                  {{/if ~}}\n                </div>\n                {{#if rendered.map_image ~}}\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <a href=\"https://maps.google.co.uk/?q={{encodeURI event_venue.address_1}},+{{encodeURI event_venue.postcode}}\">\n                    <img src=\"{{rendered.map_image}}\" />\n                  </a>\n                </div>\n                {{/if ~}}\n              </div>\n            </div>\n\n            {{{rendered.scvo_speakers}}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",
        "event_search_result": "<div class=\"mdc-card search-result\" data-event-id=\"{{Id}}\">\n  <div class=\"mdc-card__info--event-row\">\n    <div class=\"mdc-card__info--event\">\n      <div class=\"mdc-card__info--event-title mdc-typography--headline6\">\n        <a href=\"https://scvo.org/events/{{Id}}/{{title_slug}}\">\n          {{trim title}}\n        </a>\n      </div>\n      <div class=\"post-info\">\n        {{{rendered.post_info_booked}}}\n        {{{rendered.post_info_date}}}\n        {{{rendered.post_info_city}}}\n      </div>\n    </div>\n  </div>\n  <hr class=\"mdc-list-divider\" />\n  <div class=\"search-result-article__snippet mdc-typography--body1 faded-overflow\" style=\"height:4rem;\">\n    {{#if description ~}}\n    {{{description}}}\n    {{else}}\n    {{#if course_overview ~}}\n    {{{course_overview}}}\n    {{/if ~}}\n    {{/if ~}}\n  </div>\n  <div class=\"mdc-card__actions\">\n    <div class=\"mdc-card__action-buttons demo-card__action-buttons--text-only mdc-card__actions--full-bleed\">\n      <a href=\"https://scvo.org/events/{{Id}}/{{title_slug}}\" class=\"mdc-card__action\">Find out more</a>\n    </div>\n  </div>\n</div>\n",
        "ga": "<script>\n  gtag('event', 'document_hit', {\n    'event_category': {{{stringify documentType}}},\n    'event_label': {{{stringify documentId}}},\n    'hit_type': {{{stringify (default hitType 'other')}}}{{#if parentDocument ~}},\n    'parent_document': {{{stringify parentDocument}}}{{/if ~}}\n  });\n</script>\n",
        "handle_404": "{{#if @root.data.primaryResponse.hits.hits.[0] ~}}\n{{> @partial-block }}\n{{else}}\n<div class=\"mdc-layout-grid\">\n  <div class=\"mdc-layout-grid__inner\">\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n      <h2>The page you requested could not be found</h2>\n      <p>\n        We recently relaunched our website and some page addresses may have changed.\n      </p>\n      {{#ifAll @root.data.supplimentaryResponses.not_found (compare @root.data.supplimentaryResponses.not_found.hits.total \">\" 0) ~}}\n      <h3>Did you mean?</h3>\n      {{#each @root.data.supplimentaryResponses.not_found.hits.hits ~}}\n      {{#compare @index \"===\" 0 ~}}\n      {{>highlight_result}}\n      {{else}}\n      {{/compare ~}}\n      {{/each ~}}\n      {{/ifAll ~}}\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n      <img src=\"{{~>asset_url url='images/404.png'~}}\" class=\"responsive\">\n    </div>\n  </div>\n</div>\n{{#ifAll @root.data.supplimentaryResponses.not_found (compare @root.data.supplimentaryResponses.not_found.hits.total \">\" 1) ~}}\n<hr />\n<h3>Other relevant content</h3>\n{{#each @root.data.supplimentaryResponses.not_found.hits.hits ~}}\n{{#compare @index \"===\" 0 ~}}\n{{else}}\n{{>highlight_result}}\n{{/compare ~}}\n{{/each ~}}\n{{else}}\n<h3>Try searching for a topic</h3>\n{{/ifAll ~}}\n\n<script>\ngtag('event', '404', {\n  event_category: '{{name}}',\n  event_label: '{{request.params.uri.pathname}}'\n});\n</script>\n{{/if ~}}\n",
        "highlight_result": "{{#ifAll (contains _source.rendered.scvo_search_result \"%highlights%\") (contains _source.rendered.scvo_search_result \"%/highlights%\") highlight.text_bag ~}}\n{{{regexReplace _source.rendered.scvo_search_result \"(%highlights%)(.|[\\r\\n])*?(%/highlights%)\" \"img\" (removeEntities (concat \"<p class=\\\"results-highlights\\\">&hellip;\" (join highlight.text_bag \" &hellip; \") \" &hellip;</p>\"))}}}\n{{else}}\n{{{regexReplace _source.rendered.scvo_search_result \"(%/?highlights%)\" \"img\" \"\"}}}\n{{/ifAll ~}}",
        "logo": "<h1 class=\"header-text\">\n  {{#if link ~}}<a href=\"/\" title=\"Goodmoves\">{{/if ~}}\n  <span class=\"header-text-banner\">\n    {{#if welcome ~}}<span class=\"normal welcome\">Welcome to</span><br />{{/if ~}}\n    good<span class=\"normal moves\">moves</span>\n  </span>\n  {{#if link ~}}</a>{{/if ~}}\n</h1>",
        "opportunity_actions": "<div class=\"mdc-card__actions\">\n  <div class=\"mdc-card__action-buttons demo-card__action-buttons--text-only mdc-card__actions--full-bleed\">\n    {{#compare action \"===\" \"organisation\" ~}}\n    <a href=\"https://search.volunteerscotland.net/organisation/{{organisation_id}}/{{organisation_name_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website\" class=\"mdc-card__action hide-sm\">Find out more about {{organisation_name}}</a>\n    {{else}}\n    <a href=\"https://search.volunteerscotland.net/opportunity/{{Id}}/{{title_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website\" class=\"mdc-card__action hide-sm\">Find out more</a>\n    <a href=\"https://search.volunteerscotland.net/opportunity/{{Id}}/{{title_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website\" class=\"mdc-card__action hide-md hide-lg\"><span class=\"fal fa-info-circle fa-fw fa-2x\" aria-hidden=\"true\"></span></a>\n    {{/compare ~}}\n  </div>\n</div>\n",
        "opportunity_availability_selector": "<div class=\"table-responsive\">\n  <table class=\"table table-condensed h-padding\">\n    <thead>\n      <tr>\n        <th></th>\n        <th><p>AM</p></th>\n        <th><p>PM</p></th>\n        <th><p>Eve</p></th>\n      </tr>\n    </thead>\n    <tbody>\n\n      {{#each @root.context.metaData.terms.availability.termGroups}}\n      <tr>\n        <th><p>{{capitalize label}}</p></th>\n        {{#each this.terms}}\n        <td>\n          <div class=\"mdc-checkbox\">\n            <input type=\"checkbox\" name=\"availability[]\" class=\"mdc-checkbox__native-control\" value=\"{{@key}}\"{{#if (contains @root.request.params.query.availability @key)}} checked{{/if}}>\n            <div class=\"mdc-checkbox__background\">\n              <svg class=\"mdc-checkbox__checkmark\" viewBox=\"0 0 24 24\">\n                <path class=\"mdc-checkbox__checkmark__path\" fill=\"none\" stroke=\"white\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"></path>\n              </svg>\n              <div class=\"mdc-checkbox__mixedmark\"></div>\n            </div>\n          </div>\n        </td>\n        {{/each}}\n      </tr>\n      {{/each}}\n    </tbody>\n  </table>\n</div>",
        "opportunity_description": "{{#if description ~}}\n<div class=\"search-result-article__snippet mdc-typography--body1 faded-overflow\" style=\"height:{{limit}};\">\n  {{{description}}}\n</div>\n{{/if ~}}",
        "opportunity_json_ld": "{\n  \n}",
        "opportunity_key_info": "<div class=\"mdc-card__info--content-primary-row\">\n  <div class=\"mdc-card__info--content-primary\">\n    {{#ifAny (compare @root.route.name \"===\" \"opportunity_search\") (compare @root.route.name \"===\" \"opportunities_in\") ~}}\n    {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}}\n    <div class=\"v-margin pull-right mdc-card__info--search-distance\">\n      {{#if distance ~}}\n      {{#ifAll (compare distance \"!==\" \"\") (compare distance \"!==\" \"Infinity\") (compare distance \"<=\" @root.request.params.query.distance) ~}}\n      {{> opportunity_location_distance distance=distance}}\n      {{else}}\n      {{#if (contains volunteersearch_type \"Home-based volunteering\") ~}}\n      {{> opportunity_location_home}}\n      {{else}}\n      {{#ifAny (compare (getType advertised_areas) \"string\") (compare advertised_areas.length \">\" 0) ~}}\n      {{> opportunity_location_areas advertised_areas=advertised_areas}}\n      {{/ifAny ~}}\n      {{/if ~}}\n      {{/ifAll ~}}\n      {{else}}\n      {{#compare distance \"===\" 0 ~}}\n      {{> opportunity_location_distance distance=0.1}}\n      {{else}}\n      {{#if (contains volunteersearch_type \"Home-based volunteering\") ~}}\n      {{> opportunity_location_home}}\n      {{/if ~}}\n      {{/compare ~}}\n      {{/if ~}}\n    </div>\n    {{else}}\n    {{#if (contains volunteersearch_type \"Home-based volunteering\") ~}}\n    <div class=\"v-margin pull-right mdc-card__info--search-distance\">\n      {{> opportunity_location_home}}\n    </div>\n    {{/if ~}}\n    {{/ifAll ~}}\n    {{/ifAny ~}}\n    <h2 class=\"mdc-card__info--content-primary-title mdc-typography--headline6\">\n      <a href=\"https://search.volunteerscotland.net/opportunity/{{Id}}/{{title_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website\">\n        <span class=\"hover-underline\">{{{title}}}</span>\n      </a>\n    </h2>\n    {{#ifAll organisation_id organisation_name_slug organisation_name ~}}\n    <ul class=\"fa-ul organisation\">\n      <li class=\"mdc-card__info--content-primary-organisation mdc-typography--body1\">\n        <span class=\"fa-li\"><span class=\"far fa-home-heart\" title=\"Organisation\"></span></span>\n        <a href=\"https://search.volunteerscotland.net/organisation/{{organisation_id}}/{{organisation_name_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website\">{{organisation_name}}</a>\n      </li>\n    </ul>\n    {{/ifAll ~}}\n    <ul class=\"fa-ul first\">\n      {{#if milo_ref ~}}\n        <li class=\"mdc-card__info--content-primary-reference mdc-typography--body1\">\n          <span class=\"fa-li\"><span class=\"far fa-hashtag\" title=\"Reference\"></span></span>\n          {{milo_ref}}\n        </li>\n      {{/if ~}}\n      {{#if volunteersearch_type ~}}\n      {{#compare volunteersearch_type.length \">\" 0 ~}}\n        <li class=\"mdc-card__info--content-primary-reference mdc-typography--body1\">\n          <span class=\"fa-li\"><span class=\"far fa-info-circle\" title=\"Specialist role\"></span></span>\n          {{#each volunteersearch_type ~}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}\n        </li>\n      {{/compare ~}}\n      {{/if ~}}\n    </ul>\n  </div>\n  {{#if (contains (map @root.data.registeredInterest.items.[0] (getProp \"value\")) Id) ~}}\n  {{#ifAny opportunity_contact_first_name opportunity_contact_last_name organisation_website ~}}\n  <div class=\"mdc-card__info--content-primary\">\n    <h4 class=\"mdc-typography--headline6 t-margin-full\">Contact</h4>\n    {{#ifAny opportunity_contact_first_name opportunity_contact_last_name ~}}\n    <div class=\"mdc-typography--body1\">\n      <strong>Name: </strong> {{{opportunity_contact_first_name}}} {{{opportunity_contact_last_name}}}\n    </div>\n    {{/ifAny ~}}\n\n    {{#if opportunity_contact_email ~}}\n    <div class=\"mdc-typography--body1\">\n      <strong>Email: </strong> <a href=\"mailto:{{{opportunity_contact_email}}}\">{{{opportunity_contact_email}}}</a>\n    </div>\n    {{/if ~}}\n\n    {{#if organisation_website ~}}\n    <div class=\"mdc-typography--body1\">\n      <strong>Website: </strong> <a href=\"{{fixUrl organisation_website 'http'}}\">{{{organisation_website}}}</a>\n    </div>\n    {{/if ~}}\n  </div>\n  {{/ifAny ~}}\n  {{/if ~}}\n</div>",
        "opportunity_location_areas": "<ul class=\"fa-ul areas\">\n  <li class=\"mdc-typography--body2\">\n    <span class=\"fa-li\"><span class=\"far fa-location-arrow fa-fw\" title=\"Location\"></span></span>\n    {{#compare (getType advertised_areas) \"string\" ~}}\n    {{{advertised_areas}}}\n    {{else}}\n    {{#compare advertised_areas.length \">\" 3 ~}}\n    {{advertised_areas.length}} areas\n    {{else}}\n    {{#each advertised_areas ~}}\n    {{#if (contains (map @root.data.location_data.la_results.aggregations.local_authority_areas.buckets (getProp \"key\")) this) ~}}\n    <span class=\"area\">{{{this}}}</span>\n    {{/if ~}}\n    {{/each ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n  </li>\n</ul>",
        "opportunity_location_distance": "<ul class=\"fa-ul\">\n  <li class=\"mdc-typography--body2\">\n    <span class=\"fa-li\"><span class=\"fas fa-location-arrow fa-fw\" title=\"Distance\"></span></span>\n    {{#compare distance \"<\" 4 ~}}\n      Less than {{inflect (round distance \"up\") \"mile\" \"miles\" true}} away\n    {{else}}\n      {{#compare distance \"<\" 10 ~}}\n        Within {{round distance \"up\"}} miles\n      {{else}}\n        {{round distance \"up\"}} miles away\n      {{/compare ~}}\n    {{/compare ~}}\n  </li>\n</ul>",
        "opportunity_location_home": "<ul class=\"fa-ul\">\n  <li class=\"mdc-typography--body2\">\n    <span class=\"fa-li\"><span class=\"far fa-location-arrow fa-fw\" title=\"Location\"></span></span>\n    Home-based\n  </li>\n</ul>",
        "opportunity_map": "<div class=\"map-content\" data-opportunity-id=\"{{Id}}\" data-opportunity-layout=\"Map\" data-opportunity-context=\"{{default viewContext \"Map\"}}\">\n  <h3 class=\"mdc-typography--headline7\">\n    <a href=\"https://search.volunteerscotland.net/opportunity/{{Id}}/{{title_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website\">{{title}}</a>\n  </h3>\n  {{#if organisation_name ~}}\n  <div class=\"mdc-typography--body1 v-margin\">\n    {{organisation_name}}\n  </div>\n  {{/if ~}}\n  {{#if map_postcode ~}}\n  <div class=\"mdc-typography--body2 v-margin\">\n    Postcode: {{map_postcode}}\n  </div>\n  {{/if ~}}\n  <div class=\"mdc-typography--body2 post-info\">\n    {{#if description ~}}\n    <div style=\"max-height: 2.8rem;\"  class=\"post-info-item post-info-description faded-overflow\">\n      {{{description}}}\n    </div>\n    {{/if ~}}\n  </div>\n  <div class=\"mdc-typography--body2\">\n    <a href=\"https://search.volunteerscotland.net/opportunity/{{Id}}/{{title_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website\" class=\"mdc-card__action\">Find out more</a>\n  </div>\n</div>",
        "opportunity_mini": "<div class=\"mdc-card content-primary content-volunteering mini\" data-opportunity-id=\"{{Id}}\" data-opportunity-layout=\"Mini\" data-opportunity-context=\"{{default viewContext \"Other\"}}\">\n  {{> opportunity_key_info}}\n  {{> opportunity_description description=description}}\n  {{> opportunity_actions slug=slug Id=Id}}\n</div>",
        "opportunity_notes": "{{#compare (trim (getProperty @root.data.profileInfo.notes Id)) \"!==\" \"\" ~}}\n  <div class=\"search-result-article__notes\">\n    <h4 class=\"mdc-typography--headline7\">\n      Your notes&ensp;\n      <a href=\"https://search.volunteerscotland.net/opportunity/{{Id}}/{{title_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website#notes\" class=\"mdc-typography--body2\">Edit</a>\n    </h4>\n    <div class=\"mdc-typography--body1\">\n      {{#if limit ~}}\n        {{#compare @root.route.name \"===\" \"notes\" ~}}\n          {{{markdown (getProperty @root.data.profileInfo.notes Id)}}}\n        {{else}}\n          <div style=\"max-height: {{limit}};\" class=\"faded-overflow\">\n          {{{markdown (truncate (getProperty @root.data.profileInfo.notes Id) limit)}}}\n          </div>\n          <a href=\"https://search.volunteerscotland.net/opportunity/{{Id}}/{{title_slug}}?utm_source=goodmoves&utm_campaign=search&utm_medium=website#notes\">Read more</a>\n        {{/compare ~}}\n      {{else}}\n        {{{markdown (getProperty @root.data.profileInfo.notes Id)}}}\n      {{/if ~}}\n    </div>\n  </div>\n{{/compare ~}}\n",
        "opportunity_search_result": "<div class=\"mdc-card content-primary search-result\" data-opportunity-id=\"{{Id}}\" data-opportunity-layout=\"Search Result\" data-opportunity-context=\"{{default viewContext \"Search Results\"}}\">\n  {{> opportunity_key_info}}\n  <hr class=\"mdc-list-divider\" />\n  {{#compare (trim (getProperty @root.data.profileInfo.notes Id)) \"!==\" \"\" ~}}\n    {{> opportunity_description limit=\"3rem\" description=description}}\n    {{> opportunity_notes limit=\"3rem\"}}\n  {{else}}\n    {{> opportunity_description limit=\"6rem\" description=description}}\n  {{/compare ~}}\n  {{> opportunity_actions slug=slug Id=Id home_based=home_based distance=distance action=action}}\n</div>",
        "opportunity_timings_display": "<div class=\"table-responsive\">\n  <table class=\"table table-condensed\">\n    <thead>\n      <tr>\n        <th></th>\n        <th><p>Mon</p></th>\n        <th><p>Tue</p></th>\n        <th><p>Wed</p></th>\n        <th><p>Thu</p></th>\n        <th><p>Fri</p></th>\n        <th><p>Sat</p></th>\n        <th><p>Sun</p></th>\n      </tr>\n    </thead>\n    <tbody>\n      {{#each (split \"morning,afternoon,evening\" \",\")}}\n      <tr>\n        <th>{{capitalize this}}</th>\n        {{#each (split \"monday,tuesday,wednesday,thursday,friday,saturday,sunday\" \",\")}}\n        <td style=\"font-weight:normal;\">\n          <div class=\"mdc-checkbox\">\n            <input type=\"checkbox\" name=\"availability[]\" class=\"mdc-checkbox__native-control\" disabled value=\"{{concat this \"-\" ../this}}\"{{#if (contains ../../this (concat this \"-\" ../this))}} checked{{/if}}>\n            <div class=\"mdc-checkbox__background\">\n              <svg class=\"mdc-checkbox__checkmark\" viewBox=\"0 0 24 24\">\n                <path class=\"mdc-checkbox__checkmark__path\" fill=\"none\" stroke=\"white\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"></path>\n              </svg>\n              <div class=\"mdc-checkbox__mixedmark\"></div>\n            </div>\n          </div>\n        </td>\n        {{/each}}\n      </tr>\n      {{/each}}\n    </tbody>\n  </table>\n</div>",
        "organisation_search_form": "<div class=\"mdc-drawer__content\">\n  <h2 class=\"mdc-drawer__content-heading hide-sm mdc-drawer--occasional-ie11\">Search organisations</h2>\n  <form action=\"/organisations\" method=\"GET\">\n    <div class=\"h-padding\">\n      <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon mdc-drawer--occasional-ie11\" data-mdc-auto-init=\"MDCTextField\">\n        <span class=\"far fa-search mdc-text-field__icon\" tabindex=\"0\" role=\"button\"></span>\n        <input type=\"text\" id=\"{{instance_id}}-keywords\" name=\"keywords\" class=\"mdc-text-field__input mdc-text-field--fullwidth\">\n        <label class=\"mdc-floating-label mdc-floating-label--float-above\" for=\"keywords\">\n          Organisation name\n        </label>\n        <div class=\"mdc-line-ripple\"></div>\n      </div>\n    </div>\n    <div class=\"h-margin v-margin mdc-drawer--occasional-ie11\">\n      <button class=\"mdc-button mdc-button--raised mdc-button--fullwidth\" type=\"submit\" id=\"{{instance_id}}-search-submit\">\n        <span class=\"far fa-search fa-fw mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n        Search\n      </button>\n    </div>\n  </form>\n</div>\n",
        "organisation_search_results": "{{> banner_ad}}\n\n{{> search_info paging=@root.data.search_data.detailed_results.pagination}}\n\n<div class=\"mdc-layout-grid head\">\n  <div class=\"mdc-layout-grid__inner\">\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n      {{> pagination paging=@root.data.search_data.detailed_results.pagination}}\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n    </div>\n  </div>\n</div>\n\n<div class=\"mdc-layout-grid equal-height\">\n  <div class=\"mdc-layout-grid__inner\">\n    {{#each @root.data.search_data.detailed_results.hits.hits ~}}\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n      {{> organisation_search_result _source}}\n    </div>\n    {{/each ~}}\n  </div>\n</div>\n\n<div class=\"foot\">\n  {{> pagination paging=@root.data.search_data.detailed_results.pagination}}\n</div>",
        "organisation_full": "<div class=\"mdc-card full\" data-organisation-id=\"{{Id}}\">\n  <div class=\"mdc-card__info--content-secondary-row\">\n    <div class=\"mdc-card__info--content-secondary\">\n      {{#if has_logo ~}}\n      <div class=\"mdc-card__media mdc-card__media--content-secondary\">\n        <img src=\"{{logo_url}}\" alt=\"{{title}}\" />\n      </div>\n      {{/if ~}}\n      <div class=\"mdc-card__info--content-secondary-title mdc-typography--headline3\">\n        {{{title}}}\n      </div>\n      {{{rendered.goodmoves_charity_info}}}\n      <div class=\"detailed-info\">\n        {{#if description ~}}\n        <div class=\"mdc-typography--body1 v-margin\">\n          {{{description}}}\n        </div>\n        {{/if ~}}\n      </div>\n      <div class=\"key-info-extra\">\n        <ul class=\"fa-ul last\">\n          {{#if website ~}}\n          {{#compare website \"!==\" null ~}}\n          {{#compare website \"!==\" \"http://\" ~}}\n          <li class=\"mdc-card__info--content-secondary-website mdc-typography--body1\">\n            <span class=\"fa-li\"><span class=\"far fa-link fa-fw\" title=\"Website\"></span></span>\n            <a href=\"{{website_url}}\">{{website}}</a>\n          </li>\n          {{/compare ~}}\n          {{/compare ~}}\n          {{/if ~}}\n          {{#if twitter ~}}\n          {{#compare twitter \"!==\" null ~}}\n          {{#compare twitter \"!==\" \"http://\" ~}}\n          <li class=\"mdc-card__info--content-secondary-twitter mdc-typography--body1\">\n            <span class=\"fa-li\"><span class=\"fab fa-twitter fa-fw\" title=\"Twitter\"></span></span>\n            <a href=\"{{twitter_url}}\">{{twitter}}</a>\n          </li>\n          {{/compare ~}}\n          {{/compare ~}}\n          {{/if ~}}\n          {{#if facebook ~}}\n          {{#compare facebook \"!==\" null ~}}\n          {{#compare facebook \"!==\" \"http://\" ~}}\n          <li class=\"mdc-card__info--content-secondary-facebook mdc-typography--body1\">\n            <span class=\"fa-li\"><span class=\"fab fa-facebook fa-fw\" title=\"Facebook\"></span></span>\n            <a href=\"{{facebook_url}}\">{{facebook}}</a>\n          </li>\n          {{/compare ~}}\n          {{/compare ~}}\n          {{/if ~}}\n          {{#if linkedin ~}}\n          {{#compare linkedin \"!==\" null ~}}\n          {{#compare linkedin \"!==\" \"http://\" ~}}\n          <li class=\"mdc-card__info--content-secondary-linkedin mdc-typography--body1\">\n            <span class=\"fa-li\"><span class=\"fab fa-linkedin fa-fw\" title=\"LinkedIn\"></span></span>\n            <a href=\"{{linkedin_url}}\">{{linkedin}}</a>\n          </li>\n          {{/compare ~}}\n          {{/compare ~}}\n          {{/if ~}}\n          {{#if goodhq_organisation ~}}\n          {{#compare goodhq_organisation.xid \"!==\" null ~}}\n          <li class=\"mdc-card__info--content-secondary-goodhq mdc-typography--body1\">\n            <span class=\"fa-li\"><span class=\"fas fa-heart fa-fw\" title=\"Good HQ\"></span></span>\n            <a href=\"https://goodhq.org/{{goodhq_organisation.xid}}\">@{{goodhq_organisation.xid}}</a>\n            {{#compare goodhq_organisation.status \"===\" \"Open\"}}\n            \n            {{#compare @root.data.goodhq.reviews.hits.total \">\" 0 ~}}\n            <a href=\"https://goodhq.org/{{goodhq_organisation.xid}}?mode=reviews\">{{inflect @root.data.goodhq.reviews.hits.total \"review\" \"reviews\" true}}</a>{{#compare @root.data.goodhq.posts.hits.total \">\" 0}}{{#compare @root.data.goodhq.volunteering.hits.total \"===\" 0}} and {{else}}, {{/compare}}{{else}}{{#compare @root.data.goodhq.volunteering.hits.total \">\" 0}} and {{/compare}}{{/compare}}{{/compare ~}}\n            {{#compare @root.data.goodhq.posts.hits.total \">\" 0 ~}}\n            <a href=\"https://goodhq.org/{{goodhq_organisation.xid}}?mode=posts\">{{inflect @root.data.goodhq.posts.hits.total \"post\" \"posts\" true}}</a>{{#compare @root.data.goodhq.volunteering.hits.total \">\" 0}}, and{{/compare}}\n            {{/compare ~}}\n            {{#compare @root.data.goodhq.volunteering.hits.total \">\" 0 ~}}\n            <a href=\"https://goodhq.org/{{goodhq_organisation.xid}}?mode=volunteer\">{{inflect @root.data.goodhq.volunteering.hits.total \"volunteering opportunity\" \"volunteering opportunities\" true}}</a>\n            {{/compare ~}}\n            {{/compare}}\n            on\n            <a href=\"https://goodhq.org/{{goodhq_organisation.xid}}\">Good HQ</a>\n          </li>\n          {{/compare ~}}\n          {{/if ~}}\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n",
        "organisation_search_result": "<div class=\"mdc-card search-result\" data-organisation-id=\"{{Id}}\">\n  <div class=\"mdc-card__info--content-secondary-row\">\n    <div class=\"mdc-card__info--content-secondary\">\n      {{#if has_logo ~}}\n      <div class=\"mdc-card__media mdc-card__media--content-secondary\">\n        <a href=\"/organisation/{{slug}}{{> query_search}}\">\n          <img src=\"{{logo_url}}\" alt=\"{{title}}\" />\n        </a>\n      </div>\n      {{/if ~}}\n      <div class=\"mdc-card__info--content-secondary-title mdc-typography--headline6\">\n        <a href=\"/organisation/{{slug}}{{> query_search}}\">{{title}}</a>\n      </div>\n      <div class=\"search-result-article__snippet mdc-typography--body1\">\n        {{stripTags og_summary}}\n      </div>\n    </div>\n  </div>\n  <div class=\"mdc-card__actions\">\n    <div class=\"mdc-card__action-buttons demo-card__action-buttons--text-only mdc-card__actions--full-bleed\">\n      <a href=\"/organisation/{{slug}}{{> query_search}}\" class=\"mdc-card__action hide-sm\">Find out more</a>\n      <a href=\"/organisation/{{slug}}{{> query_search}}\" class=\"mdc-card__action hide-md hide-lg\"><span class=\"fal fa-info-circle fa-fw fa-2x\" aria-hidden=\"true\"></span></a>\n    </div>\n  </div>\n</div>",
        "pagination": "{{#compare paging.totalPages \">\" 1 ~}}\n<ul class=\"pagination inline-list\">\n  {{#if firstLastNavigation ~}}\n  <li class=\"{{#if paging.prevPage}}{{else}}disabled{{/if}}\">\n    <a class=\"pagination-arrow\" href=\"{{@root.request.params.uri.pathname}}?{{{querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null page=1 json=false}}}\">\n      <i class=\"far fa-fw fa-chevron-double-left\"></i>\n    </a>\n  </li>\n  {{/if ~}}\n  <li class=\"{{#if paging.prevPage}}{{else}}disabled{{/if}}\">\n    <a class=\"pagination-arrow\" href=\"{{@root.request.params.uri.pathname}}?{{{querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null page=paging.prevPage json=false}}}\">\n      <i class=\"far fa-fw fa-chevron-left\"></i>\n    </a>\n  </li>\n  {{#each paging.pageRange ~}}\n  <li class=\"{{#compare ../paging.currentPage \"===\" this.pageNumber}}current-page {{/compare}}pagination-distance-{{this.distance}}\">\n    <a class=\"pagination-page\" href=\"{{@root.request.params.uri.pathname}}?{{{querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null page=this.pageNumber json=false}}}\">\n      {{this.pageNumber}}\n    </a>\n  </li>\n  {{/each ~}}\n  <li class=\"{{#if paging.nextPage}}{{else}}disabled{{/if}}\">\n    <a class=\"pagination-arrow\" href=\"{{@root.request.params.uri.pathname}}?{{{querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null page=paging.nextPage json=false}}}\">\n      <i class=\"far fa-fw fa-chevron-right\"></i>\n    </a>\n  </li>\n  {{#if firstLastNavigation ~}}\n  <li class=\"{{#if paging.nextPage}}{{else}}disabled{{/if}}\">\n    <a class=\"pagination-arrow\" href=\"{{@root.request.params.uri.pathname}}?{{{querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null page=paging.totalPages json=false}}}\">\n      <i class=\"far fa-fw fa-chevron-double-right\"></i>\n    </a>\n  </li>\n  {{/if ~}}\n</ul>\n{{/compare ~}}",
        "queries_common_country": "{{#compare @root.request.url.hostname \"===\" \"goodmoves.local\" ~}}\n  {\n    \"terms\": {\n      \"country\": [\n        \"Scotland\",\n        \"England\",\n        \"Wales\",\n        \"Northern Ireland\"\n      ]\n    }\n  },\n{{/compare ~}}\n{{#compare @root.request.url.hostname \"===\" \"goodmoves.org.uk\" ~}}\n  {\n    \"terms\": {\n      \"country\": [\n        \"Scotland\",\n        \"England\",\n        \"Wales\",\n        \"Northern Ireland\"\n      ]\n    }\n  },\n{{/compare ~}}\n{{#compare @root.request.url.hostname \"===\" \"goodmoves.scot\" ~}}\n  {\n    \"terms\": {\n      \"country\": [\n        \"Scotland\"\n      ]\n    }\n  },\n{{/compare ~}}\n{{#compare @root.request.url.hostname \"===\" \"goodmoves.be\" ~}}\n  {\n    \"terms\": {\n      \"country\": [\n        \"Belgium\"\n      ]\n    }\n  },\n{{/compare ~}}\n{{#compare @root.request.url.hostname \"===\" \"goodmovesjobs.de\" ~}}\n  {\n    \"terms\": {\n      \"country\": [\n        \"Germany\"\n      ]\n    }\n  },\n{{/compare ~}}\n{{>queries_do_nothing}}",
        "queries_date_range": "{\n  \"range\": {\n    \"{{field}}\": {\n      {{#if lte~}}\n      \"lte\": {{{stringify lte}}},\n      {{~/if}}\n      {{#if lt~}}\n      \"lt\": {{{stringify lt}}},\n      {{~/if}}\n      {{#if gte~}}\n      \"gte\": {{{stringify gte}}},\n      {{~/if}}\n      {{#if gt~}}\n      \"gt\": {{{stringify gt}}},\n      {{~/if}}\n      \"boost\": {{default boost 1.0}}\n    }\n  }\n}",
        "queries_do_nothing": "{\n  \"exists\": {\n    \"field\": \"title\"\n  }\n}",
        "queries_number_range": "{\n  \"range\": {\n    \"{{field}}\": {\n      {{#if lte~}}\n      \"lte\": {{replace (trim lte) \",\" \"\"}},\n      {{~/if}}\n      {{#if lt~}}\n      \"lt\": {{replace (trim lt) \",\" \"\"}},\n      {{~/if}}\n      {{#if gte~}}\n      \"gte\": {{replace (trim gte) \",\" \"\"}},\n      {{~/if}}\n      {{#if gt~}}\n      \"gt\": {{replace (trim gt) \",\" \"\"}},\n      {{~/if}}\n      \"boost\": {{default boost 1.0}}\n    }\n  }\n}",
        "queries_opportunity_common_filters": "{{>queries_do_nothing}}",
        "queries_opportunity_search_filters_areas": "{\n  \"terms\": {\n    \"advertised_areas\": [\n      {{#each @root.data.location_data.la_results.aggregations.local_authority_areas.buckets ~}}\n        {{{stringify (replace (replace (replace key \" and \" \" & \") \"City of \" \"\") \" City\" \"\")}}}\n        {{#unless @last}},{{/unless}}\n      {{/each}}\n    ]\n  }\n},",
        "queries_opportunity_search_filters_home": "{{>queries_term field=\"volunteersearch_type_slugs\" term=\"home-based-volunteering\"}},",
        "queries_opportunity_search_filters_locations": "{{#ifAll location lat lng distance ~}}\n{\n  \"geo_distance\": {\n    \"distance\": \"{{default distance \"10\"}}mi\",\n    \"geo_coords\": {\n      \"lat\": {{lat}},\n      \"lon\": {{lng}}\n    }\n  }\n},\n{{/ifAll ~}}",
        "queries_opportunity_search_filters": "{\n  \"bool\": {\n    \"should\": [\n      {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"_type\": {\n                  \"value\" : \"milo-volunteering-opportunity\"\n                }\n              }\n            },\n            {{>queries_date_range field=\"date_last_modified\" gt=\"now-12M\"}}\n          ]\n        }\n      },\n      {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"_type\": {\n                  \"value\" : \"goodmoves-vacancy\"\n                }\n              }\n            },\n            {\n              \"bool\": {\n                \"filter\": [\n                  {{>queries_vacancy_common_filters_open @root.request.params.query}}\n                ],\n                \"should\": [\n                  {\n                    \"terms\": {\n                      \"roles_slugs\": [\"board-membership-trustee\"]\n                    }\n                  },\n                  {\n                    \"terms\": {\n                      \"role_status_slug\": [\"management-board\"]\n                    }\n                  }\n                ],\n                \"minimum_should_match\": 1\n              }\n            }\n          ]\n        }\n      }\n    ],\n    \"minimum_should_match\": 1\n  }\n},\n{{#if location ~}}\n{\n  \"bool\": {\n    \"should\": [\n      {{>queries_opportunity_search_filters_locations @root.request.params.query}}\n      {{>queries_opportunity_search_filters_areas @root.request.params.query}}\n      {{>queries_opportunity_search_filters_home @root.request.params.query}}\n      {{>queries_do_nothing}}\n    ],\n    \"minimum_should_match\": {{#if distance}}2{{else}}1{{/if}}\n  }\n},\n{{/if ~}}\n{{#if volunteersearch_types ~}}\n{{>queries_terms field=\"volunteersearch_type_slugs\" terms=volunteersearch_types}},\n{{/if ~}}\n{{#if activities ~}}\n{{>queries_terms field=\"activities_slugs\" terms=activities}},\n{{/if ~}}\n{{#if themes ~}}\n{{>queries_terms field=\"themes_slugs\" terms=themes}},\n{{/if ~}}\n{{#if services ~}}\n{{>queries_terms field=\"volunteersearch_support_option_slugs\" terms=services}},\n{{/if ~}}\n{{#if age_groups ~}}\n{{>queries_terms field=\"volunteersearch_age_group_slugs\" terms=age_groups}},\n{{/if ~}}\n{{#if availability ~}}\n{{>queries_terms field=\"availability_slugs\" terms=availability}},\n{{/if ~}}\n{{>queries_do_nothing}}",
        "queries_opportunity_search_must": "{{#if keywords ~}}\n{{>queries_query_string\n  querystring=keywords\n  fields=(split \"text_bag_boost^20,text_bag\" \",\")\n}},\n{{/if ~}}\n{{>queries_do_nothing}}\n",
        "queries_organisation_common_filters": "{{>queries_common_country}},\n{\n  \"terms\": {\n    \"Id\": {{{stringify (map @root.data.organisationsWithVacancies.vacancies.aggregations.organisations.buckets (getProp \"key\"))}}}\n  }\n},\n{{>queries_do_nothing}}",
        "queries_query_string": "{\n  \"query_string\": {\n    \"query\": {{{stringify querystring}}},\n    \"fields\": {{{stringify (arrayify fields)}}},\n    \"default_operator\": \"{{default operator \"AND\"}}\",\n    \"analyzer\": \"{{default analyzer \"snowball\"}}\"\n  }\n}",
        "queries_term": "{\n  \"term\": {\n    \"{{field}}\": {{{stringify term}}}\n  }\n}",
        "queries_terms": "{\n  \"terms\": {\n    \"{{field}}\": {{{stringify (arrayify terms)}}}\n  }\n}",
        "queries_vacancy_common_filters_closed": "{{>queries_vacancy_common_filters @root.request.params.query}},\n{{>queries_date_range field=\"closing_date\" lt=\"now\"}}",
        "queries_vacancy_common_filters_open": "{{>queries_vacancy_common_filters @root.request.params.query}},\n{{>queries_date_range field=\"closing_date\" gt=\"now\"}},\n{{>queries_date_range field=\"start_at\" lt=\"now\"}},\n{{>queries_date_range field=\"end_at\" gt=\"now\"}}\n",
        "queries_vacancy_common_filters": "{{>queries_term field=\"active\" term=true}},\n{{>queries_common_country request.params.query}}\n",
        "queries_vacancy_search_filters": "{{#if working_patterns ~}}\n  {{>queries_terms field=\"role_status_slug\" terms=working_patterns}},\n{{/if}}\n{{#if sectors ~}}\n  {{>queries_terms field=\"sectors_slugs\" terms=sectors}},\n{{/if ~}}\n{{#if roles ~}}\n  {{>queries_terms field=\"roles_slugs\" terms=roles}},\n{{/if ~}}\n{{#if salary_min ~}}\n  {{>queries_number_range field=\"salary_min\" gte=salary_min}},\n{{/if ~}}\n{{#if salary_max ~}}\n{{#compare salary_max \"===\" \"0\" ~}}\n  {{>queries_term field=\"remuneration_type\" term=\"Unpaid\"}},\n{{else}}\n  {{>queries_number_range field=\"salary_min\" lte=salary_max}},\n{{/compare ~}}\n{{/if ~}}\n{{#ifAny regions location home_based various_locations ~}}\n{\n  \"bool\": {\n    \"should\": [\n      {{#if regions ~}}\n        {\n          \"bool\": {\n            \"should\": [\n              {{>queries_terms field=\"region_group_slug\" terms=regions}},\n              {{>queries_terms field=\"regions_scotland_slugs\" terms=regions}}\n            ],\n            \"minimum_should_match\": 1\n          }\n        },\n      {{/if ~}}\n      {{#ifAll location lat lng distance ~}}\n        {\n          \"geo_distance\": {\n            \"distance\": \"{{default distance \"8.04672\"}}km\",\n            \"geo_coords\": {\n              \"lat\": {{lat}},\n              \"lon\": {{lng}}\n            }\n          }\n        },\n        {{#compare @root.route.name \"!==\" \"vacancy_map\" ~}}\n          {\n            \"bool\": {\n              \"should\": [\n                {\n                  \"term\": {\n                    \"home_based\": true\n                  }\n                },\n                {\n                  \"term\": {\n                    \"various_locations\": true\n                  }\n                }\n              ]\n            }\n          },\n        {{else}}\n          {{#if home_based ~}}\n            {\n              \"term\": {\n                \"home_based\": true\n              }\n            },\n          {{/if ~}}\n          {{#if various_locations ~}}\n            {\n              \"term\": {\n                \"various_locations\": true\n              }\n            },\n          {{/if ~}}\n        {{/compare ~}}\n      {{else}}\n        {{#if home_based ~}}\n          {\n            \"term\": {\n              \"home_based\": true\n            }\n          },\n        {{/if ~}}\n        {{#if various_locations ~}}\n          {\n            \"term\": {\n              \"various_locations\": true\n            }\n          },\n        {{/if ~}}\n      {{/ifAll ~}}\n      {{>queries_do_nothing}}\n    ],\n    \"minimum_should_match\": {{#if distance}}2{{else}}{{#ifAny home_based various_locations regions}}2{{else}}1{{/ifAny}}{{/if}}\n  }\n},\n{{/ifAny ~}}\n{{>queries_vacancy_common_filters}}\n",
        "queries_vacancy_search_must": "{{#if keywords ~}}\n{{>queries_query_string\n  querystring=keywords\n  fields=(split \"text_bag_boost^20,text_bag\" \",\")\n}},\n{{/if ~}}\n{{>queries_do_nothing}}\n",
        "query_search": "{{if (compare (querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null) \"\") \"\" else=\"?\"}}{{{querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null}}}",
        "search_info": "{{#if paging.totalResults ~}}\n<div class=\"search-info mdc-elevation--z3\">\n  <strong>Total results:</strong> {{addCommas paging.totalResults}}\n  {{#compare paging.totalResults \">\" 10 ~}} |\n  <strong>Current page:</strong> {{addCommas paging.currentPage}} of {{addCommas paging.totalPages}}\n  {{/compare ~}}\n  {{#compare @root.request.params.path \"===\" \"search\" ~}}\n  <a href=\"/map{{> query_search}}\" class=\"pull-right\">\n    <span class=\"far fa-map-marker-alt fa-fw mdc-list-item__graphic\" title=\"Map\"></span>\n    <span class=\"underline\">Show {{inflect paging.totalResults \"job\" \"jobs\"}} on map</a>\n  </a>\n  {{/compare ~}}\n</div>\n{{else}}\n{{#ifAny @root.request.params.query.keywords @root.request.params.query.location @root.request.params.query.salary_min @root.request.params.query.salary_max @root.request.params.query.working_patterns @root.request.params.query.regions @root.request.params.query.roles @root.request.params.query.sectors @root.request.params.query.home_based @root.request.params.query.various_locations ~}}\n<div class=\"search-info mdc-elevation--z1\">\n  No results could be found, please try a different search query\n</div>\n{{/ifAny ~}}\n{{/if ~}}\n",
        "shortlist_alerts": "{{#if @root.data.auth}}\n  {{#with @root.data.shortlist.items.[0].[0]}}\n    {{#> ajax_chip\n      onUrl=\"/toggle-shortlist-subscription\"\n      onMethod=\"POST\"\n      offUrl=\"/toggle-shortlist-subscription\"\n      offMethod=\"POST\"\n      onText=\"Send 'closing soon' alerts\"\n      offText=\"Send 'closing soon' alerts\"\n      iconClasses=\"fal fa-fw fa-times\"\n      on=this.active\n    }}\n    {}\n    {{/ajax_chip}}\n  {{else}}\n    You have nothing in your shortlist to subscribe to.\n   {{/with}}\n{{/if}}\n",
        "shortlist_chip": "{{#if @root.data.auth ~}}\n  {{#> ajax_chip\n    onUrl=(concat \"/add-to-shortlist?id=\" id)\n    offUrl=(concat \"/remove-from-shortlist?id=\" id)\n    onText=\"Shortlist\"\n    offText=\"Shortlist\"\n    iconClasses=\"far fa-star\"\n    on=(contains (map @root.data.shortlist.items.[0] (getProp \"value\")) id)\n  }}\n  {\n    \"extraAttributes\": \"data-vacancy-id=\\\"{{../id}}\\\"\",\n    \"onClasses\": {\n      \".mdc-card[data-vacancy-id=\\\"{{../id}}\\\"]\": \"added-to-shortlist\"\n      },\n    \"offClasses\": {\n      \".mdc-card[data-vacancy-id=\\\"{{../id}}\\\"]\": \"removed-from-shortlist\"\n    }\n  }\n  {{/ajax_chip}}\n{{else}}\n  <div class=\"mdc-chip\" data-dialog-target=\"#shortlist-dialog\">\n    <span class=\"far fa-star mdc-chip__icon mdc-chip__icon--leading\" aria-hidden=\"true\"></span>\n    <div class=\"mdc-chip__text noselect\">Shortlist</div>\n  </div>\n{{/if ~}}\n",
        "terms_maps": "{\n  {{#each (split \"working_patterns,regions,roles,sectors\" \",\")}}\n    \"{{this}}\": {\n      \"slugsMap\": {\n        {{#each (getProperty @root.data.supplimentaryResponses.types.aggregations (concat this \".buckets\")) ~}}\n          {{#if key ~}}\n          \"{{slugify key}}\": {\n            \"term\": {{{stringify key}}},\n            \"count\": {{doc_count}}\n          }{{#unless @last}},{{/unless}}\n          {{/if ~}}\n        {{/each}}\n      },\n      \"termsMap\": {\n        {{#each (getProperty @root.data.supplimentaryResponses.types.aggregations (concat this \".buckets\")) ~}}\n          {{#if key ~}}\n          {{{stringify key}}}: {\n            \"slug\": \"{{slugify key}}\",\n            \"count\": {{doc_count}}\n          }{{#unless @last}},{{/unless}}\n          {{/if ~}}\n        {{/each}}\n      },\n      \"all\": [\n        {{#each (getProperty @root.data.supplimentaryResponses.types.aggregations (concat this \".buckets\")) ~}}\n          {{#if key ~}}\n          {\n            \"term\": {{{stringify key}}},\n            \"slug\": \"{{slugify key}}\",\n            \"count\": {{doc_count}}\n          }{{#unless @last}},{{/unless}}\n          {{/if ~}}\n        {{/each}}\n      ]\n    }{{#unless @last}},{{/unless}}\n  {{/each}},\n  \"districts\": {\n    \"slugsMap\": {\n      {{#each @root.data.supplimentaryResponses.types.aggregations.districts.district_names.buckets}}\n        {{#if key ~}}\n        \"{{slugify key}}\": {\n          \"term\": {{{stringify key}}},\n          \"count\": {{doc_count}},\n          \"wards\": {\n            {{#each wards.ward_names.buckets ~}}\n              {{~#if key}}\n                \"{{slugify key}}\" : {\n                  \"term\": {{{stringify key}}},\n                  \"count\": {{doc_count}}\n                }{{#unless @last}},{{/unless}}\n              {{/if ~}}\n            {{/each}}\n          }\n        }{{#unless @last}},{{/unless}}\n        {{/if ~}}\n      {{/each}}\n    },\n    \"termsMap\": {\n      {{#each @root.data.supplimentaryResponses.types.aggregations.districts.district_names.buckets ~}}\n        {{#if key ~}}\n        {{{stringify key}}}: {\n          \"slug\": \"{{slugify key}}\",\n          \"count\": {{doc_count}},\n          \"wards\": {\n            {{#each wards.ward_names.buckets ~}}\n              {{#if key ~}}\n              {{{stringify key}}}: {\n                \"term\": {{{stringify key}}},\n                \"slug\": \"{{slugify key}}\",\n                \"count\": {{doc_count}}\n              }{{#unless @last}},{{/unless}}\n              {{/if ~}}\n            {{/each}}\n          }\n        }{{#unless @last}},{{/unless}}\n        {{/if ~}}\n      {{/each}}\n    }\n  }\n}\n",
        "tfn_latest": "<div class=\"mdc-layout-grid tfn tfn-latest\">\n  <div class=\"mdc-layout-grid__inner\">\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone v-margin-full\">\n      <div class=\"mdc-typography--headline5 v-margin-full\">\n        Latest articles on <a href=\"https://thirdforcenews.org.uk?utm_source=Widget&utm_medium=Widget&utm_campaign=Widget-Traffic\">Third Force News</a>\n      </div>\n      <div class=\"mdc-layout-grid equal-height\">\n        <div class=\"mdc-layout-grid__inner\">\n          {{#each @root.data.posts.tfn_latest.hits.hits ~}}\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n            {{#with _source ~}}\n            <div class=\"gist tfn-post {{../_type}}\" style=\"background-image: url('{{image_feature}}');\">\n              <a href=\"{{url}}?utm_source=Widget&amp;utm_medium=Widget&amp;utm_campaign=Widget-Traffic\" title=\"{{{title}}}\" class=\"mdc-card{{#if image_feature}}{{else}} no-image{{/if}}\">\n                <h3 class=\"mdc-card__title mdc-typography--headline\">\n                  {{{title}}}\n                </h3>\n                <h4 class=\"mdc-card__subtitle post-info\">\n                  <div class=\"post-info-item post-info-date\">\n                    <span class=\"far fa-calendar-edit\" aria-hidden=\"true\"></span>\n                    {{{momentFormat (moment date_published \"x\") \"Do MMMM YYYY\"}}}\n                  </div>\n                </h4>\n              </a>\n            </div>\n            {{/with ~}}\n          </div>\n          {{/each ~}}\n        </div>\n      </div>\n      <p class=\"mdc-typography--body1\">\n        <a href=\"https://thirdforcenews.org.uk/tfn-news?utm_source=Widget&utm_medium=Widget&utm_campaign=Widget-Traffic\">Read all the latest news from TFN</a>&emsp;<a href=\"https://thirdforcenews.org.uk/signup?utm_source=Widget&utm_medium=Widget&utm_campaign=Widget-Traffic\">Subscribe to TFN</a>\n      </p>\n    </div>\n  </div>\n</div>",
        "vacancy_search_form": "{{#*inline \"term_checkbox\"}}\n  {{#if value ~}}\n  <div class=\"mdc-form-field\">\n    <div class=\"mdc-checkbox\">\n      <input type=\"checkbox\" class=\"mdc-checkbox__native-control\" id=\"{{instance_id}}_{{field}}_{{slug}}\" name=\"{{#compare field \"===\" \"type\"}}{{field}}{{else}}{{field}}[]{{/compare}}\" value=\"{{slug}}\"{{#if (contains (arrayify selected) slug)}} checked{{/if}} />\n      <div class=\"mdc-checkbox__background\">\n        <svg class=\"mdc-checkbox__checkmark\"\n        viewBox=\"0 0 24 24\">\n        <path class=\"mdc-checkbox__checkmark-path\"\n        fill=\"none\"\n        stroke=\"white\"\n        d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"/></svg>\n        <div class=\"mdc-checkbox__mixedmark\"></div>\n      </div>\n    </div>\n    <label for=\"{{instance_id}}_{{field}}_{{slug}}\">\n      {{{default value.key value}}}\n    </label>\n  </div>\n  {{/if ~}}\n{{/inline}}\n\n<div class=\"mdc-drawer__header\">\n  <h3 class=\"mdc-typography--headline6\">Search jobs</h3>\n  {{#compare @root.route.name \"jobs_in\"}}\n    <h6 class=\"mdc-drawer__subtitle\">in\n      {{#if @root.request.params.ward}}\n        {{{replace (getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".wards.\" @root.request.params.ward \".term\")) \"/\" \" &amp; \"}}},\n      {{/if}}\n      {{getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".term\")}}\n      <a href=\"/search{{> query_search}}\">All areas</a>\n    </h6>\n  {{/compare}}\n</div>\n{{#compare @root.data.supplimentaryResponses.types.hits.total \">\" 0 ~}}\n  <div class=\"mdc-drawer__content\">\n    {{#compare @root.route.name \"!==\" \"jobs_in\" ~}}\n    <div class=\"h-padding-full\">\n      {{#> components_tab_bar}}\n        {{> components_tab url=(concat \"/search\" (if (compare (querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null) \"\") \"\" else=\"?\") (querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null)) iconClasses=\"far fa-list fa-fw\" label=\"List\" active=(compare @root.request.url.pathname \"===\" \"/search\")}}\n        {{> components_tab url=(concat \"/map\" (if (compare (querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null) \"\") \"\" else=\"?\") (querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null)) iconClasses=\"far fa-map-marker-alt fa-fw\" label=\"Map\" active=(compare @root.request.url.pathname \"===\" \"/map\")}}\n      {{/components_tab_bar}}\n    </div>\n    {{/compare ~}}\n\n      {{#if (regexMatch @root.request.url.pathname \"^/jobs-in\" \"gi\")}}\n        <form action=\"{{@root.request.url.pathname}}\" method=\"GET\" class=\"search-form\" novalidate>\n      {{else}}\n        <form action=\"/{{#compare @root.request.url.pathname \"/map\"}}map{{else}}search{{/compare}}\" method=\"GET\" class=\"search-form\" novalidate>\n      {{/if}}\n      <input type=\"hidden\" name=\"sort\" value=\"{{@root.request.params.query.sort}}\" id=\"{{instance_id}}-sort\">\n      <div class=\"h-padding-full\">\n        <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n          <span class=\"far fa-search mdc-text-field__icon\" tabindex=\"-1\"></span>\n          <input type=\"text\" id=\"{{instance_id}}-keywords\" name=\"keywords\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" value=\"{{@root.request.params.query.keywords}}\" data-lpignore=\"true\" autocomplete=\"off\">\n          <label class=\"mdc-floating-label\" for=\"keywords\">\n            Keywords\n          </label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n      </div>\n\n      {{#compare @root.route.name \"!==\" \"jobs_in\"}}\n      <div class=\"h-padding-full\">\n        <div class=\"mdc-layout-grid\">\n          <div class=\"mdc-layout-grid__inner\">\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n              <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\" style=\"z-index:4;\">\n                <span class=\"far fa-map-marker-alt mdc-text-field__icon geo-lookup\" tabindex=\"0\" title=\"Find my location\" role=\"button\" style=\"pointer-events: initial !important;\"></span>\n                <input type=\"text\" id=\"{{instance_id}}-location\" name=\"location\" class=\"mdc-text-field__input mdc-text-field--fullwidth search-location\" value=\"{{#ifAll @root.request.params.query.lat @root.request.params.query.lng}}{{@root.request.params.query.location}}{{/ifAll}}\" placeholder=\"\" data-lpignore=\"true\" data-location-search='{\n                  \"latSelector\": \"[name=\\\"lat\\\"]\",\n                  \"lngSelector\": \"[name=\\\"lng\\\"]\",\n                  \"locationServicesSelector\": \".geo-lookup\"\n                }'>\n                <label class=\"mdc-floating-label mdc-floating-label--float-above\" for=\"{{instance_id}}-location\">\n                  Location\n                </label>\n                <div class=\"mdc-line-ripple\"></div>\n              </div>\n            </div>\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n              <div class=\"mdc-select mdc-select--box\" data-mdc-auto-init=\"MDCSelect\">\n                <span class=\"mdc-select__dropdown-icon\"></span>\n                <select data-location=\"{{instance_id}}-location\" class=\"mdc-select__native-control search-distance\" id=\"{{instance_id}}-distance\" name=\"distance\">\n                  <option value=\"8.04672\"{{#compare @root.request.params.query.distance \"8.04672\"}} selected{{/compare}}>5 miles</option>\n                  <option value=\"16.09344\"{{#compare @root.request.params.query.distance \"16.09344\"}} selected{{/compare}}>10 miles</option>\n                  <option value=\"40.2336\"{{#compare @root.request.params.query.distance \"40.2336\"}} selected{{/compare}}>25 miles</option>\n                  <option value=\"80.4672\"{{#compare @root.request.params.query.distance \"80.4672\"}} selected{{/compare}}>50 miles</option>\n                  <option value=\"\"{{#compare @root.request.params.query.distance \"\"}} selected{{/compare}}>no limit</option>\n                </select>\n                <label class=\"mdc-floating-label mdc-floating-label--float-above\" for=\"{{instance_id}}-distance\">\n                  Within\n                </label>\n                <div class=\"mdc-line-ripple\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <input type=\"hidden\" name=\"lat\" value=\"{{@root.request.params.query.lat}}\">\n      <input type=\"hidden\" name=\"lng\" value=\"{{@root.request.params.query.lng}}\">\n      {{/compare}}\n\n      <h3 class=\"mdc-drawer__content-heading cursor-pointer noselect\" data-collapse-target=\"#{{instance_id}}-salary-collapse\" role=\"button\" aria-pressed=\"false\" aria-label=\"Show salary search options\" tabindex=\"0\">\n        Salary\n        <span class=\"mdc-icon-toggle pull-right\">\n          <i class=\"far {{#if (getProperty @root.request.params.query \"salary_min\")}}fa-chevron-up{{else}}fa-chevron-down{{/if}}\" aria-hidden=\"true\"></i>\n        </span>\n      </h3>\n      <div id=\"{{instance_id}}-salary-collapse\"{{#unless (getProperty @root.request.params.query \"salary_min\")}}{{#unless (getProperty @root.request.params.query \"salary_max\")}} style=\"display: none;\"{{/unless}}{{/unless}}>\n        <div class=\"h-padding-full\">\n          <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\" novalidate>\n            <span class=\"far fa-arrow-alt-from-left mdc-text-field__icon\" tabindex=\"-1\"></span>\n            <input type=\"number\" id=\"{{instance_id}}-salary_min\" step=\"1000\" min=\"0\" max=\"1000000\" name=\"salary_min\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" value=\"{{@root.request.params.query.salary_min}}\" data-lpignore=\"true\" novalidate>\n            <label class=\"mdc-floating-label\" for=\"{{instance_id}}-salary_min\">\n              Minimum salary\n            </label>\n            <div class=\"mdc-line-ripple\"></div>\n          </div>\n        </div>\n\n        <div class=\"h-padding-full\">\n          <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\" novalidate>\n            <span class=\"far fa-arrow-alt-to-right mdc-text-field__icon\" tabindex=\"-1\"></span>\n            <input type=\"number\" id=\"{{instance_id}}-salary_max\" step=\"1000\" min=\"0\" max=\"1000000\" name=\"salary_max\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" value=\"{{@root.request.params.query.salary_max}}\" data-lpignore=\"true\" novalidate>\n            <label class=\"mdc-floating-label\" for=\"{{instance_id}}-salary_max\">\n              Maximum salary\n            </label>\n            <div class=\"mdc-line-ripple\"></div>\n          </div>\n        </div>\n      </div>\n\n      {{#each\n        (split\n          (concat\n            \"working_patterns,\"\n            (if @root.request.params.district \"\" else=\"regions,\")\n            \"roles,sectors\"\n          )\n        \",\")\n      ~}}\n        <h3 class=\"mdc-drawer__content-heading cursor-pointer noselect mdc-drawer--occasional-ie11\" data-checkbox-collapse-target=\"#{{../instance_id}}-{{this}}-collapse\" role=\"button\" aria-pressed=\"false\" aria-label=\"Show {{getProperty @root.context.metaData.termTypeLabels (concat type \".plural\")}}\" tabindex=\"0\">\n          {{getProperty @root.context.metaData.termTypeLabels (concat this \".plural\")}}\n          <span class=\"mdc-icon-toggle pull-right\">\n            <i class=\"far fa-chevron-down\" aria-hidden=\"true\"></i>\n          </span>\n        </h3>\n        <div class=\"mdc-drawer--occasional-ie11 checkbox-toggle-display-checked\" id=\"{{../instance_id}}-{{this}}-collapse\">\n          {{#compare this \"===\" \"regions\" ~}}\n            {{#compare (length @root.data.supplimentaryResponses.types_regions.aggregations.regions.buckets) \">\" 0 ~}}\n            <h3 class=\"mdc-typography--headline7 h-padding-full checkbox-collapse-element\">Scotland</h3>\n            {{#each @root.data.supplimentaryResponses.types_regions.aggregations.regions_slugs.buckets ~}}\n              {{#if key ~}}\n                {{> term_checkbox slug=key field=\"regions\" selected=@root.request.params.query.regions instance_id=../../instance_id value=(lookup @root.data.supplimentaryResponses.types_regions.aggregations.regions.buckets @index)}}\n              {{/if ~}}\n            {{/each ~}}\n            {{/compare ~}}\n            {{#compare (length @root.data.supplimentaryResponses.types_regions_england.aggregations.regions.buckets) \">\" 0 ~}}\n            <h3 class=\"mdc-typography--headline7 h-padding-full checkbox-collapse-element\">England</h3>\n            {{#each @root.data.supplimentaryResponses.types_regions_england.aggregations.regions_slugs.buckets ~}}\n              {{#if key ~}}\n                {{> term_checkbox slug=key field=\"regions\" selected=@root.request.params.query.regions instance_id=../../instance_id value=(lookup @root.data.supplimentaryResponses.types_regions_england.aggregations.regions.buckets @index)}}\n              {{/if ~}}\n            {{/each ~}}\n            {{/compare ~}}\n            {{#compare (length @root.data.supplimentaryResponses.types_regions_northern_ireland.aggregations.regions.buckets) \">\" 0 ~}}\n            <h3 class=\"mdc-typography--headline7 h-padding-full checkbox-collapse-element\">Northern Ireland</h3>\n            {{#each @root.data.supplimentaryResponses.types_regions_northern_ireland.aggregations.regions_slugs.buckets ~}}\n              {{#if key ~}}\n                {{> term_checkbox slug=key field=\"regions\" selected=@root.request.params.query.regions instance_id=../../instance_id value=(lookup @root.data.supplimentaryResponses.types_regions_northern_ireland.aggregations.regions.buckets @index)}}\n              {{/if ~}}\n            {{/each ~}}\n            {{/compare ~}}\n            {{#compare (length @root.data.supplimentaryResponses.types_regions_wales.aggregations.regions.buckets) \">\" 0 ~}}\n            <h3 class=\"mdc-typography--headline7 h-padding-full checkbox-collapse-element\">Wales</h3>\n            {{#each @root.data.supplimentaryResponses.types_regions_wales.aggregations.regions_slugs.buckets ~}}\n              {{#if key ~}}\n                {{> term_checkbox slug=key field=\"regions\" selected=@root.request.params.query.regions instance_id=../../instance_id value=(lookup @root.data.supplimentaryResponses.types_regions_wales.aggregations.regions.buckets @index)}}\n              {{/if ~}}\n            {{/each ~}}\n            {{/compare ~}}\n            {{#with @root.data.supplimentaryResponses.types.aggregations ~}}\n            {{#ifAny (compare (length various_locations.buckets) \">=\" 1) (compare (length home_based.buckets) \">=\" 1) ~}}\n              <h3 class=\"mdc-typography--headline7 h-padding-full checkbox-collapse-element\">Other</h3>\n              {{#compare (length various_locations.buckets) \">=\" 1 ~}}\n                {{> term_checkbox slug=\"true\" field=\"various_locations\" selected=@root.request.params.query.various_locations instance_id=../../instance_id value=\"Various locations\"}}\n              {{/compare ~}}\n              {{#compare (length home_based.buckets) \">=\" 1 ~}}\n                {{> term_checkbox slug=\"true\" field=\"home_based\" selected=@root.request.params.query.home_based instance_id=../../instance_id value=\"Home-based\"}}\n              {{/compare ~}}\n            {{/ifAny ~}}\n            {{/with ~}}\n          {{else}}\n            {{#each (getProperty @root.data.termsMaps (concat this \".all\")) ~}}\n              {{> term_checkbox slug=slug field=../this selected=(getProperty @root.request.params.query ../this) instance_id=../../instance_id value=term}}\n            {{/each ~}}\n          {{/compare ~}}\n        </div>\n      {{/each ~}}\n\n      <div class=\"h-margin-full v-margin-full\">\n        <button class=\"mdc-button mdc-button--raised mdc-button--large mdc-button--fullwidth mdc-ripple-surface mdc-ripple-surface--primary\" type=\"submit\" id=\"{{instance_id}}-search-submit\" data-mdc-auto-init=\"MDCRipple\">\n          <span class=\"far fa-search fa-fw mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n          Search\n        </button>\n      </div>\n    </form>\n  </div>\n{{else}}\n  <div class=\"mdc-typography--headline7 h-padding-full\">\n    No jobs are currently listed\n  </div>\n{{/compare ~}}",
        "vacancy_search_results": "{{> banner_ad}}\n\n{{> search_info paging=@root.data.search_data.detailed_results.pagination}}\n\n<aside id=\"save-search-dialog\" class=\"mdc-dialog\" role=\"alertdialog\" aria-labelledby=\"save-search-dialog-label\" aria-describedby=\"save-search-dialog-description\" data-mdc-auto-init=\"MDCDialog\">\n  <div class=\"mdc-dialog__container\">\n    <form action=\"/save-search{{> query_search}}\" method=\"POST\" class=\"mdc-dialog__surface\">\n      <h2 id=\"save-search-dialog-label\" class=\"mdc-dialog__title\">Give your search a name</h2>\n      <section id=\"save-search-dialog-description\" class=\"mdc-dialog__content\">\n        <div class=\"mdc-text-field mdc-text-field--box\" data-mdc-auto-init=\"MDCTextField\">\n          <input type=\"text\" id=\"saved-search-name\" name=\"name\" class=\"mdc-text-field__input\" value=\"\n{{~#with @root.request.params.query~}}\n  {{~#if keywords~}}\n    {{~keywords~}}\n    {{~#ifAny regions roles sectors working_patterns}}, {{/ifAny~}}\n  {{~/if~}}\n  {{~#if regions~}}\n    {{~#each (arrayify regions)~}}\n      {{~getProperty (getProperty @root.data.termsMaps.regions.slugsMap this) \"term\"~}}\n      {{~#unless @last}}, {{/unless~}}\n    {{~/each~}}\n    {{~#ifAny roles sectors working_patterns}}, {{/ifAny~}}\n  {{~/if~}}\n  {{~#if roles~}}\n    {{~#each (arrayify roles)~}}\n      {{~getProperty (getProperty @root.data.termsMaps.roles.slugsMap this) \"term\"~}}\n      {{~#unless @last}}, {{/unless~}}\n    {{~/each~}}\n    {{~#ifAny sectors working_patterns}}, {{/ifAny~}}\n  {{~/if~}}\n  {{~#if sectors~}}\n    {{~#each (arrayify sectors)~}}\n      {{~getProperty (getProperty @root.data.termsMaps.sectors.slugsMap this) \"term\"~}}\n      {{~#unless @last}}, {{/unless~}}\n    {{~/each~}}\n    {{~#ifAny working_patterns}}, {{/ifAny~}}\n  {{~/if~}}\n  {{~#if working_patterns~}}\n    {{~#each (arrayify working_patterns)~}}\n      {{~getProperty (getProperty @root.data.termsMaps.working_patterns.slugsMap this) \"term\"~}}\n      {{~#unless @last}}, {{/unless~}}\n    {{~/each~}}\n  {{~/if}}\n  {{~#if location~}}&nbsp;near {{location}} {{/if~}}\n  {{~#if salary_min~}}\n    {{~#if salary_max}} between &pound;{{addCommas salary_min}} and &pound;{{addCommas salary_max}}\n    {{~else}} over &pound;{{addCommas salary_min}}\n    {{~/if~}}\n  {{~else~}}\n    {{~#if salary_max}} up to &pound;{{addCommas salary_max}}\n    {{~/if}}\n  {{~/if~}}\n{{~/with~}}\">\n          <label for=\"saved-search-name\" class=\"mdc-floating-label\">Save search</label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n        <div class=\"mdc-form-field\">\n          <div class=\"mdc-checkbox\">\n            <input type=\"checkbox\" class=\"mdc-checkbox__native-control\" name=\"subscribe\" id=\"email-on\"/>\n            <div class=\"mdc-checkbox__background\">\n              <svg class=\"mdc-checkbox__checkmark\" viewBox=\"0 0 24 24\">\n                <path class=\"mdc-checkbox__checkmark-path\" fill=\"none\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"/>\n              </svg>\n              <div class=\"mdc-checkbox__mixedmark\"></div>\n            </div>\n          </div>\n          <label for=\"email-on\">Send email alerts for new jobs matching this search</label>\n        </div>\n      </section>\n      <footer class=\"mdc-dialog__actions\">\n        <button type=\"button\" class=\"mdc-button mdc-dialog__button\" data-mdc-dialog-action=\"close\">Cancel</button>\n        <button type=\"submit\" class=\"mdc-button mdc-dialog__button\" data-mdc-dialog-action=\"accept\">Save</button>\n      </footer>\n    </form>\n  </div>\n  <div class=\"mdc-dialog__scrim\"></div>\n</aside>\n\n<aside id=\"edit-search-dialog\" class=\"mdc-dialog\" role=\"alertdialog\" aria-labelledby=\"edit-search-dialog-label\" aria-describedby=\"edit-search-dialog-description\" data-mdc-auto-init=\"MDCDialog\">\n  <div class=\"mdc-dialog__container\">\n    <div class=\"mdc-dialog__surface\">\n      {{#if @root.data.auth ~}}\n        {{#with (\n          querystringify (obj)\n          keywords=@root.request.params.query.keywords\n          salary_min=@root.request.params.query.salary_min\n          salary_max=@root.request.params.query.salary_max\n          regions=(sort @root.request.params.query.regions)\n          roles=(sort @root.request.params.query.roles)\n          sectors=(sort @root.request.params.query.sectors)\n          working_patterns=(sort @root.request.params.query.working_patterns)\n          distance=@root.request.params.query.distance\n          lat=@root.request.params.query.lat\n          lng=@root.request.params.query.lng\n          location=@root.request.params.query.location\n        ) ~}}\n          {{#if (itemAt @root.data.searches.items.[0] (indexOf (map @root.data.searches.items.[0] (getProp 'querystring')) this)) ~}}\n            {{#with (itemAt @root.data.searches.items.[0] (indexOf (map @root.data.searches.items.[0] (getProp 'querystring')) this)) ~}}\n              <h2 id=\"edit-search-dialog-label\" class=\"mdc-dialog__title\">Your search&ensp;<span class=\"mdc-typography--body1\"><strong>{{{partition}}}</strong></span></h2>\n              <section id=\"edit-search-dialog-description\" class=\"mdc-dialog__content\">\n                <div class=\"mdc-chip-set mdc-chip-set--filter\">\n                  {{#> ajax_chip\n                    onUrl=\"/toggle-subscription\"\n                    offUrl=\"/toggle-subscription\"\n                    onText=\"Send jobs matching this search by email\"\n                    offText=\"Send jobs matching this search by email\"\n                    onMethod=\"POST\"\n                    offMethod=\"POST\"\n                    iconClasses=\"fal fa-fw fa-times\"\n                    on=partitionActive\n                  }}\n                  {\n                    \"onData\": {\n                      \"name\": {{{stringify ../partition}}}\n                    },\n                    \"offData\": {\n                      \"name\": {{{stringify ../partition}}}\n                    }\n                  }\n                  {{/ajax_chip}}\n                </div>\n              </section>\n              <footer class=\"mdc-dialog__actions\">\n                <button type=\"button\" class=\"mdc-button mdc-dialog__button\" data-mdc-dialog-action=\"close\">Close</button>\n              </footer>\n            {{/with ~}}\n          {{/if ~}}\n        {{/with ~}}\n      {{/if ~}}\n    </div>\n  </div>\n  <div class=\"mdc-dialog__scrim\"></div>\n</aside>\n\n{{> dialog_shortlist}}\n\n<div class=\"mdc-layout-grid head\">\n  <div class=\"mdc-layout-grid__inner\">\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone action\">\n      {{#if @root.data.auth ~}}\n        {{#with (\n          querystringify (obj)\n          keywords=@root.request.params.query.keywords\n          salary_min=@root.request.params.query.salary_min\n          salary_max=@root.request.params.query.salary_max\n          regions=@root.request.params.query.regions\n          roles=@root.request.params.query.roles\n          sectors=@root.request.params.query.sectors\n          working_patterns=@root.request.params.query.working_patterns\n          distance=@root.request.params.query.distance\n          lat=@root.request.params.query.lat\n          lng=@root.request.params.query.lng\n          location=@root.request.params.query.location\n        ) ~}}\n          <script>\n            document.addEventListener('DOMContentLoaded', function() {\n              console.log('Current Query String:', {{{stringify this}}});\n              console.log('Saved Search Query Strings:', {{{stringify (map @root.data.searches.items.[0] (getProp 'querystring'))}}});\n            });\n          </script>\n        {{/with ~}}\n        {{#if (itemAt @root.data.searches.items.[0] (indexOf (map @root.data.searches.items.[0] (getProp 'querystring')) this)) ~}}\n          {{#with (itemAt @root.data.searches.items.[0] (indexOf (map @root.data.searches.items.[0] (getProp 'querystring')) this))}}\n            <h3 class=\"mdc-typography--headline6\">\n              Your search&ensp;\n              <span class=\"mdc-typography--body1\">\n                <a name=\"#\" data-dialog-target=\"#edit-search-dialog\" style=\"cursor:pointer;\">{{{partition}}}</a>\n              </span>\n            </h3>\n          {{/with ~}}\n        {{else}}\n          <button class=\"mdc-button mdc-button--raised mdc-button--large save-search hide-sm hide-md\" id=\"save-search-button\" data-dialog-target=\"#save-search-dialog\">\n            <span class=\"far fa-search-plus mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n            Save/email this search\n          </button>\n          <button class=\"mdc-button mdc-button--raised mdc-button--large filter-search hide-lg filter-search-button\" id=\"filter-search-button\">\n            <span class=\"far fa-search mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n            Search filters\n          </button>\n        {{/if ~}}\n      {{else}}\n        <a href=\"/sign-up\" class=\"mdc-button mdc-button--raised mdc-button--large save-search hide-sm hide-md\" id=\"save-search-button\">\n          <span class=\"far fa-sign-in-alt mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n          Sign up to create email alerts\n        </a>\n      {{/if ~}}\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone pagination-desktop\">\n      {{> pagination firstLastNavigation=true paging=@root.data.search_data.detailed_results.pagination}}\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone action\">\n      {{#compare @root.data.search_data.detailed_results.hits.total \">\" 0 ~}}\n      <form action=\"{{{@root.request.url.path}}}\" method=\"GET\">\n        {{#each (split \"working_patterns,regions,roles,sectors\" \",\")}}\n          {{#if (getProperty @root.request.params.query this) ~}}\n            {{#each (arrayify (getProperty @root.request.params.query this)) ~}}\n              <input type=\"hidden\" name=\"{{../this}}[]\" value=\"{{this}}\" />\n            {{/each ~}}\n          {{/if ~}}\n        {{/each ~}}\n        {{#each (split \"keywords,location,lat,lng,salary_min,salary_max\" \",\")}}\n          {{#if (getProperty @root.request.params.query this) ~}}\n            <input type=\"hidden\" name=\"{{this}}\" value=\"{{getProperty @root.request.params.query this}}\" />\n          {{/if ~}}\n        {{/each ~}}\n        <input type=\"hidden\" name=\"distance\" value=\"{{#if @root.request.params.query.distance}}{{@root.request.params.query.distance}}{{else}}16.09344{{/if}}\" />\n        {{> vacancy_search_sort}}\n      </form>\n      {{/compare ~}}\n    </div>\n    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone pagination-mobile\">\n      {{> pagination firstLastNavigation=true paging=@root.data.search_data.detailed_results.pagination}}\n    </div>\n  </div>\n</div>\n\n{{#each @root.data.search_data.detailed_results.hits.hits ~}}\n{{> vacancy_search_result _source distance=sort.[2]}}\n{{/each ~}}\n\n<div class=\"foot\">\n  {{> pagination firstLastNavigation=true paging=@root.data.search_data.detailed_results.pagination}}\n\n  <button class=\"mdc-button mdc-button--raised mdc-button--large save-search hide-lg\" id=\"save-search-button-foot\" data-dialog-target=\"#save-search-dialog\">\n    <span class=\"far fa-search-plus mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n    Save/email this search\n  </button>\n</div>",
        "vacancy_search_sort": "<div class=\"mdc-select pull-right mdc-elevation--z2\" data-mdc-auto-init=\"MDCSelect\">\n  <span class=\"mdc-select__dropdown-icon\"></span>\n  <select class=\"mdc-select__native-control\" id=\"sort\" name=\"sort\" onchange=\"this.form.submit();\">\n    <option value=\"relevance\"{{#compare @root.request.params.query.sort \"===\" \"relevance\"}} selected{{/compare}}>Relevance</option>\n    <option value=\"distance\"{{#compare @root.request.params.query.sort \"===\" \"distance\"}} selected{{/compare}}{{#if @root.request.params.query.location}}{{#compare @root.request.params.query.location \"===\" \"\"}} disabled{{/compare}}{{else}} disabled{{/if}}>Distance</option>\n    <option value=\"closing_soon\"{{#compare @root.request.params.query.sort \"===\" \"closing_soon\"}} selected{{/compare}}>Closing soon</option>\n    <option value=\"newest\"{{#compare @root.request.params.query.sort \"===\" \"newest\"}} selected{{/compare}}>Newest</option>\n    <option value=\"oldest\"{{#compare @root.request.params.query.sort \"===\" \"oldest\"}} selected{{/compare}}>Oldest</option>\n    <option value=\"salary_high\"{{#compare @root.request.params.query.sort \"===\" \"salary_high\"}} selected{{/compare}}>Salary - high to low</option>\n    <option value=\"salary_low\"{{#compare @root.request.params.query.sort \"===\" \"salary_low\"}} selected{{/compare}}>Salary - low to high</option>\n  </select>\n  <label class=\"mdc-floating-label mdc-select__label--float-above\" for=\"sort\">\n    Sort\n  </label>\n  <div class=\"mdc-line-ripple\"></div>\n</div>",
        "vacancy_actions": "<div class=\"mdc-card__actions\">\n  <div class=\"mdc-card__action-buttons demo-card__action-buttons--text-only mdc-card__actions--full-bleed\">\n    {{#compare action \"===\" \"organisation\" ~}}\n    <a href=\"/organisation/{{organisation.id}}/{{organisation.name_slug}}{{> query_search}}\" class=\"mdc-card__action hide-sm\">Find out more about {{organisation.name}}</a>\n    <!-- <a href=\"/organisation/{{organisation.id}}/{{organisation.name_slug}}{{> query_search}}\" class=\"mdc-card__action hide-md hide-lg\"><span class=\"fal fa-info-circle fa-fw fa-2x\" aria-hidden=\"true\"></span></a> -->\n    {{else}}\n    {{#compare @root.route.name \"===\" \"vacancy_search\" ~}}\n    {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}}\n    {{#if home_based ~}}{{else}}\n    {{#if various_locations ~}}{{else}}\n    {{#if distance ~}}\n    {{#compare distance \"!==\" \"Infinity\" ~}}\n    <ul class=\"fa-ul mdc-card__action hide-sm\">\n      <li class=\"mdc-card__info--search-distance mdc-typography--body2\">\n        <span class=\"fa-li\"><span class=\"fas fa-location-arrow fa-fw\" title=\"Distance\"></span></span>\n        {{#compare distance \"<\" 4 ~}}\n          Less than {{inflect (round distance \"up\") \"mile\" \"miles\" true}} away\n        {{else}}\n          {{#compare distance \"<\" 10 ~}}\n            Within {{round distance \"up\"}} miles\n          {{else}}\n            {{round distance \"up\"}} miles away\n          {{/compare ~}}\n        {{/compare ~}}\n      </li>\n    </ul>\n    {{/compare ~}}\n    {{/if ~}}\n    {{/if ~}}\n    {{/if ~}}\n    {{/ifAll ~}}\n    {{/compare ~}}\n    <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}\" class=\"mdc-card__action hide-sm\">Find out more</a>\n    <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}\" class=\"mdc-card__action hide-md hide-lg\" aria-label=\"Find out more\"><span class=\"fal fa-info-circle fa-fw fa-2x\" aria-hidden=\"true\"></span></a>\n    {{#compare (trim (getProperty @root.data.notes Id)) \"!==\" \"\" ~}}\n    <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}#notes\" class=\"mdc-card__action mdc-card__action-notes hide-sm\">Your notes</a>\n    <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}#notes\" class=\"mdc-card__action mdc-card__action-notes hide-md hide-lg\" aria-label=\"Your notes\"><span class=\"fal fa-edit fa-fw fa-2x\" aria-hidden=\"true\"></span></a>\n    {{/compare ~}}\n    {{/compare ~}}\n  </div>\n  <div class=\"mdc-card__action-icons pull-right\">\n    <div class=\"mdc-chip-set mdc-chip-set--filter\">\n      {{> shortlist_chip id=Id}}\n    </div>\n  </div>\n</div>",
        "vacancy_description": "{{#if description ~}}\n<div class=\"search-result-article__snippet mdc-typography--body1 faded-overflow\" style=\"height:{{limit}};\">\n  {{{description}}}\n</div>\n{{/if ~}}",
        "vacancy_full": "<div class=\"mdc-card content-primary full{{if top_job \" top-content\"}}\" data-vacancy-id=\"{{Id}}\">\n  {{> vacancy_key_info view=\"full\"}}\n  <hr class=\"mdc-list-divider\" />\n  <div class=\"content-primary-info-container\">\n    {{#>components_tab_bar id=\"content-primary-tab-bar\" defaultTabIdentifier=\"hash\"}}\n      {{>components_tab iconClasses=\"far fa-list-ul fa-fw\" label=\"Information\" active=true tabName=\"information\"}}\n      {{>components_tab iconClasses=\"far fa-map-marker-alt fa-fw\" label=\"Location\" active=false tabName=\"location\"}}\n      {{>components_tab iconClasses=\"far fa-edit fa-fw\" label=\"Notes\" active=false tabName=\"notes\"}}\n    {{/components_tab_bar}}\n    <hr class=\"mdc-list-divider\" />\n    <div class=\"panels\" for=\"content-primary-tab-bar\">\n      <div class=\"panel panel--active mdc-card--full-content\" role=\"tabpanel\" aria-hidden=\"false\" data-tab-name=\"information\">\n        <div class=\"key-info-extra\">\n          <ul class=\"fa-ul\">\n            {{#if start_at ~}}\n            <li class=\"mdc-card__info--content-primary-from mdc-typography--body1\">\n              <span class=\"fa-li\"><span class=\"far fa-calendar-plus fa-fw\" title=\"Start date\"></span></span>\n              Advertised from {{momentFormat (momentConvertTz (moment start_at \"x\") \"UTC\" \"Europe/London\") \"Do MMMM YYYY\"}}\n            </li>\n            {{/if ~}}\n            {{#if salary_info ~}}\n            <li class=\"mdc-card__info--content-primary-location mdc-typography--body1\">\n              <span class=\"fa-li\"><span class=\"far fa-info-circle fa-fw\" title=\"Salary information\"></span></span>\n              {{salary_info}}\n            </li>\n            {{/if ~}}\n            {{#if benefits ~}}\n            <li class=\"mdc-card__info--content-primary-salary mdc-typography--body1\">\n              <span class=\"fa-li\"><span class=\"far fa-smile fa-fw\" title=\"Benefits\"></span></span>\n              {{{benefits}}}\n            </li>\n            {{/if ~}}\n            {{#if reference_number ~}}\n            <li class=\"mdc-card__info--content-primary-reference mdc-typography--body1\">\n              <span class=\"fa-li\"><span class=\"far fa-hashtag fa-fw\" title=\"Reference\"></span></span>\n              {{reference_number}}\n            </li>\n            {{/if ~}}\n          </ul>\n        </div>\n        <div class=\"detailed-info\">\n          {{#if description ~}}\n          <h4 class=\"mdc-typography--headline6\">Role</h4>\n          <div class=\"mdc-typography--body1\">\n            {{{description}}}\n          </div>\n          {{/if ~}}\n\n          {{#if application_notes ~}}\n          <h4 class=\"mdc-typography--headline6\">Application notes</h4>\n          <div class=\"mdc-typography--body1\">\n            {{{application_notes}}}\n          </div>\n          {{/if ~}}\n\n          {{{rendered.goodmoves_downloads}}}\n\n          {{{rendered.goodmoves_sponsor_logos}}}\n        </div>\n      </div>\n      <div class=\"panel mdc-card--full-content\" role=\"tabpanel\" aria-hidden=\"true\" data-tab-name=\"location\">\n        <div class=\"location-info\">\n          {{#compare (length geo_coords) \">\" 0 ~}}\n            <div class=\"container-content container-map\">\n              <div id=\"map-content-primary\" data-map-name=\"vacancyMap\" data-map-clustered-options='{\n                  }'>\n                {{#each (arrayify geo_coords) ~}}\n                  <marker style=\"display:none;\" data-map=\"vacancyMap\" data-lat=\"{{lat}}\" data-lng=\"{{lon}}\" data-title=\"{{../organisation.name}} - {{../title}}\">\n                    <h3 class=\"mdc-typography--headline8\">{{../organisation.name}}</h3>\n                    <p class=\"mdc-typography--body2\">\n                      {{../title}}<br />\n                      Postcode: {{itemAt (arrayify ../postcodes) @index}}\n                    </p>\n                  </marker>\n                {{/each ~}}\n              </div>\n            </div>\n          {{else}}\n            <div class=\"container-content v-margin-full\">\n              <p class=\"mdc-typography--body1\">\n                <span class=\"far fa-map-marker-alt fa-fw\" title=\"Location\"></span>\n                {{#ifAny home_based various_locations ~}}\n                {{#if home_based ~}}\n                Home-based\n                {{else}}\n                {{#if various_locations ~}}\n                Various locations\n                {{else}}\n                A specific job location has not been provided\n                {{/if ~}}\n                {{/if ~}}\n                {{else}}\n                A specific job location has not been provided\n                {{/ifAny ~}}\n              </p>\n            </div>\n          {{/compare ~}}\n        </div>\n      </div>\n      <div class=\"panel mdc-card--full-content\" role=\"tabpanel\" aria-hidden=\"true\" data-tab-name=\"notes\">\n        <div class=\"text-field-container user-notes\">\n          {{#if @root.data.auth ~}}\n            <form action=\"/save-notes\" method=\"POST\" data-ajax-form='{\n                  \"successMessage\": \"Notes saved\",\n                  \"failureMessage\": \"Failed to save notes\",\n                  \"successCallback\": \"notesSaved\",\n                  \"id\": \"{{Id}}\"\n                }'>\n              <div>\n                <textarea class=\"mdc-text-field__input\" data-simple-mde='{\n                      \"forceSync\": true,\n                      \"toolbar\": [\"heading-1\", \"heading-2\", \"bold\", \"italic\", \"|\", \"unordered-list\", \"ordered-list\", \"link\"]\n                    }' name=\"notes\" id=\"notes-{{Id}}\" data-id=\"{{Id}}\">{{getProperty @root.data.notes Id}}</textarea>\n                <input type=\"hidden\" name=\"id\" value=\"{{Id}}\">\n              </div>\n              <div class=\"save-button-block\">\n                <button type=\"submit\" class=\"mdc-button mdc-button--raised\">\n                  <span class=\"far fa-save mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n                  Save notes\n                </button>\n                <button type=\"button\" class=\"mdc-button mdc-button--raised mdc-button--warning\" id=\"delete-notes-{{Id}}\" data-id=\"{{Id}}\"\n                    data-ajax-button='{\n                      \"url\": \"/delete-notes\",\n                      \"method\": \"POST\",\n                      \"successMessage\": \"Notes deleted\",\n                      \"failureMessage\": \"Failed to delete notes\",\n                      \"postBody\": { \"id\": \"{{Id}}\" },\n                      \"successUpdates\": {}\n                      }' {{#unless (getProperty @root.data.notes Id)}}disabled{{/unless}}>\n                  <span class=\"far fa-remove mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n                  Delete notes\n                </button>\n                <div class=\"mdc-typography--caption\">\n                  Any notes you write here are private on your account and are not shared with {{organisation.name}}. Read our <a href=\"/privacy\" target=\"_blank\">privacy notice</a>.\n                </div>\n              </div>\n            </form>\n          {{else}}\n            <div class=\"detailed-info\">\n              <p class=\"mdc-typography--body1\">\n                If you <a href=\"/sign-up\">sign up</a> you'll be able to save notes on active jobs.\n              </p>\n            </div>\n          {{/if ~}}\n        </div>\n      </div>\n    </div>\n    {{> vacancy_actions slug=slug Id=Id action=\"organisation\"}}\n  </div>\n</div>\n{{#if @root.request.params.query.email ~}}\n  {{> ga documentType=\"goodmoves-vacancy\" documentId=Id hitType=\"full-from-email\"}}\n{{else}}\n  {{> ga documentType=\"goodmoves-vacancy\" documentId=Id hitType=\"full\"}}\n{{/if ~}}\n<script>\n  function clearNotes(data) {\n    $('#notes-' + this.request.data.id)[0].mde.value('');\n    this.$button.prop('disabled', true);\n  }\n  function notesSaved(evt, data) {\n    console.log('notesSaved Arguments:', arguments);\n    $('#delete-notes-' + data.id).prop('disabled', false);\n  }\n  window.vacancyId = '{{Id}}';\n</script>",
        "vacancy_gist": "<div class=\"mdc-card content-primary gist{{if top_job \" top-content\"}}\" data-vacancy-id=\"{{Id}}\">\n  <div class=\"mdc-card__info--content-primary-row\">\n    <div class=\"mdc-card__media mdc-card__media--square demo-card__media search-result-card__media--content-secondary\" style=\"background-image:url({{organisation.logo_url}});\"></div>\n    <div class=\"mdc-card__info--content-primary\">\n      <div class=\"mdc-card__info--content-primary-title mdc-typography--headline7\">\n        {{title}}\n      </div>\n      <div class=\"mdc-card__info--content-primary-organisation mdc-typography--body1\">\n        <a href=\"/organisation/{{organisation.id}}/{{organisation.name_slug}}{{> query_search}}\">{{organisation.name}}</a>\n      </div>\n      <div class=\"mdc-card__info--content-primary-details mdc-typography--caption\">\n        <span class=\"far fa-calendar-alt fa-fw\" title=\"Closing date\"></span>\n        {{{momentFormat (moment closing_date \"x\") \"Do MMMM YYYY\"}}}\n      </div>\n    </div>\n  </div>\n  {{> vacancy_actions slug=slug Id=Id}}\n</div>\n{{>ga documentType=\"goodmoves-vacancy\" documentId=Id hitType=(default hitContext \"summary\")}}\n",
        "vacancy_json_ld": "{\n  \"@context\": \"http://schema.org\",\n  \"@type\": \"JobPosting\",\n  \"@id\": \"https://goodmoves.com/vacancy/{{Id}}/{{title_slug}}\",\n  \"url\": \"https://goodmoves.com/vacancy/{{Id}}/{{title_slug}}\",\n  \"identifier\": \"{{reference_number}}\",\n  \"baseSalary\": {\n    \"@type\": \"MonetaryAmount\",\n    \"currency\": \"GBP\",\n    \"value\": {\n      \"@type\": \"QuantitativeValue\",\n      \"unitText\": \"YEAR\",\n      \"value\": \"{{default (stripTags (regexReplace salary '\\r|\\n|||,' 'gi' '')) salary_min}}\",\n      \"minValue\": \"{{default salary_min salary_max}}\",\n      \"maxValue\": \"{{default salary_max salary_min}}\"\n    }\n  },\n  \"jobBenefits\": \"{{benefits}}\",\n  \"datePosted\": \"{{momentFormat (moment start_at 'x') 'YYYY-MM-DDTHH:mm:ss'}}\",\n  \"validThrough\": \"{{momentFormat (moment closing_date 'x') 'YYYY-MM-DDTHH:mm:ss'}}\",\n  \"description\": \"{{stripTags (regexReplace description '\\r|\\n' 'gi' '')}}\",\n  \"employmentType\": \"{{{role_status_list}}}\",\n  \"industry\": {{{stringify sectors}}},\n  {{#ifAny geo_info.[0] organisation.street_address organisation.postcode ~}}\n  \"jobLocation\": {\n    \"@type\": \"Place\",\n    \"address\": {\n      \"@type\": \"PostalAddress\",\n      {{#compare organisation.postcode \"===\" geo_info.[0].postcode ~}}\n      {{#if organisation.street_address ~}}\n      \"streetAddress\": \"{{organisation.street_address}}\",\n      {{else}}\n      \"streetAddress\": \"{{geo_info.[0].admin_ward}}\",\n      {{/if ~}}\n      {{else}}\n      \"streetAddress\": \"{{geo_info.[0].admin_ward}}\",\n      {{/compare ~}}\n      {{#if geo_info.[0] ~}}\n      \"addressLocality\": \"{{geo_info.[0].parliamentary_constituency}}\",\n      \"addressRegion\": \"{{geo_info.[0].admin_district}}\",\n      \"addressCountry\": \"{{geo_info.[0].country}}\",\n      \"postalCode\": \"{{geo_info.[0].postcode}}\"\n      {{else}}\n      \"postalCode\": \"{{organisation.postcode}}\"\n      {{/if ~}}\n    }\n  },\n  {{else}}\n  \"jobLocation\": \"{{location}}\",\n  {{/ifAny ~}}\n  \"hiringOrganization\": {\n    \"@type\": \"Organization\",\n    \"name\": \"{{organisation.name}}\",\n    \"logo\": \"{{organisation.logo_url}}\",\n    \"location\": {\n      \"@type\": \"Place\",\n      \"address\": {\n        \"@type\": \"PostalAddress\",\n        {{#if organisation.street_address ~}}\n        \"streetAddress\": \"{{organisation.street_address}}\",\n        {{/if ~}}\n        {{#if geo_info.[0] ~}}\n        \"addressCountry\": \"{{geo_info.[0].country}}\",\n        {{/if ~}}\n        \"postalCode\": \"{{organisation.postcode}}\"\n      }\n    },\n    {{#if organisation.website}}\n    \"website\": \"{{fixUrl organisation.website 'http'}}\",\n    {{/if}}\n    \"description\": \"{{organisation.profile}}\"\n  },\n  \"occupationalCategory\": \"{{join roles ', '}}\",\n  \"qualifications\": \"None specified\",\n  \"responsibilities\": \"None specified\",\n  \"salaryCurrency\": \"GBP\",\n  \"skills\": \"None specified\",\n  \"title\": \"{{default title_full title}}\",\n  \"workHours\": \"{{stripTags (regexReplace salary_info '(\\r|\\n)' 'gi' '')}}\"\n}\n",
        "vacancy_key_info": "{{>vacancy_status}}\n<div class=\"mdc-card__info--content-primary-row\">\n  <div class=\"mdc-card__info--content-primary\">\n    {{#if organisation.has_logo ~}}\n    <div class=\"mdc-card__media mdc-card__media--content-secondary pull-right\">\n      <a href=\"/organisation/{{organisation.id}}/{{organisation.name_slug}}{{> query_search}}\">\n        <img src=\"{{organisation.logo_url}}\" alt=\"{{organisation.name}}\" />\n      </a>\n    </div>\n    {{/if ~}}\n    {{#compare @root.route.name \"===\" \"vacancy\" ~}}\n    {{#compare view \"===\" \"full\" ~}}\n    {{#unless (compare (querystringify @root.request.params.query utm_source=null utm_campaign=null utm_medium=null) \"\") ~}}\n    {{#ifAny @root.request.params.query.page @root.request.params.query.keywords @root.request.params.query.location @root.request.params.query.salary_min @root.request.params.query.salary_max @root.request.params.query.working_patterns @root.request.params.query.regions @root.request.params.query.roles @root.request.params.query.sectors @root.request.params.query.home_based @root.request.params.query.various_locations ~}}\n    <a href=\"/search{{> query_search}}\" class=\"back-to-results\"><span class=\"far fa-chevron-circle-left\" aria-hidden=\"true\"></span> <span class=\"underline\">Back to search results</span></a>\n    {{/ifAny ~}}\n    {{/unless ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    <h2 class=\"mdc-card__info--content-primary-title mdc-typography--headline5\">\n      <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}\">\n        {{#if top_job}}<span class=\"top-content\">Top job!</span>{{/if}}\n        <span class=\"hover-underline\">{{title}}</span>\n      </a>\n    </h2>\n    <ul class=\"fa-ul organisation\">\n      <li class=\"mdc-card__info--content-primary-secondary mdc-typography--body1\">\n        <span class=\"fa-li\"><span class=\"far fa-building fa-fw\" title=\"Organisation\"></span></span>\n        <a href=\"/organisation/{{organisation.id}}/{{organisation.name_slug}}{{> query_search}}\">{{organisation.name}}</a>\n      </li>\n    </ul>\n    <!-- <div class=\"mdc-layout-grid hide-md hide-lg\">\n      <p class=\"mdc-typography--body2 v-margin-full-bottom\">\n        {{#compare (trim location) \"===\" \"\"}}This is a {{lowercase role_status_list}} position{{else}}This {{lowercase role_status_list}} position is based in {{trim (replace location \"Based in\" \"\")}}{{/compare}}{{#compare salary \"!==\" \"TBC\"}}{{#compare (trim salary) \"!==\" \"Unpaid\"}}{{#compare (trim salary) \"!==\" \"Sessional\"}}, with a salary of {{{trim (lowercase salary)}}}{{/compare}}{{else}} and is unpaid{{/compare}}{{/compare}}. The closing date for applications is the {{{momentFormat (moment closing_date \"x\") \"Do \\o\\f MMMM YYYY\"}}}.\n      </p>\n    </div> -->\n    <ul class=\"fa-ul first\">\n      {{#if role_status_list ~}}\n      <li class=\"mdc-card__info--content-primary-status mdc-typography--body1\">\n        <span class=\"fa-li\"><span class=\"far fa-clock fa-fw\" title=\"Status\"></span></span>\n        {{role_status_list}}\n      </li>\n      {{/if ~}}\n      {{#if salary ~}}\n      <li class=\"mdc-card__info--content-primary-salary mdc-typography--body1\">\n        <span class=\"fa-li\"><span class=\"far fa-calculator fa-fw\" title=\"Salary\"></span></span>\n        {{{trim salary}}}\n      </li>\n      {{/if ~}}\n    </ul>\n    <ul class=\"fa-ul last\">\n      {{#if location ~}}\n      <li class=\"mdc-card__info--content-primary-location mdc-typography--body1\">\n        <span class=\"fa-li\"><span class=\"far fa-map-marker-alt fa-fw\" title=\"Location\"></span></span>\n        {{location}}\n      </li>\n      {{/if ~}}\n      {{#if closing_date ~}}\n      <li class=\"mdc-card__info--content-primary-closing mdc-typography--body1\">\n        <span class=\"fa-li\"><span class=\"far fa-calendar-alt fa-fw\" title=\"Closing date\"></span></span>\n        Closing\n        {{{momentFormat (momentConvertTz (moment closing_date \"x\") \"UTC\" \"Europe/London\") \"Do MMMM YYYY\"}}}\n      </li>\n      {{/if ~}}\n    </ul>\n  </div>\n</div>\n",
        "vacancy_list": "<div class=\"mdc-card content-primary list{{if top_job \" top-content\"}}\" data-vacancy-id=\"{{Id}}\">\n  {{> vacancy_key_info view=\"list\"}}\n  <hr class=\"mdc-list-divider\" />\n  {{#compare (trim (getProperty @root.data.notes Id)) \"!==\" \"\" ~}}\n    {{> vacancy_description limit=\"3rem\" description=description}}\n    {{> vacancy_notes limit=\"3rem\"}}\n  {{else}}\n    {{> vacancy_description limit=\"4rem\" description=description}}\n  {{/compare ~}}\n  {{> vacancy_actions slug=slug Id=Id}}\n</div>\n{{>ga documentType=\"goodmoves-vacancy\" documentId=Id hitType=(default hitContext \"list\")}}\n",
        "vacancy_map": "<div class=\"map-content\">\n  <h3 class=\"mdc-typography--headline7\">\n    <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}\">{{title}}</a>\n  </h3>\n  {{#if organisation.name ~}}\n  <div class=\"mdc-typography--body1 v-margin\">\n    <strong>{{organisation.name}}</strong>\n  </div>\n  {{/if ~}}\n  <div class=\"mdc-typography--body2 post-info\">\n    {{#if role_status_list ~}}\n    <div class=\"post-info-item post-info-status\">\n      <span class=\"far fa-clock fa-fw\" title=\"Working pattern\"></span>\n      {{{role_status_list}}}\n    </div>\n    {{/if ~}}\n    {{#if salary ~}}\n    <div class=\"post-info-item post-info-salary\">\n      <span class=\"far fa-calculator fa-fw\" title=\"Salary\"></span>\n      {{{salary}}}\n    </div>\n    {{/if ~}}\n    {{#if postcode ~}}\n    <div class=\"post-info-item post-info-postcode\">\n      <span class=\"far fa-map-pin fa-fw\" title=\"Postcode\"></span>\n      {{{postcode}}}\n    </div>\n    {{/if ~}}\n  </div>\n  <div class=\"mdc-typography--body2\">\n    <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}\" class=\"mdc-card__action\">Find out more</a>\n  </div>\n  {{>ga documentType=\"goodmoves-vacancy\" documentId=Id hitType=\"map\"}}\n</div>\n",
        "vacancy_mini": "<div class=\"mdc-card content-primary mini{{if top_job \" top-content\"}}\" data-vacancy-id=\"{{Id}}\">\n  {{> vacancy_key_info view=\"mini\"}}\n  {{> vacancy_actions slug=slug Id=Id}}\n</div>\n",
        "vacancy_notes": "{{#compare (trim (getProperty @root.data.notes Id)) \"!==\" \"\" ~}}\n  <div class=\"search-result-article__notes\">\n    <h4 class=\"mdc-typography--headline7\">\n      Your notes&ensp;\n      <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}#notes\" class=\"mdc-typography--body2\">Edit</a>\n    </h4>\n    <div class=\"mdc-typography--body1\">\n      {{#if limit ~}}\n        {{#compare @root.route.name \"===\" \"notes\" ~}}\n          {{{markdown (getProperty @root.data.notes Id)}}}\n        {{else}}\n          <div style=\"max-height: {{limit}};\" class=\"faded-overflow\">\n          {{{markdown (truncate (getProperty @root.data.notes Id) limit)}}}\n          </div>\n          <a href=\"/vacancy/{{Id}}/{{title_slug}}{{> query_search}}#notes\">Read more</a>\n        {{/compare ~}}\n      {{else}}\n        {{{markdown (getProperty @root.data.notes Id)}}}\n      {{/if ~}}\n    </div>\n  </div>\n{{/compare ~}}\n",
        "vacancy_search_result": "<div class=\"mdc-card content-primary search-result{{if top_job \" top-content\"}}\" data-vacancy-id=\"{{Id}}\">\n  {{> vacancy_key_info view=\"search-result\"}}\n  <hr class=\"mdc-list-divider\" />\n  {{#compare (trim (getProperty @root.data.notes Id)) \"!==\" \"\" ~}}\n    {{> vacancy_description limit=\"3rem\" description=description}}\n    {{> vacancy_notes limit=\"3rem\"}}\n  {{else}}\n    {{> vacancy_description limit=\"4rem\" description=description}}\n  {{/compare ~}}\n  {{> vacancy_actions slug=slug Id=Id home_based=home_based various_locations=various_locations distance=distance}}\n</div>\n{{>ga documentType=\"goodmoves-vacancy\" documentId=Id hitType=(default hitContext \"search-result\")}}\n",
        "vacancy_status": "{{#unless active}}\n  <div class=\"panel-heading red white-text content-primary-inactive\">\n    <i class=\"fa fa-info-circle fa-fw\"></i>\n    This vacancy is no longer active\n  </div>\n{{else}}\n  {{#compare closing_date \"<\" (dateMath \"now\")}}\n  <div class=\"panel-heading red white-text content-primary-closed\">\n    <i class=\"fa fa-info-circle fa-fw\"></i>\n    This vacancy has now closed\n  </div>\n  {{else}}\n    {{#compare start_at \">\" (dateMath \"now\")}}\n      <div class=\"panel-heading red white-text content-primary-not-published\">\n        <i class=\"fa fa-info-circle fa-fw\"></i>\n        This vacancy has not yet been published\n      </div>\n    {{else}}\n      {{#compare end_at \"<\" (dateMath \"now\")}}\n        <div class=\"panel-heading red white-text content-primary-no-longer-listed\">\n          <i class=\"fa fa-info-circle fa-fw\"></i>\n          This vacancy is no longer listed\n        </div>\n      {{/compare}}\n    {{/compare}}\n  {{/compare ~}}\n{{/unless}}\n",
        "volunteering_mini": "{{#if volunteersearch_type ~}}\n{{> opportunity_mini}}\n{{else}}\n{{> vacancy_mini}}\n{{/if ~}}"
      },
      "templates": {
        "account_delete-user": "  <div class=\"mdc-card\">\n    <div class=\"mdc-card__info--content-primary\">\n      <div class=\"mdc-card__info--content-primary-title mdc-typography--headline4\">\n        Deleting your account&hellip;\n      </div>\n    </div>\n  </div>\n  <script>\n    document.addEventListener(\"DOMContentLoaded\", function(event) {\n      window.setTimeout(function() {\n        goodmoves.auth.deleteUser().then(function(user) {\n          window.setTimeout(function() {\n            window.location.href = '/';\n          }, 1000);\n        }).catch(function(err) {\n          console.error('Failed to delete user', err);\n          if (err.code === 'auth/requires-recent-login') {\n            window.setTimeout(function() {\n              window.location.href = '/sign-in?reauth=true';\n            }, 1000);\n          }\n        });\n      }, 1000);\n    });\n  </script>",
        "account_dynamic-notifications-task": "{{#*inline \"noop\"}}\n  {\n    \"name\": \"notifications\",\n    \"taskModule\": \"render\",\n    \"renderer\": \"handlebars\",\n    \"config\": {\n      \"output\": \"data\",\n      \"template\": \"{ \\\"status\\\": \\\"No saved searches\\\" }\",\n      \"parseJson\": true\n    }\n  }\n{{/inline}}\n{{#if @root.request.body.json}}\n  {{#with (parse @root.request.body.json)}}\n    {{#ifAny (any savedSearches.items) (any shortlist.items)}}\n      {\n        \"name\": \"notifications\",\n        \"taskModule\": \"mysql\",\n        \"config\": {\n          \"connectionName\": \"notifications\",\n          \"queryTemplates\": {\n            {{#if (any savedSearches.items)}}\n              {{#each savedSearches.items}}\n                {{{stringify partition}}}: {{#blockStringify this}}\n                  CALL _addSubscriptionParameters(\n                    {{{stringify @root.data.auth.email}}},\n                    {{{stringify campaign}}},\n                    {{{stringify querystring}}},\n                    {{{stringify partition}}},\n                    {{#if active}}1{{else}}0{{/if}}\n                  );\n                {{/blockStringify}}\n                {{#unless @last}},{{else}}{{#if (any ../shortlist.items)}},{{/if}}{{/unless}} \n              {{/each}}\n            {{/if}}\n            {{#if (any shortlist.items)}}\n              {{#each shortlist.items}}\n                {{{stringify (concat \"shortlist-\" value)}}}: {{#blockStringify this}}\n                  CALL _addSubscriptionParameter(\n                    {{{stringify @root.data.auth.email}}},\n                    {{{stringify campaign}}},\n                    {{{stringify parameter}}},\n                    {{{stringify value}}},\n                    {{{stringify partition}}},\n                    {{#if active}}1{{else}}0{{/if}}\n                  );\n                {{/blockStringify}}\n                {{#unless @last}},{{/unless}}\n              {{/each}}\n            {{/if}}\n          }\n        },\n        \"renderer\": \"handlebars\"\n      }\n    {{else}}\n      {{> noop}}\n    {{/ifAny}}\n  {{else}}\n    {{> noop}}\n  {{/with}}\n{{else}}\n  {{> noop}}\n{{/if}}\n",
        "account_export-user-data": "{\n  \"dataComment\": {\n    \"description\": \"This is an export of your Goodmoves account data. In the stored data, vacancies are only referenced by their unique ID. You can use the `vacancyLookup` field included in this export to find details on any vacancy currently stored within our system.\",\n    \"location\": \"Google Cloud Platform\"\n  },\n  \"user\": {\n    \"dataComment\": {\n      \"description\": \"This is all the information stored about you for the purposes of authentication and other information you have chosen to save such as shortlisted vacancies, saved searches, and notes.\",\n      \"location\": \"Google Firebase\"\n    },\n    \"email\": {{{stringify @root.data.auth.email}}},\n    \"emailVerified\": {{{stringify @root.data.auth.emailVerified}}},\n    \"metadata\": {{{stringify @root.data.auth.metadata}}},\n    \"providerData\": {\n      \"dataComment\": \"Each account can be linked to one or more authentication provider (email/password, Google, Facebook, Twitter), this is the information we store in relation to each authentication provider.\",\n      \"items\": {{{stringify @root.data.auth.providerData}}}\n    }\n  },\n  \"notes\": {\n    \"dataComment\": {\n      \"description\": \"A list of vacancy IDs with any notes you may have stored against them. See the `vacancyLookup` field for information about each vacancy ID\",\n      \"location\": \"Google Firebase Real-Time Database\"\n    },\n    \"items\": {{{stringify @root.data.notes}}}\n  },\n  \"shortlist\": {\n    \"dataComment\": {\n      \"description\": \"A list of all your shortlisted vacancies. See the `vacancyLookup` field for information about each vacancy ID\",\n      \"location\": \"On a Google Cloud Platorm MySQL database located at 'europe-west2-c' (London). For more information visit https://cloud.google.com/compute/docs/regions-zones/\"\n    },\n    \"items\": {{{stringify @root.data.shortlist.items.[0]}}}\n  },\n  \"savedSearches\": {\n    \"dataComment\": {\n      \"description\": \"A list of all your saved searches.\",\n      \"location\": \"On a Google Cloud Platorm MySQL database located at 'europe-west2-c' (London). For more information visit https://cloud.google.com/compute/docs/regions-zones/\"\n    },\n    \"items\": {{{stringify @root.data.searches.items.[0]}}}\n  },\n  \"recentlyViewed\": {\n    \"dataComment\": {\n      \"description\": \"Here is a list of (up to) the last 10 vacancies you have viewed.\",\n      \"location\": \"Your browser cookies allow our web servers to read this information. These servers are located at 'europe-west2-c' (London). For more information visit https://cloud.google.com/computer/docs/regions-zones/\"\n    },\n    \"items\": {{{stringify (split @root.request.cookies.recently_viewed \",\")}}}\n  },\n  \"vacancyLookup\": {\n    \"dataComment\": {\n      \"description\": \"Use this list to find details about vacancies that appear in your notes, shortlist, and recently viewed lists. Please note that if a vacancy is no longer in our search index, it will not appear in this list.\",\n      \"location\": \"In an Elasticsearch index located at 'europe-west3' (Frankfurt). For more information visit https://cloud.google.com/compute/docs/regions-zones/. It should be noted that only data controlled by Goodmoves is stored at this location and no user data is ever transferred there.\"\n    },\n    \"items\": [\n      {{#each @root.data.vacancy_lookup.hits.hits}}\n        {{#with _source}}\n          {\n            \"id\": {{{stringify Id}}},\n            \"title\": {{{stringify title}}},\n            \"organisation\": {{{stringify organisation.name}}},\n            \"url\": {{{stringify (concat \"https://goodmoves.com/vacancy/\" slug)}}}\n          }{{#unless @last}},{{/unless}}\n        {{/with}}\n      {{/each}}\n    ]\n  },\n  \"exported\": {{{stringify (momentFormat (moment) \"YYYY-MM-DD HH:mm:SS\")}}}\n}\n",
        "account_import-notes": "{\n{{~#with (parse @root.request.body.json)~}}\n{{~#if (any (getKeys notes.items))~}}\n{{~#each (getKeys notes.items)~}}\n  {{{stringify this}}}: {{{stringify (getProperty ../notes.items this)}}}{{#unless @last}},{{/unless}}\n{{~/each~}}\n{{~/if~}}\n{{~/with~}}\n}\n",
        "account_reset-password": "<form id=\"reset-password-form\" method=\"POST\" class=\"reset-password-form\">\n  <div class=\"mdc-card mdc-elevation--z0\">\n    <div class=\"mdc-card__info--content-primary\">\n      <div class=\"mdc-card__info--content-primary-title mdc-typography--headline4 x-padding\">\n        Reset password\n      </div>\n      <div class=\"mdc-card__info--content-primary-title mdc-typography--body2 x-padding\">\n        Enter your email address to be sent a password reset link\n      </div>\n    </div>\n    <div class=\"mdc-card__info x-padding-full mdc-theme--primary-bg mdc-theme--on-primary\" id=\"reset-password-message\">\n      <span id=\"form-message\"></span>\n    </div>\n    <div class=\"mdc-card__info x-padding-full\">\n      <div class=\"mdc-typography--body1\" id=\"form-section-email\">\n        <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n          <span class=\"far fa-at mdc-text-field__icon\" tabindex=\"-1\"></span>\n          <input type=\"email\" id=\"reset-password-email\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" />\n          <label class=\"mdc-floating-label\" for=\"sign-in-email\">\n            Email\n          </label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n      </div>\n      <div id=\"form-section-sign-in-buttons\">\n        <button class=\"mdc-button mdc-button--raised\" type=\"submit\" id=\"reset-password-submit\">\n          Send reset link\n        </button>\n      </div>\n      <div class=\"card-loader\" id=\"reset-password-loader\">\n        <div class=\"card-loader-inner\">\n          <span class=\"far fa-2x fa-circle-notch fa-spin\"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n  var $form = $('#reset-password-form');\n  var $message = $('#reset-password-message');\n  var $email = $('#reset-password-email');\n  var $login = $('#reset-password-submit');\n  var $loader = $('#reset-password-loader');\n\n  $form.on('submit', function(evt) {\n    var email = $email.val();\n    $loader.css('display', 'flex');\n    evt.preventDefault();\n    goodmoves.auth.sendPasswordReset(email).then(function() {\n      $message.text('If there is an account associated with this email address, instructions on resetting your password have been sent there.').show();\n      $loader.css('display', 'none');\n    }).catch(function(err) {\n      $message.text(err.message).show();\n      $loader.css('display', 'none');\n    });\n  });\n});\n</script>",
        "account_settings-foot": "<script src=\"{{~>asset_url url='downloader.js'~}}\"></script>\n<script>\n  function exportUserData() {\n    var dataUrl = 'data:application/json;base64,{{{btoa @root.data.export_user_data}}}';\n    download(dataUrl, 'user-export.json', 'application/json');\n  };\n  $(document).ready(function() {\n    var $changePassword = $('#change-password');\n    var $password1 = $('#change-password-password');\n    var $password2 = $('#change-password-confirm');\n\n    $('[data-provider-link]').each(function(i, o) {\n      var $chip = $(o);\n      var $linkAction = $chip.find('.link-action');\n      var chip = new mdc.chips.MDCChip(o);\n      var providerName = $chip.data('provider-link');\n\n      $chip.on('click', function(evt) {\n        if (!$chip.data('disabled')) {\n          $chip.data('disabled', true);\n          $chip.css('opacity', 0.5);\n          var selected = $chip.hasClass('mdc-chip--selected');\n          if (!selected) {\n            goodmoves.auth.linkWithProvider(providerName).then(function(result) {\n              console.log('Linked to', providerName, result);\n              chip.foundation_.setSelected(!selected);\n              $linkAction.text('Unlink from');\n              $chip.data('disabled', false);\n              $chip.css('opacity', 1);\n              checkProviders();\n            }).catch(function(err) {\n              console.error('Failed to link to', providerName, err);\n              $chip.data('disabled', false);\n              $chip.css('opacity', 1);\n              checkProviders();\n              window.setTimeout(function() {\n                window.location.href = '/sign-in?reauth=true';\n              }, 1000);\n            });\n          } else {\n            goodmoves.auth.unlinkFromProvider(providerName).then(function(result) {\n              console.log('Unlinked from', providerName, result);\n              chip.foundation_.setSelected(!selected);\n              $linkAction.text('Link to');\n              $chip.data('disabled', false);\n              $chip.css('opacity', 1);\n              checkProviders();\n            }).catch(function(err) {\n              console.error('Failed to unlink from', providerName, err);\n              $chip.data('disabled', false);\n              $chip.css('opacity', 1);\n              checkProviders();\n              if (err.code === 'auth/requires-recent-login') {\n                window.setTimeout(function() {\n                  window.location.href = '/sign-in?reauth=true';\n                }, 1000);\n              }\n            });\n          }\n        }\n      });\n    }); \n\n    function checkProviders() {\n      var enabled = goodmoves.auth.providerIds.length > 1;\n      $('.mdc-chip--selected[data-provider-link]')\n        .data('disabled', !enabled)\n        .css({\n          'opacity': enabled ? 1 : 0.5,\n          'cursor': enabled ? 'pointer' : 'default'\n        })\n        .attr('title', !enabled ? 'You cannot unlink your social account as you are using it to sign in' : '');\n    }\n  \n    $changePassword.on('click', changePassword);\n    $password1.on('keypress', function(evt) {\n      if (evt.which === 13) {\n        $password2.focus();\n      }\n    });\n    $password2.on('keypress', function(evt) {\n      if (evt.which === 13) {\n        changePassword();\n      }\n    });\n\n    function changePassword() {\n      var password1 = $password1.val();\n      var password2 = $password2.val();\n      goodmoves.disable([$changePassword, $password1, $password2]);\n\n      goodmoves.auth.changePassword(password1, password2).then(function() {\n        goodmoves.snackbarShow({\n          message: 'Password changed, please wait',\n        });\n        window.setTimeout(function() {\n          window.location.reload();\n        }, 1000);\n      }).catch(function(err) {\n        goodmoves.disable([$changePassword, $password1, $password2], false);\n        $password1.val('');\n        $password2.val('');\n        $password1.focus();\n        goodmoves.snackbarShow({\n          message: err.message || 'There was a problem changing your password',\n          backgroundColor: '#dd4b39'\n        });\n        if (err.code === 'auth/requires-recent-login') {\n          window.setTimeout(function() {\n            window.location.href = '/sign-in?reauth=true';\n          }, 1000);\n        }\n        return;\n      });\n    }\n  });\n</script>",
        "account_settings": "{{#*inline \"linkChip\"}}\n  <div class=\"mdc-chip{{#if linked}} mdc-chip--selected{{/if}} provider-{{provider}}\" data-provider-link=\"{{provider}}\">\n    <span class=\"fab fa-{{provider}} mdc-chip__icon mdc-chip__icon--leading {{#if linked}}mdc-chip__icon--leading-hidden{{/if}}\" aria-hidden=\"true\"></span>\n    <div class=\"mdc-chip__checkmark\">\n      <svg class=\"mdc-chip__checkmark-svg\" viewBox=\"-2 -3 30 30\">\n        <path class=\"mdc-chip__checkmark-path\" fill=\"none\" stroke=\"#ffffff\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"/>\n      </svg>\n    </div>\n    <div class=\"mdc-chip__text noselect\">\n      <span class=\"link-action\">\n        {{#if linked}}\n          Unlink from\n        {{else}}\n          Link to\n        {{/if}}\n      </span>\n      {{capitalize provider}}\n    </div>\n  </div>\n{{/inline}}\n\n<div id=\"detailed-results-container\" class=\"container-content content-settings\">\n  <h1 class=\"mdc-typography--headline3 v-margin-full\">\n    Settings\n  </h1>\n\n  <section class=\"settings-section content-settings-email\">\n    <h2 class=\"mdc-typography--headline5\">\n      Email alerts\n    </h2>\n    <div class=\"mdc-layout-grid\">\n      <div class=\"mdc-layout-grid__inner\">\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-12-phone\">\n          <h3 class=\"mdc-typography--headline6 v-margin-full\">\n            Email frequency for new job alerts\n          </h3>\n          {{> email_frequency}}\n        </div>\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-12-phone\">\n          <h3 class=\"mdc-typography--headline6 v-margin-full\">\n            Shortlist alerts\n          </h3>\n          <div class=\"mdc-chip-set mdc-chip-set--filter\">\n            {{> shortlist_alerts}}\n          </div>\n        </div>\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-12-phone\">\n          <h3 class=\"mdc-typography--headline6 v-margin-full\">\n            Unsubscribe\n          </h3>\n          {{#ifAny\n            (compare (length (filter @root.data.searches.items.[0] \"partitionActive\" \"===\" 1)) \">\" 0)\n            @root.data.shortlist.items.[0].[0].active\n          }}\n            <a href=\"/stop-all-emails\" class=\"mdc-button mdc-button--raised mdc-button--fullwidth\">\n              <span class=\"far fa-envelope mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n              Stop all emails\n            </a>\n          {{else}}\n            You currently have no subscriptions.\n          {{/ifAny}}\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <hr />\n\n  <section class=\"settings-section content-settings-account\">\n    <h2 class=\"mdc-typography--headline5\">\n      Account\n    </h2>\n\n    <div class=\"mdc-layout-grid\">\n      <div class=\"mdc-layout-grid__inner\">\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-12-phone\">\n          {{#if (contains (map @root.data.auth.providerData (getProp \"providerId\")) \"password\") ~}}\n          <h3 class=\"mdc-typography--headline6\">\n            Change password\n          </h3>\n          {{else}}\n          <h3 class=\"mdc-typography--headline6\">\n            Set password\n          </h3>\n          <span class=\"mdc-typography--body1\">You are currently using a social media account to sign in. If you set a password you will also be able to sign in with your email address.</span>\n          {{/if ~}}\n          <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n            <span class=\"far fa-key mdc-text-field__icon\" tabindex=\"-1\"></span>\n            <input type=\"password\" id=\"change-password-password\" class=\"mdc-text-field__input\" data-lpignore=\"true\" autocomplete=\"off\" />\n            <label class=\"mdc-floating-label mdc-floating-label--float-above\" for=\"change-password\">\n              Password\n            </label>\n            <div class=\"mdc-line-ripple\"></div>\n          </div>\n          <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n            <span class=\"far fa-key mdc-text-field__icon\" tabindex=\"-1\"></span>\n            <input type=\"password\" id=\"change-password-confirm\" class=\"mdc-text-field__input\" data-lpignore=\"true\" autocomplete=\"off\" />\n            <label class=\"mdc-floating-label mdc-floating-label--float-above\" for=\"change-password-confirm\">\n              Confirm password\n            </label>\n            <div class=\"mdc-line-ripple\"></div>\n          </div>\n          <button class=\"mdc-button mdc-button--raised mdc-button--change_password mdc-button--fullwidth\" id=\"change-password\">\n            <span class=\"far fa-lock mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n            {{#if (contains (map @root.data.auth.providerData (getProp \"providerId\")) \"password\") ~}}\n            Change password\n            {{else}}\n            Set password\n            {{/if ~}}\n          </button>\n        </div>\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-12-phone\">\n          <h3 class=\"mdc-typography--headline6\">\n            Linked accounts\n          </h3>\n          <div class=\"mdc-chip-set mdc-chip-set--filter\">\n            {{#each (split \"google,twitter,facebook\" \",\") ~}}\n              <div class=\"v-margin\">\n                {{> linkChip\n                    provider=this\n                    linked=(contains (map @root.data.auth.providerData (getProp \"providerId\")) (concat this \".com\"))\n                }}\n              </div>\n            {{/each ~}}\n          </div>\n        </div>\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-12-phone\">\n          <h3 class=\"mdc-typography--headline6\">\n            Account data\n          </h3>\n          <button type=\"button\" class=\"mdc-button mdc-button--raised mdc-button--export mdc-button--fullwidth v-margin\" onclick=\"exportUserData();\">\n            <span class=\"far fa-upload mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n            Export account settings\n          </button>\n          <button class=\"mdc-button mdc-button--raised mdc-button--import mdc-button--fullwidth v-margin\" data-dialog-target=\"#import-user-dialog\">\n            <span class=\"far fa-download mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n            Import account settings\n          </button>\n          <button class=\"mdc-button mdc-button--raised mdc-button--delete mdc-button--fullwidth v-margin\" data-dialog-target=\"#delete-user-dialog\">\n            <span class=\"far fa-trash mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n            Delete account\n          </button>\n        </div>\n      </div>\n    </div>\n  </section>\n</div>\n\n<aside id=\"delete-user-dialog\" class=\"mdc-dialog\" role=\"alertdialog\" aria-labelledby=\"delete-user-dialog-label\" aria-describedby=\"delete-user-dialog-description\" data-mdc-auto-init=\"MDCDialog\">\n  <div class=\"mdc-dialog__container\">\n    <div action=\"/delete-user\" method=\"GET\" class=\"mdc-dialog__surface\">\n      <header class=\"mdc-dialog__header\">\n        <h2 id=\"delete-user-dialog-label\" class=\"mdc-dialog__title\">Are you sure you want to delete your account?</h2>\n      </header>\n      <section id=\"delete-user-dialog-description\" class=\"mdc-dialog__content\">\n        <p>\n          Deleting your account will:\n        </p>\n        <ul>\n          <li>Stop all email alerts</li>\n          <li>Delete your saved searches</li>\n          <li>Delete your shortlist</li>\n          <li>Delete your notes on vacancies</li>\n          <li>Fully remove your account from the Goodmoves system</li>\n        </ul>\n        <p>\n          If you only want to stop your email alerts, please see the options on <a href=\"/searches\">searches &amp; email</a>.\n        </p>\n      </section>\n      <footer class=\"mdc-dialog__actions\">\n        <button type=\"button\" class=\"mdc-button mdc-dialog__button mdc-ripple-upgraded\" data-mdc-dialog-action=\"close\">Cancel</button>\n        <a href=\"/delete-user\" class=\"mdc-button mdc-dialog__button mdc-ripple-upgraded\" data-mdc-dialog-action=\"accept\">Delete account</a>\n      </footer>\n    </div>\n  </div>\n  <div class=\"mdc-dialog__scrim\"></div>\n</aside>\n\n<aside id=\"import-user-dialog\" class=\"mdc-dialog\" role=\"alertdialog\" aria-labelledby=\"import-user-dialog-label\" aria-describedby=\"import-user-dialog-description\" data-mdc-auto-init=\"MDCDialog\">\n  <div class=\"mdc-dialog__container\">\n    <form action=\"/import-user-data\" method=\"POST\" class=\"mdc-dialog__surface\" data-ajax-form='{\n        \"successMessage\": \"Data imported successfully\",\n        \"failureMessage\": \"Failed to import data\"\n      }'>\n      <header class=\"mdc-dialog__header\">\n        <h2 id=\"import-user-dialog-label\" class=\"mdc-dialog__title\">Import user data</h2>\n      </header>\n      <section id=\"import-user-dialog-description\" class=\"mdc-dialog__content\">\n        <div class=\"mdc-text-field mdc-text-field--textarea mdc-text-field--fullwidth\" data-mdc-auto-init=\"MDCTextField\">\n          <textarea id=\"import-user-json\" name=\"json\" class=\"mdc-text-field__input\" rows=\"10\"></textarea>\n          <label for=\"import-user-json\" class=\"mdc-floating-label\">Paste exported data here</label>\n        </div>\n      </section>\n      <footer class=\"mdc-dialog__actions\">\n        <button type=\"button\" class=\"mdc-button mdc-dialog__button mdc-ripple-upgraded\" data-mdc-dialog-action=\"close\">Cancel</button>\n        <button type=\"submit\" class=\"mdc-button mdc-dialog__button mdc-ripple-upgraded\" data-mdc-dialog-action=\"accept\">Import User</button>\n      </footer>\n    </form>\n  </div>\n  <div class=\"mdc-dialog__scrim\"></div>\n</aside>",
        "account_sidebar": "<div class=\"mdc-drawer__header\">\n  <h3 class=\"mdc-typography--headline6\">My job seeker account</h3>\n</div>\n<div class=\"mdc-drawer__content\">\n  <nav class=\"mdc-list\">\n    {{#withExtend this toHide=(split\n      (concat\n        \"Home,Sign out\"\n      ) \",\")}}\n      {{#each @root.context.metaData.menus.user-signed-in ~}}\n        {{#unless (contains ../toHide label)}}\n          <a class=\"mdc-list-item {{#if (regexMatch @root.request.url.pathname route \"gi\")}} mdc-list-item--activated{{/if}}\" href=\"{{stripTrailingSlash path}}\" role=\"menuitem\">\n            {{#if icon ~}}\n            <span class=\"far fa-{{icon}} mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n            {{/if ~}}\n            {{{label}}}\n          </a>\n        {{/unless}}\n      {{/each ~}}\n    {{/withExtend}}\n  </nav>\n</div>",
        "account_sign-in": "<form id=\"sign-in-form\" method=\"POST\" class=\"sign-in-form\">\n  <div class=\"mdc-card mdc-elevation--z0\">\n    <div class=\"mdc-card__info--content-primary\">\n      <div class=\"mdc-card__info--content-primary-title mdc-typography--headline4 x-padding\">\n        {{#if @root.request.params.query.reauth}}\n          Sign in again to verify your account\n        {{else}}\n          Sign in to your job seeker account\n        {{/if}}\n      </div>\n      {{#if @root.request.params.query.reauth}}\n        <div class=\"mdc-card__info--content-primary-title mdc-typography--headline5 x-padding\">\n          Before you can do that you must sign in to your job seeker account again\n        </div>\n      {{/if}}\n    </div>\n    <div class=\"mdc-card__info x-padding-full mdc-theme--primary-bg mdc-theme--on-primary\" id=\"sign-in-message\">\n      <span id=\"form-message\"></span>\n    </div>\n    <div class=\"mdc-card__info x-padding-full\">\n      <div class=\"mdc-typography--body1\" id=\"form-section-email\">\n        {{> account_sign_in_social loaderSelector=\"#sign-in-loader\" messageSelector=\"#sign-in-message\"}}\n\n        <div class=\"middle-line-text\">\n          <span>or</span>\n        </div>\n        <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n          <span class=\"far fa-at mdc-text-field__icon\" tabindex=\"-1\"></span>\n          <input type=\"email\" id=\"sign-in-email\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" />\n          <label class=\"mdc-floating-label\" for=\"sign-in-email\">\n            Email\n          </label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n\n        <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n          <span class=\"far fa-key mdc-text-field__icon\" tabindex=\"-1\"></span>\n          <input type=\"password\" id=\"sign-in-password\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" />\n          <label class=\"mdc-floating-label\" for=\"sign-in-password\">\n            Password\n          </label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n      </div>\n      <div id=\"form-section-sign-in-buttons\">\n        <button class=\"mdc-button mdc-button--raised\" type=\"submit\" id=\"sign-in-submit\">\n          Sign in\n        </button>\n        <div class=\"mdc-typography--body1 v-margin-full\">\n          Forgot your password? <a href=\"/reset-password\">Reset password</a>\n        </div>\n        <div class=\"mdc-typography--body1 v-margin-full\">\n          Don't have a job seeker account? <a href=\"/sign-up\">Sign up</a>\n        </div>\n        <div class=\"mdc-typography--body1 v-margin-full\">\n          Read our <a href=\"/privacy\" target=\"_blank\">privacy notice</a>\n        </div>\n      </div>\n      <div class=\"card-loader\" id=\"sign-in-loader\">\n        <div class=\"card-loader-inner\">\n          <span class=\"far fa-2x fa-circle-notch fa-spin\"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n  var $form = $('#sign-in-form');\n  var $message = $('#sign-in-message');\n  var $email = $('#sign-in-email');\n  var $password = $('#sign-in-password');\n  var $login = $('#sign-in-submit');\n  var $loader = $('#sign-in-loader');\n\n  $form.on('submit', function(evt) {\n    var email = $email.val();\n    var password = $password.val();\n    $loader.css('display', 'flex');\n    evt.preventDefault();\n    goodmoves.auth.signInEmailPassword(email, password).then(function(user) {\n      window.location.href = '\n        {{~#ifAny (contains @root.request.headers.referer \"sign-out\") (contains @root.request.headers.referer \"reset-password\")~}}\n          /\n        {{~else~}}\n          {{default @root.request.headers.referer \"/\"}}\n        {{~/ifAny~}}\n      ';\n    }).catch(function(err) {\n      $message.html(err.message+' <a href=\"/reset-password\">Reset password</a>').show();\n      $loader.css('display', 'none');\n    });\n  })\n});\n</script>",
        "account_sign-out": "{{> account_sign_out_loader}}\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n  setTimeout(function() {\n    goodmoves.auth.sessionCleanup().then(function() {\n      window.setTimeout(function() {\n        window.location.href = '/';\n      }, 1000);\n    }).catch(function(err) {\n      console.error('Error signing out:', err);\n    });\n  }, 1000);\n});\n</script>",
        "account_sign-up": "<form id=\"sign-up-form\" method=\"POST\" class=\"sign-in-form sign-up-form\">\n  <div class=\"mdc-card mdc-elevation--z0\">\n    <div class=\"mdc-card__info--content-primary\">\n      <div class=\"mdc-card__info--content-primary-title mdc-typography--headline4 x-padding\">\n        Sign up to create your job seeker account\n      </div>\n    </div>\n    <div class=\"mdc-card__info x-padding-full mdc-theme--primary-bg mdc-theme--on-primary\" id=\"sign-up-message\">\n      <span id=\"form-message\"></span>\n    </div>\n    <div class=\"mdc-card__info x-padding-full\">\n      <div class=\"mdc-typography--body1\" id=\"form-section-email\">\n        {{> account_sign_in_social loaderSelector=\"#sign-up-loader\" messageSelector=\"#sign-up-message\"}}\n\n        <div class=\"middle-line-text\">\n          <span>or</span>\n        </div>\n        <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n          <span class=\"far fa-at mdc-text-field__icon\" tabindex=\"-1\"></span>\n          <input type=\"email\" id=\"sign-up-email\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" data-lpignore=\"true\" autocomplete=\"off\" />\n          <label class=\"mdc-floating-label\" for=\"sign-up-email\">\n            Email\n          </label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n        <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n          <span class=\"far fa-at mdc-text-field__icon\" tabindex=\"-1\"></span>\n          <input type=\"email\" id=\"sign-up-email-confirm\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" data-lpignore=\"true\" autocomplete=\"off\" />\n          <label class=\"mdc-floating-label\" for=\"sign-up-email-confirm\">\n            Confirm email\n          </label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n\n        <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n          <span class=\"far fa-key mdc-text-field__icon\" tabindex=\"-1\"></span>\n          <input type=\"password\" id=\"sign-up-password\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" data-lpignore=\"true\" autocomplete=\"off\" />\n          <label class=\"mdc-floating-label\" for=\"sign-up-password\">\n            Password\n          </label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n        <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n          <span class=\"far fa-key mdc-text-field__icon\" tabindex=\"-1\"></span>\n          <input type=\"password\" id=\"sign-up-password-confirm\" class=\"mdc-text-field__input mdc-text-field--fullwidth\" data-lpignore=\"true\" autocomplete=\"off\" />\n          <label class=\"mdc-floating-label\" for=\"sign-up-password-confirm\">\n            Confirm password\n          </label>\n          <div class=\"mdc-line-ripple\"></div>\n        </div>\n      </div>\n      <div id=\"form-section-sign-up-buttons\">\n        <button class=\"mdc-button mdc-button--raised\" type=\"submit\" id=\"sign-up-submit\">\n          Sign up\n        </button>\n        <div class=\"mdc-typography--body1 v-margin-full\">\n          Already have a job seeker account? <a href=\"/sign-in\">Sign in</a>\n        </div>\n        <div class=\"mdc-typography--body1 v-margin-full\">\n          Read our <a href=\"/privacy\" target=\"_blank\">privacy notice</a>\n        </div>\n      </div>\n      <div class=\"card-loader\" id=\"sign-up-loader\">\n        <div class=\"card-loader-inner\">\n          <span class=\"far fa-2x fa-circle-notch fa-spin\"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n  var $form = $('#sign-up-form');\n  var $message = $('#sign-up-message');\n  var $emailForm = $('#email-password-form');\n  var $email = $('#sign-up-email');\n  var $emailConfirm = $('#sign-up-email-confirm');\n  var $password = $('#sign-up-password');\n  var $passwordConfirm = $('#sign-up-password-confirm');\n  var $register = $('#sign-up-submit');\n  var $loader = $('#sign-up-loader');\n\n  $form.on('submit', function(evt) {\n    $loader.css('display', 'flex');\n    evt.preventDefault();\n\n    var email = $email.val();\n    var emailConfirm = $emailConfirm.val();\n    var password = $password.val();\n    var passwordConfirm = $passwordConfirm.val();\n\n    goodmoves.auth.createAccount(email, emailConfirm, password, passwordConfirm)\n      .then(function(user) {\n        window.location.href = '/';\n      })\n      .catch(function(err) {\n        $message.text(err.message || 'There was a problem creating your account').show();\n        $loader.css('display', 'none');\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n        return;\n      });\n  });\n});\n</script>",
        "admin_foot": "<script>\n  $('#admin').on('change', function(evt) {\n    $.ajax({\n      url: '/admin/set-administrator',\n      type: 'POST',\n      data: {\n        admin: $(evt.currentTarget).prop('checked') ? 'true' : 'false',\n        uid: {{{safeStringify @root.data.userAuth.uid}}}\n      },\n      dataType: 'json',\n      success: function(data, status, xhr) {\n        goodmoves.componentsInitialiser.snackbar.show({ message: 'Updated admin status' });\n      },\n      error: function(xhr, status, err) {\n        goodmoves.componentsInitialiser.snackbar.show({ message: 'Error updating admin status: ' + err });\n      }\n    });\n  });\n\n  $('[data-partition-active]').on('change', function(evt) {\n    var $o = $(evt.currentTarget);\n    $.ajax({\n      url: '/admin/update-partition',\n      type: 'POST',\n      data: {\n        campaign: $o.data('campaign'),\n        email: $o.data('email'),\n        partition: $o.data('partition'),\n        active: $(evt.currentTarget).prop('checked') ? 1 : 0\n      },\n      dataType: 'json',\n      success: function(data, status, xhr) {\n        goodmoves.componentsInitialiser.snackbar.show({ message: 'Updated partition' });\n      },\n      error: function(xhr, status, err) {\n        goodmoves.componentsInitialiser.snackbar.show({ message: 'Error updating partition: ' + err });\n      }\n    });\n  });\n\n  $('[data-send-test]').on('click', function(evt) {\n    var campaign = $(evt.currentTarget).data('send-test');\n    var email = $('#' + campaign + '-test-email').val();\n    var lastSent = $('#' + campaign + '-test-last-sent').val();\n    var dontSend = $('#' + campaign + '-test-dont-send').val();\n    var url = 'https://emailer.scvo.net/send-test/' + campaign + '/' + email + '?';\n\n    var params = [\n      'override=' + encodeURIComponent({{{safeStringify @root.data.auth.email}}})\n    ];\n    if (lastSent) { params.push('lastsent=' + encodeURIComponent(lastSent)); }\n    if (dontSend) { params.push('dontSend=' + encodeURIComponent(dontSend)); }\n\n    var win = window.open(url + params.join('&'), '_blank');\n    win.focus();\n  });\n\n  function noteDeleted(responseJson) {\n    var response = JSON.parse(responseJson);\n    var $note = $('#note-' + response.id);\n    $note.fadeOut(500, function() {\n      $note.remove();\n    });\n  }\n\n    $('a[href^=\"#\"]')\n      .unbind('click.smoothScroll')\n      .bind('click.smoothScroll', function(event) {\n        event.preventDefault();\n        goodmoves.headroom.unpin();\n        var tolerance = goodmoves.headroom.tolerance.up;\n        var offset = goodmoves.headroom.offset;\n        goodmoves.headroom.tolerance.up = 99999999;\n        goodmoves.headroom.offset = 0;\n\n        $('html, body').animate({\n          scrollTop: $('[name=\"' + $(this).attr('href').substr(1) + '\"]').offset().top\n        }, 1000, function() {\n          setTimeout(function() {\n            goodmoves.headroom.tolerance.up = tolerance;\n            goodmoves.headroom.offset = offset;\n          }, 200);\n        });\n      });\n</script>",
        "admin_head-tags": "<title>{{@root.data.currentSite.title}} - Admin</title>\n<meta property=\"og:title\" content=\"{{@root.data.currentSite.title}} - Admin\" data-dynamic=\"true\">",
        "admin_index": "{{#*inline \"checkbox\"}}\n  <div class=\"mdc-form-field\">\n    <div class=\"mdc-checkbox\" data-mdc-auto-init=\"MDCCheckbox\">\n      <input type=\"checkbox\" class=\"mdc-checkbox__native-control\" id=\"{{id}}\" name=\"{{name}}\"\n          {{#if value}}value=\"{{value}}\"{{/if}} {{{attributes}}} {{#if checked}}checked{{/if}} />\n      <div class=\"mdc-checkbox__background\">\n        <svg class=\"mdc-checkbox__checkmark\" viewBox=\"0 0 24 24\">\n          <path class=\"mdc-checkbox__checkmark-path\" fill=\"none\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"/>\n        </svg>\n        <div class=\"mdc-checkbox__mixedmark\"></div>\n      </div>\n    </div>\n    <label for=\"{{id}}\">{{label}}</label>\n  </div>\n{{/inline}}\n\n{{#*inline \"textbox\"}}\n  <div class=\"mdc-text-field mdc-text-field--outlined {{#if leadingIcon}}mdc-text-field--with-leading-icon{{/if}}\" data-mdc-auto-init=\"MDCTextField\">\n    {{#if leadingIcon}}\n      <i class=\"mdc-text-field__icon {{leadingIcon}}\"></i>\n    {{/if}}\n    <input type=\"{{default type \"text\"}}\" class=\"mdc-text-field__input\" id=\"{{default id name}}\" name=\"{{default name id}}\" value=\"{{value}}\" {{{attributes}}}>\n    <div class=\"mdc-notched-outline\">\n      <div class=\"mdc-notched-outline__leading\"></div>\n      <div class=\"mdc-notched-outline__notch\">\n        <label for=\"{{default id name}}\" class=\"mdc-floating-label\">{{label}}</label>\n      </div>\n      <div class=\"mdc-notched-outline__trailing\"></div>\n    </div>\n  </div>\n{{/inline}}\n\n{{#*inline \"switch\"}}\n  <div class=\"mdc-switch\" data-mdc-auto-init=\"MDCSwitch\">\n    <div class=\"mdc-switch__track\"></div>\n    <div class=\"mdc-switch__thumb-underlay\">\n      <div class=\"mdc-switch__thumb\">\n        <input type=\"checkbox\" id=\"{{default id name}}\" name=\"{{default name id}}\" class=\"mdc-switch__native-control\" role=\"switch\"\n            {{#if value}}value=\"{{value}}\"{{/if}} {{{attributes}}} {{#if checked}}checked{{/if}}>\n      </div>\n    </div>\n  </div>\n  {{#if label}}\n    <label for=\"{{default id name}}\" class=\"l-margin-full\">{{label}}</label>\n  {{/if}}\n{{/inline}}\n\n{{#*inline \"campaign\"}}\n{{#if (contains name \"bulletin\") ~}}\n{{#if (getProperty @root.context.metaData.site-configurations (itemAt (arrayify (split name \"-\")) 2)) ~}}\n{{{getProperty @root.context.metaData.site-configurations (concat (itemAt (arrayify (split name \"-\")) 2) '.title')}}} bulletin\n{{else}}\n{{name}}\n{{/if ~}}\n{{else}}\n{{#if (getProperty @root.context.metaData.site-configurations (itemAt (arrayify (split name \"-\")) 3)) ~}}\n{{{getProperty @root.context.metaData.site-configurations (concat (itemAt (arrayify (split name \"-\")) 3) '.title')}}} {{itemAt (arrayify (split name \"-\")) 1}} {{itemAt (arrayify (split name \"-\")) 2}}\n{{else}}\n{{name}}\n{{/if ~}}\n{{/if ~}}\n{{/inline}}\n\n<style>\n  .container-content {\n      width: 100%;\n      padding-right: 1rem;\n      padding-bottom: 1px;\n      margin-left: 1rem;\n      margin-right: 1rem;\n      position: relative;\n      max-width: 1200px;\n      align-items: flex-end;\n      z-index: 4;\n  }\n\n  .container-content.container-centred {\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  .bottom-menu {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index:1000;\n  }\n\n  .admin-section .container-content {\n    padding: 5rem 0;\n  }\n\n  h2.mdc-typography--headline4 {\n    margin-left: -1.5rem;\n    margin-right: -1.5rem;\n    padding-left: 1.5rem;\n    padding-right: 1.5rem;\n    border-bottom: 1px solid #cccccc;\n    padding-bottom: 1rem;\n  }\n\n  .mdc-text-field--outlined {\n    background-color: #ffffff !important;\n  }\n\n  .admin-section:nth-child(odd) {\n    background-color: #ffffff;\n  }\n\n  .admin-user-info {\n    list-style: none;\n    margin:0;\n    padding:0;\n  }\n\n  .admin-user-info li {\n    padding:0;\n    margin:0 15px 0 0;\n    display: inline-block;\n  }\n\n  .table {\n    max-height: 60vh;\n    border: 1px solid #cccccc;\n    overflow: auto;\n  }\n\n  .table table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n\n  .table table th {\n    border-bottom: 1px solid #cccccc;\n  }\n  .table table tr:nth-child(odd) {\n    background-color: #ededed;\n  }\n\n  .table table tr:nth-child(even), .table table thead tr {\n    background-color: #ffffff !important;\n  }\n\n  .table table th, .table table td {\n    text-align: left;\n    vertical-align: top;\n    padding: 0.5rem;\n  }\n\n  .border-padding {\n    margin: 1rem 0 1rem 1rem;\n    padding: 1rem 0 1rem 1rem;\n    border-left: 1px solid #cccccc;\n  }\n\n  .mdc-switch.mdc-switch--checked .mdc-switch__track {\n    background-color: #000 !important;\n  }\n\n  .mdc-switch.mdc-switch--checked .mdc-switch__thumb {\n    background-color: #448532 !important;\n    border-color: #448532 !important;\n  }\n</style>\n\n<div class=\"admin-section\">\n  <a name=\"find-user\"></a>\n  <div class=\"container-content container-centred\">\n    <div class=\"mdc-card x-padding-full b-margin-full\" style=\"background-color: #ffffff;\">\n      <h1 class=\"mdc-typography--headline4\">\n        Find user\n      </h1>\n      <form action=\"/admin\" method=\"GET\">\n        {{>textbox id=\"email\" value=@root.data.email label=\"Find user by email\" leadingIcon=\"fas fa-search\" type=\"email\"}}\n      </form>\n    </div>\n  </div>\n</div>\n\n{{#if data.userAuth.uid}}\n  <div class=\"admin-section\">\n\t\t<a name=\"authentication-system-info\"></a>\n    <div class=\"container-content container-centred\">\n      <h2 class=\"mdc-typography--headline4\">Authentication system info</h2>\n      <ul class=\"admin-user-info\">\n        <li>\n          <strong>Email: </strong>\n          {{@root.data.userAuth.email}}\n        </li>\n        <li>\n          <strong>UID:</strong>\n          {{@root.data.userAuth.uid}}\n        </li>\n        <li>\n          <strong>Account created:</strong>\n          {{@root.data.userAuth.metadata.creationTime}}\n        </li>\n        <li>\n          <strong>Last sign-in:</strong>\n          {{@root.data.userAuth.metadata.lastSignInTime}}\n        </li>\n        <li>\n          <strong>Administrator</strong>\n          <span class=\"l-margin-full\">\n            {{>switch id=\"admin\" checked=@root.data.userAdmin}}\n          </span>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n  <div class=\"admin-section\">\n\t\t<a name=\"subscriptions\"></a>\n    <div class=\"container-content container-centred\">\n      <h2 class=\"mdc-typography--headline4\">Subscriptions</h2>\n      {{#each (groupBy @root.data.userSubscriptions.subscriptions.[0] \"campaign\")}}\n        {{#if (regexMatch [0].campaign \"^goodmoves-\" \"i\")}}\n          <h3 class=\"mdc-typography--headline5\">\n            {{>campaign name=[0].campaign}}\n          </h3>\n          <div class=\"border-padding\">\n            {{#with [0]}}\n              <ul class=\"admin-user-info\">\n                {{#if status ~}}\n                <li>\n                  <strong>Last status: </strong>\n                  {{default (replace status \"-\" \" \") \"N/A\"}}\n                </li>\n                <li>\n                  <strong>Last sent: </strong>\n                  {{momentFormat (moment lastSent null) \"YYYY-MM-DD HH:mm:ss\"}}\n                </li>\n                {{/if ~}}\n                <li>\n                  <strong>Created: </strong>\n                  {{momentFormat (moment createdAt null) \"YYYY-MM-DD HH:mm:ss\"}}\n                </li>\n                <li>\n                  <strong>Last updated: </strong>\n                  {{momentFormat (moment updatedAt null) \"YYYY-MM-DD HH:mm:ss\"}}\n                </li>\n                {{#if metadata ~}}\n                <li>\n                  <strong>Metadata: </strong>\n                  {{safeStringify metaData}}\n                </li>\n                {{/if ~}}\n              </ul>\n\n              <form action=\"/admin/update-subscription\" method=\"POST\" data-ajax-form='{\n                  \"successMessage\": \"Subscription updated\",\n                  \"failureMessage\": \"Failed to update subscription\"\n                }'>\n                <h4 class=\"mdc-typography--headline6\">Update subscription</h4>\n                <div class=\"mdc-layout-grid t-margin-full\">\n                  <div class=\"mdc-layout-grid__inner equal-height\" style=\"align-items: center;\">\n                    <div class=\"mdc-layout-grid__cell\">\n                      {{>textbox id=(concat campaign \"-days\") name=\"days\" value=days label=\"Days\" attributes='data-restricted=\"[1-7]\" maxlength=\"7\"'}}\n                      <small><em>* Sunday = 1, Monday = 2, etc.</em></small>\n                    </div>\n                    <div class=\"mdc-layout-grid__cell\">\n                      {{>checkbox id=(concat campaign \"-active\") name=\"active\" label=\"Active\" value=\"1\" checked=active}}\n                      <small><em>* This cannot be changed by users and acts as an override to surpress emails</em></small>\n                    </div>\n                    <div class=\"mdc-layout-grid__cell\">\n                      <input type=\"hidden\" name=\"campaign\" value=\"{{campaign}}\">\n                      <input type=\"hidden\" name=\"email\" value=\"{{email}}\">\n                      <button type=\"submit\" class=\"mdc-button mdc-button--raised\">\n                        <span class=\"mdc-button__label\">Update subscription</span>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n\n              <h4 class=\"mdc-typography--headline6\">Test email</h4>\n              <p>\n                This form will generate and render a version of this user's subscription and optionally send it to your own email ({{@root.data.auth.email}})\n              </p>\n              <div class=\"mdc-layout-grid t-margin-full\">\n                <div class=\"mdc-layout-grid__inner equal-height\" style=\"align-items: center;\">\n                  <div class=\"mdc-layout-grid__cell\">\n                    {{>textbox id=(concat campaign \"-test-last-sent\") type=\"date\" label=\"Date last sent\" value=(momentFormat (moment lastSent null) \"YYYY-MM-DD\")}}\n                  </div>\n                  <div class=\"mdc-layout-grid__cell\">\n                    {{>checkbox id=(concat campaign \"-test-dont-send\") label=\"Don't actually send\" value=\"true\" checked=true}}\n                  </div>\n                  <div class=\"mdc-layout-grid__cell\">\n                    <input type=\"hidden\" id=\"{{campaign}}-test-email\" value=\"{{email}}\">\n                    <button type=\"button\" class=\"mdc-button mdc-button--raised\" data-send-test=\"{{campaign}}\">\n                      <span class=\"mdc-button__label\">Send test email</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            {{/with}}\n\n            <h4 class=\"mdc-typography--headline6\">Subscription partitions</h4>\n            <div class=\"table\">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Partition name</th>\n                    <th>Parameters</th>\n                    <th style=\"text-align: center;\">Active</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {{#each this}}\n                    <tr>\n                      <td>{{partition}}</td>\n                      <td>\n                        <pre style=\"margin:0;\">{{{safeStringify (querystring querystring)}}}</pre>\n                      </td>\n                      <td style=\"text-align: center; vertical-align: middle;\">\n                        {{>switch id=(concat campaign \"_\" (slugify partition)) checked=partitionActive\n                            attributes=(concat 'data-campaign=\"' campaign '\" data-email=\"' email '\" data-partition=\"' partition '\" data-partition-active')}}\n                      </td>\n                    </tr>\n                  {{/each}}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        {{/if}}\n      {{/each}}\n    </div>\n  </div>\n\n  <div class=\"admin-section\">\n\t\t<a name=\"email-logs\"></a>\n    <div class=\"container-content container-centred\">\n      <h2 class=\"mdc-typography--headline4\">Email logs</h2>\n\n      <div class=\"table\">\n        <table>\n          <thead>\n            <tr>\n              <th></th>\n              <th style=\"width:10%;\">Timestamp</th>\n              <th style=\"width:10%;\">Campaign</th>\n              <th style=\"width:10%;\">Event</th>\n              <th>Other</th>\n              <th style=\"width:15%;\">Message Id</th>\n            </tr>\n          </thead>\n          <tbody>\n            {{#each @root.data.userSubscriptions.logs}}\n              <tr>\n                <td>\n                  {{#switch logLevel}}\n                    {{#case \"warn\"}}\n                      <i class=\"fas fa-comment-alt-exclamation mdc-theme--warning\"></i>\n                    {{/case}}\n                    {{#case \"error\"}}\n                      <i class=\"fas fa-exclamation-triangle mdc-theme--error\"></i>\n                    {{/case}}\n                    {{#switchDefault}}\n                      <i class=\"fas fa-info-circle mdc-theme--info\"></i>\n                    {{/switchDefault}}\n                  {{/switch}}\n                </td>\n                <td>{{momentFormat (moment (concat timestamp \"000\") \"x\") \"YYYY-MM-DD HH:mm:ss\"}}</td>\n                <td>{{>campaign name=campaign}}</td>\n                <td>{{replace event \"-\" \" \"}}</td>\n                <td>{{other}}</td>\n                <td>{{messageId}}</td>\n              </tr>\n            {{/each}}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"admin-section\">\n\t\t<a name=\"notes\"></a>\n    <div class=\"container-content container-centred\">\n      <h2 class=\"mdc-typography--headline4\">Notes</h2>\n      {{#each @root.data.userNotes}}\n        <div id=\"note-{{@key}}\">\n          <h3 class=\"mdc-typography--headline5\">\n            Notes for job <a href=\"/vacancy/{{@key}}/from-admin-page\">{{@key}}</a>\n            <form action=\"/admin/delete-note\" method=\"POST\" data-ajax-form='{\n              \"successMessage\": \"Note deleted\",\n              \"failureMessage\": \"Failed to delete note\",\n              \"successCallback\": \"noteDeleted\"\n            }' class=\"pull-right\" style=\"\">\n              <input type=\"hidden\" name=\"uid\" value=\"{{@root.data.userAuth.uid}}\">\n              <input type=\"hidden\" name=\"id\" value=\"{{@key}}\">\n              <button type=\"submit\" class=\"mdc-button mdc-button--raised\">\n                <i class=\"mdc-button__icon fas fa-trash fa-fw\"></i>\n                <span class=\"mdc-button__label\">Delete note</span>\n              </button>\n            </form>\n          </h3>\n          <div class=\"border-padding\">\n            {{{markdown this}}}\n          </div>\n        </div>\n      {{/each}}\n    </div>\n  </div>\n\n  <div class=\"bottom-menu mdc-theme--primary-bg mdc-elevation--z5\">\n    {{#> components_tab_bar\n          extraClasses=\"mdc-tab-bar__auto-width\"\n          id=\"admin-tab-bar\"}}\n      {{> components_tab\n          url=\"#find-user\"\n          labelClasses=\"mdc-theme--on-primary\"\n          active=false\n          label=\"Find user\"}}\n      {{> components_tab\n          url=\"#authentication-system-info\"\n          labelClasses=\"mdc-theme--on-primary\"\n          active=false\n          label=\"Auth\"}}\n      {{> components_tab\n          url=\"#subscriptions\"\n          labelClasses=\"mdc-theme--on-primary\"\n          active=false\n          label=\"Subscriptions\"}}\n      {{> components_tab\n          url=\"#email-logs\"\n          labelClasses=\"mdc-theme--on-primary\"\n          active=false\n          label=\"Email logs\"}}\n      {{> components_tab\n          url=\"#notes\"\n          labelClasses=\"mdc-theme--on-primary\"\n          active=false\n          label=\"Notes\"}}\n    {{/components_tab_bar}}\n  </div>\n{{else}}\n  <div class=\"admin-section\">\n    <div class=\"container-content container-centred\">\n      <h1 class=\"mdc-typography--headline3\">User not found: {{{@root.data.email}}}</h1>\n    </div>\n  </div>\n{{/if}}",
        "errors_404": "<div class=\"container-fluid container-content\">\n  <div class=\"mdc-layout-grid\">\n    <div class=\"mdc-layout-grid__inner\">\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n        <h2>The page you requested could not be found</h2>\n        <p>\n          We recently relaunched our website and some page addresses may have changed.\n        </p>\n        {{#ifAll data.supplimentaryResponses.not_found (compare data.supplimentaryResponses.not_found.hits.total \">\" 0) ~}}\n        <h3>Did you mean?</h3>\n        {{#each data.supplimentaryResponses.not_found.hits.hits ~}}\n        {{#compare @index \"===\" 0 ~}}\n        {{>highlight_result}}\n        {{else}}\n        {{/compare ~}}\n        {{/each ~}}\n        {{/ifAll ~}}\n      </div>\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n        <img src=\"{{~>asset_url url='images/404.png'~}}\" class=\"responsive\">\n      </div>\n    </div>\n  </div>\n  {{#ifAll data.not_found (compare data.not_found.hits.total \">\" 1) ~}}\n  <hr />\n  <h3>Other relevant content</h3>\n  {{#each data.not_found.hits.hits ~}}\n  {{#compare @index \"===\" 0 ~}}\n  {{else}}\n  {{>highlight_result}}\n  {{/compare ~}}\n  {{/each ~}}\n  {{else}}\n  <!-- <h3>Try searching for a topic</h3> -->\n  {{/ifAll ~}}\n\n  <script>\n  gtag('event', '404', {\n    event_category: '{{name}}',\n    event_label: '{{request.params.uri.pathname}}'\n  });\n  </script>\n</div>\n",
        "errors_500": "<div class=\"page\">\n  <div class=\"container-fluid container-content\">\n    <div class=\"mdc-layout-grid\">\n      <div class=\"mdc-layout-grid__inner\">\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone content page-content\">\n          <h2>Error 5xx: Something went terribly wrong</h2>\n          <p>\n            It looks like either:\n          </p>\n          <ul>\n            <li>the server did not understand what you were trying to access and panicked,</li>\n            <li>the developers overlooked something obvious, or</li>\n            <li>a combination of the two</li>\n          </ul>\n          <p>\n            Whatever the cause, the developers have been informed and will be working on a fix.\n          </p>\n        </div>\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n          <img src=\"{{~>asset_url url='images/404.png'~}}\" class=\"responsive\">\n        </div>\n      </div>\n    </div>\n    <script>\n    gtag('event', '500', {\n      event_category: '{{name}}',\n      event_label: '{{request.params.uri.pathname}}'\n    });\n    </script>\n  </div>\n</div>\n\n<!--\n\n             \n     \n                    \n                    \n              \n                 \n\n{{#each errors}}\n--------------------------------\nName: {{name}}\nMessage: {{message}}\nStack: {{stack}}\nSource Route: {{sourceRoute.route.name}}\nRedirect To: {{redirectTo}}\nStatus Code: {{statusCode}}\nData: {{{stringify data}}}\n{{#if task}}Task: {{{stringify task}}}{{/if}}\n{{#if destination}}Destination: {{{stringify destination}}}{{/if}}\n--------------------------------\n{{/each}}\n\n-->\n",
        "events_event-head-tags": "{{#if data.primaryResponse.hits.hits.[0] ~}}\n{{#with data.primaryResponse.hits.hits.[0]._source ~}}\n<title>Training course: {{title}}  Goodmoves</title>\n<meta property=\"og:title\" content=\"Training course: {{title}}  Goodmoves\" data-dynamic=\"true\">\n{{#ifAny og_image ../og_image ~}}\n<meta property=\"og:image\" content=\"{{default og_image ../og_image}}\" data-dynamic=\"true\">\n{{/ifAny ~}}\n{{#ifAny og_summary description ../og_summary ../description ~}}\n<meta property=\"og:summary\" content=\"{{default og_summary (default ../og_summary (default description ../description))}}\" data-dynamic=\"true\">\n<meta name=\"description\" content=\"{{default description (default ../description (default og_summary ../og_summary))}}\" data-dynamic=\"true\">\n{{/ifAny ~}}\n{{#if rendered.json_ld ~}}\n<script type=\"application/ld+json\" data-dynamic=\"true\">\n{{{rendered.json_ld}}}\n</script>\n{{/if ~}}\n{{/with ~}}\n{{else}}\n<title>Goodmoves  charity and voluntary sector recruitment</title>\n<meta property=\"og:title\" content=\"Goodmoves  charity and voluntary sector recruitment\" data-dynamic=\"true\">\n{{/if ~}}",
        "events_event-search-form": "{{> event_search_form this instance_id=\"perm\"}}\n",
        "events_event": "<div class=\"container-content content-event\">\n  {{#compare data.primaryResponse.hits.total \">\" 0 ~}}\n  {{#with data.primaryResponse.hits.hits.[0]._source as |event| ~}}\n\n  {{> event_full event}}\n\n  {{/with ~}}\n  {{else}}\n  <p>\n    <strong>Error:</strong> the requested event could not be found.\n  </p>\n  {{/compare ~}}\n</div>",
        "events_search-head-tags": "{{#if data.primaryResponse.hits.hits.[0] ~}}\n<title>Training search results  Goodmoves</title>\n<meta property=\"og:title\" content=\"Training search results  Goodmoves\" data-dynamic=\"true\">\n{{else}}\n<title>Training search results  Goodmoves</title>\n<meta property=\"og:title\" content=\"Training search results  Goodmoves\" data-dynamic=\"true\">\n{{/if ~}}",
        "events_search": "<div id=\"detailed-results-container\" class=\"container-content content-event-search\">\n  {{> event_search_results this}}\n</div>\n",
        "geo-lookup": "[\n  {{#eachJoin @root.data.search_data.hits.hits \",\"}}\n  {\n    \"display\": {{{stringify _source.display}}},\n    \"place\": {{{stringify _source.place}}},\n    {{#if _source.region}}\n    \"region\": {{{stringify _source.region}}},\n    {{/if}}\n    {{#if _source.population}}\n    \"population\": {{{default stringify _source.population 0}}},\n    {{/if}}\n    {{#if _source.county}}\n    \"county\": {{{stringify _source.county}}},\n    {{else}}\n    {{#if _source.district}}\n    \"county\": {{{stringify _source.district}}},\n    {{/if}}\n    {{/if}}\n    {{#if _source.ward}}\n    \"ward\": {{{stringify _source.ward}}},\n    {{/if}}\n    {{#if _source.nuts_3}}\n    \"nuts_3\": {{{stringify _source.nuts_3}}},\n    {{/if}}\n    {{#if _source.constituency}}\n    \"constituency\": {{{stringify _source.constituency}}},\n    {{/if}}\n    {{#if _source.country}}\n    \"country\": {{{stringify _source.country}}},\n    {{/if}}\n    \"point\": {{{stringify _source.point}}}\n  }\n  {{/eachJoin}}\n]",
        "humans": "/* TEAM */\nWeb Development & Design Manager: Calum Macisdean\nGitHub: calummacuisdean\nLocation: Edinburgh, Scotland\n\nPlatform Developer: Matthew Wilkes\nGitHub: tonicblue\nLocation: Edinburgh, Scotland\n\nDirector of Digital: David McNeill\nTwitter: david_mcneill\nLocation: Edinburgh, Scotland\n\n/* THANKS */\nDog: Sasha\nLocation: Edinburgh\n\nCoding chat: Alex Nuttgens\nWebsite: https://goodhq.org\nGitHub: anuttgens\n\nOffice support: Team Digital\nWebsite: https://scvo.org/digital\nTwitter: digiscot\n\nGuidance and testing: The SCVO Staff\nWebsite: https://scvo.org/about/staff-team\nTwitter: scvotweet\nFacebook: scvo1939\nYoutube: scvotv\nLinkedIn: scvo\nGoodHQ: scvo\n\n/* SITE */\nLast update: {{momentFormat (moment) 'YYYY-MM-DD'}}\nStandards: HTML, CSS, TS\nLanguage: English\nDoctype: HTML5\nIDE: Vim, Atom\nBack-end: SCVO->Router, Elasticsearch, Google Firebase, Google Analytics\nFront-end: Material Design Components, FontAwesome, Headroom, Swiper, CookieInfoScript, Browser-Update.org\nDevelopment: Node.js, NPM, GitHub\nProductivity: Slack, Trello\nOperating Systems: Arch Linux, Ubuntu",
        "organisations_organisation-head-tags": "{{#if @root.data.primaryResponse.hits.hits.[0] ~}}\n{{#with @root.data.primaryResponse.hits.hits.[0]._source ~}}\n<title>Vacancies with {{title}}  {{momentFormat (moment now) \"MMMM YYYY\"}}  Goodmoves</title>\n<meta property=\"og:title\" content=\"Vacancies with {{title}}  {{momentFormat (moment now) \"MMMM YYYY\"}}  Goodmoves\" data-dynamic=\"true\">\n{{#ifAny logo_url og_image ../og_image ~}}\n<meta property=\"og:image\" content=\"{{default logo_url og_image ../og_image}}\" data-dynamic=\"true\">\n{{/ifAny ~}}\n{{#ifAny og_summary description ../og_summary ../description ~}}\n<meta property=\"og:summary\" content=\"{{stripTags (regexReplace (default og_summary (default ../og_summary (default description ../description))) '\\r|\\n' 'gi' '')}}\" data-dynamic=\"true\">\n<meta name=\"description\" content=\"{{stripTags (regexReplace (default description (default ../description (default og_summary ../og_summary))) '\\r|\\n' 'gi' '')}}\" data-dynamic=\"true\">\n{{/ifAny ~}}\n{{#if rendered.json_ld ~}}\n<script type=\"application/ld+json\" data-dynamic=\"true\">\n{{{rendered.json_ld}}}\n</script>\n{{/if ~}}\n{{/with ~}}\n{{else}}\n<title>Goodmoves  charity and voluntary sector recruitment</title>\n<meta property=\"og:title\" content=\"Goodmoves  charity and voluntary sector recruitment\" data-dynamic=\"true\">\n{{/if ~}}",
        "organisations_organisation-search-form": "{{> organisation_search_form this instance_id=\"perm\"}}\n",
        "organisations_organisation": "<div class=\"container-content content-secondary\">\n  {{#compare data.primaryResponse.hits.total \">\" 0 ~}}\n\n  {{> dialog_shortlist}}\n\n  {{#with @root.data.primaryResponse.hits.hits.[0]._source as |organisation| ~}}\n\n  {{> organisation_full organisation}}\n\n  {{#compare @root.data.supplimentaryResponses.vacancies_open.hits.total \">\" 0 ~}}\n  <hr />\n  <div class=\"mdc-typography--headline5\">\n    Current vacancies\n  </div>\n  {{#each @root.data.supplimentaryResponses.vacancies_open.hits.hits ~}}\n  {{> vacancy_list _source}}\n  {{/each ~}}\n  {{/compare ~}}\n\n  {{#compare @root.data.supplimentaryResponses.vacancies_closed.hits.total \">\" 0 ~}}\n  {{#compare @root.data.supplimentaryResponses.vacancies_open.hits.total \"===\" 0 ~}}\n  <hr />\n  {{/compare}}\n  <div class=\"mdc-typography--headline5\">\n    Closed vacancies\n  </div>\n  {{#each @root.data.supplimentaryResponses.vacancies_closed.hits.hits ~}}\n  {{> vacancy_list _source}}\n  {{/each ~}}\n  {{/compare ~}}\n\n  {{#compare @root.data.supplimentaryResponses.vacancies_open.hits.total \"===\" 0 ~}}\n  {{#compare @root.data.supplimentaryResponses.vacancies_closed.hits.total \"===\" 0 ~}}\n  <hr />\n  <div class=\"mdc-typography--headline6\">\n    There are no current or recently closed vacancies available\n  </div>\n  {{/compare ~}}\n  {{/compare ~}}\n\n  {{#if goodhq_organisation.xid ~}}\n  {{#compare goodhq_organisation.status \"===\" \"Open\" ~}}\n  <hr />\n  <div class=\"mdc-typography--headline6\">\n    Find out more about <a href=\"https://goodhq.org/{{goodhq_organisation.xid}}\">{{{organisation.title}}}</a> on <a href=\"https://goodhq.org\">Good HQ</a>\n  </div>\n  {{#compare @root.data.goodhq.volunteering.hits.total \">\" 0 ~}}\n  <p class=\"mdc-typography--headline7\">\n    <strong>Volunteering</strong>\n  </p>\n  <div class=\"mdc-layout-grid equal-height\">\n    <div class=\"mdc-layout-grid__inner\">\n      {{#each @root.data.goodhq.volunteering.hits.hits ~}}\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n        {{{_source.rendered.goodmoves_list}}}\n      </div>\n      {{/each ~}}\n    </div>\n  </div>\n  {{#compare @root.data.goodhq.volunteering.hits.total \">\" 3 ~}}\n  <p class=\"mdc-typography--body1\">\n    <a href=\"https://goodhq.org/{{organisation.goodhq_organisation.xid}}?mode=volopp\">More volunteering opportunities on Good HQ</a>\n  </p>\n  {{/compare ~}}\n  {{/compare ~}}\n\n  {{/compare ~}}\n  {{/if ~}}\n\n  {{/with ~}}\n  {{else}}\n  <p>\n    <strong>Error:</strong> the requested organisation could not be found.\n  </p>\n  {{/compare ~}}\n</div>",
        "organisations_search-head-tags": "{{#if @root.data.primaryResponse.hits.hits.[0] ~}}\n<title>Search results  Goodmoves</title>\n<meta property=\"og:title\" content=\"Search results  Goodmoves\" data-dynamic=\"true\">\n{{else}}\n<title>Search results  Goodmoves</title>\n<meta property=\"og:title\" content=\"Search results  Goodmoves\" data-dynamic=\"true\">\n{{/if ~}}",
        "organisations_search": "<div id=\"detailed-results-container\" class=\"container-content content-secondary-search\">\n  {{> organisation_search_results this}}\n</div>\n",
        "pages_page-head-tags": "{{#if data.primaryResponse.hits.hits.[0] ~}}\n{{#with data.primaryResponse.hits.hits.[0]._source ~}}\n{{#ifAny title og_title ~}}\n<title>{{{default title og_title}}}  Goodmoves</title>\n<meta property=\"og:title\" content=\"{{{default title og_title}}}  Goodmoves\" data-dynamic=\"true\">\n{{else}}\n<title>Goodmoves  charity and voluntary sector recruitment</title>\n<meta property=\"og:title\" content=\"Goodmoves  charity and voluntary sector recruitment\" data-dynamic=\"true\">\n{{/ifAny ~}}\n<!-- <meta property=\"og:image\" content=\"\" data-dynamic=\"true\"> -->\n<meta property=\"og:image:width\" content=\"96\" data-dynamic=\"true\">\n<meta property=\"og:image:height\" content=\"96\" data-dynamic=\"true\">\n{{#ifAny og_summary description ../og_summary ../description ~}}\n<meta property=\"og:summary\" content=\"{{default og_summary (default ../og_summary (default description ../description))}}\" data-dynamic=\"true\">\n<meta name=\"description\" content=\"{{default description (default ../description (default og_summary ../og_summary))}}\" data-dynamic=\"true\">\n{{/ifAny ~}}\n{{#if rendered.json_ld ~}}\n<script type=\"application/ld+json\" data-dynamic=\"true\">\n{{{rendered.json_ld}}}\n</script>\n{{/if ~}}\n{{/with ~}}\n{{else}}\n<title>Goodmoves  charity and voluntary sector recruitment</title>\n<meta property=\"og:title\" content=\"Goodmoves  charity and voluntary sector recruitment\" data-dynamic=\"true\">\n<meta property=\"og:summary\" content=\"Goodmoves is the premier careers hub for the civil society, charity and voluntary sector  run by the Scottish Council for Voluntary Organisations\" data-dynamic=\"true\">\n<meta name=\"description\" content=\"Goodmoves is the premier careers hub for the civil society, charity and voluntary sector  run by the Scottish Council for Voluntary Organisations\" data-dynamic=\"true\">\n{{/if ~}}",
        "pages_page": "<div class=\"container-content content-page\">\n  {{> banner_ad}}\n\n  <div class=\"full\">\n    {{#compare data.primaryResponse.hits.total \">\" 0 ~}}\n    <h1 class=\"mdc-typography--headline4\">\n      {{{data.primaryResponse.hits.hits.[0]._source.title}}}\n    </h1>\n    {{{data.primaryResponse.hits.hits.[0]._source.content}}}\n    {{else}}\n    <h2 class=\"mdc-typography--headline5\">\n      Error 404: Page not found\n    </h2>\n    {{/compare ~}}\n  </div>\n</div>\n",
        "robots": "User-agent: *\nDisallow:\n\nUser-agent: litefinder\nDisallow: /\n\nUser-agent: Slurp\nDisallow: /\n\nUser-agent: Baidu\nDisallow: /\n\nSitemap: https://goodmoves.com/sitemap.xml",
        "sitemap": "{{~#*inline \"url\"~}}\n  <url>\n    <loc>{{loc}}</loc>\n    {{#if lastmod~}}\n    <lastmod>{{lastmod}}</lastmod>\n    {{~/if}}\n    {{#if changefreq~}}\n    <changefreq>{{changefreq}}</changefreq>\n    {{~/if}}\n    {{#if priority~}}\n    <priority>{{priority}}</priority>\n    {{~/if}}\n  </url>\n{{~/inline~}}\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n  <!-- Static Routes -->\n  {{> url\n    loc=(concat \"https://goodmoves.com/\")\n    lastmod=(momentFormat (moment \"\" \"\") \"YYYY-MM-DD\")\n    changefreq=\"daily\"\n    priority=\"0.75\"\n  }}\n  {{> url\n    loc=(concat \"https://goodmoves.com/sign-in\")\n    changefreq=\"yearly\"\n  }}\n  {{> url\n    loc=(concat \"https://goodmoves.com/sign-up\")\n    changefreq=\"yearly\"\n  }}\n  <!-- Districts -->\n  {{#each @root.data.termsMaps.districts.slugsMap}}\n    {{> url\n      loc=(concat \"https://goodmoves.com/jobs-in/\" @key)\n      lastmod=(momentFormat (moment \"\" \"\") \"YYYY-MM-DD\")\n      changefreq=\"daily\"\n      priority=\"0.75\"\n    }}\n    <!-- {{term}} Wards: -->\n    {{#each wards}}\n      {{> url\n        loc=(concat \"https://goodmoves.com/jobs-in/\" @../key \"/\" @key)\n        lastmod=(momentFormat (moment \"\" \"\") \"YYYY-MM-DD\")\n        changefreq=\"daily\"\n        priority=\"0.75\"\n      }}\n    {{/each}}\n  {{/each}}\n  <!-- Vacancies -->\n  {{#each @root.data.supplimentaryResponses.aggs.hits.hits}}\n    {{> url\n      loc=(concat \"https://goodmoves.com/vacancy/\" _source.slug)\n      lastmod=(momentFormat (moment _source.start_at \"x\") \"YYYY-MM-DD\")\n    }}\n  {{/each}}\n  <!-- Organisations -->\n  {{#each @root.data.supplimentaryResponses.aggs.aggregations.organisations.buckets}}\n    {{> url\n      loc=(concat \"https://goodmoves.com/organisation/\" key)\n      lastmod=(momentFormat (moment last_updated.value \"x\") \"YYYY-MM-DD\")\n      changefreq=\"weekly\"\n    }}\n  {{/each}}\n  <!-- CMS Pages -->\n  {{#each @root.data.supplimentaryResponses.pages.hits.hits}}\n    {{> url\n      loc=(concat \"https://goodmoves.com/\" (replace _source.slug \"_\" \"/\"))\n      lastmod=(momentFormat (moment _source.updated \"x\") \"YYYY-MM-DD\")\n      changefreq=\"monthly\"\n    }}\n  {{/each}}\n</urlset>\n",
        "vacancies_browse": "<div class=\"container-fluid container-content\">\n  <!-- {{> banner_ad}} -->\n\n  {{> browse}}\n</div>",
        "vacancies_dynamic-es-task": "{{#if @root.data.notifications.subscriptions.[0].[0]}}\n{\n  \"name\": \"search_data\",\n  \"taskModule\": \"elasticsearch\",\n  \"renderer\": \"handlebars\",\n  \"config\": {\n    \"connectionStringTemplate\": \"{{{@root.context.metaData.elasticsearchUrl}}}\",\n    \"elasticsearchConfig\": {\n      \"apiVersion\": \"5.6\"\n    },\n    \"queryTemplates\": [\n      {{#each @root.data.notifications.subscriptions.[0]}}\n      {\n        \"name\": {{{stringify (regexReplace email \"\\.\" \"gi\" \"_\")}}},\n        \"index\": \"{$../../../elasticsearch-index.txt}\",\n        \"type\": \"goodmoves-vacancy\",\n        \"template\": \">context.metaData.handlebars.queries.vacancies_search-all\",\n        \"metaData\": {{{stringify this}}}\n      }{{#unless @last}},{{/unless}}\n      {{/each}}\n    ]\n  }\n}\n{{else}}\n{\n  \"name\": \"search_data\",\n  \"taskModule\": \"render\",\n  \"renderer\": \"handlebars\",\n  \"config\": {\n    \"output\": \"data\",\n    \"template\": \"{ \\\"status\\\": \\\"No more subscriptions to process\\\" }\",\n    \"parseJson\": true\n  }\n}\n{{/if}}",
        "vacancies_email": "[\n{{#if @root.data.search_data}}\n  {{#each @root.data.notifications.subscriptions.[0]}}\n    {\n      \"from\": {{{stringify @root.route.metaData.from}}},\n      \"to\": {{{stringify email}}},\n      \"subject\": {{{stringify @root.route.metaData.subject}}},\n      \"o:tag\": {{{stringify @root.context.metaData.emailCampaignName}}},\n      \"tag\": {{{stringify @root.context.metaData.emailCampaignName}}},\n      \"id\": {{{stringify @root.context.metaData.emailCampaignName}}},\n      \"html\": {{#blockStringify this}}\n        <div>\n          <h1>Goodmoves Job Alert!</h1>\n          <p>\n            <strong>Hey there {{email}}!</strong>\n          <p>\n          {{#with (getProperty @root.data.search_data (regexReplace email \"\\.\" \"gi\" \"_\"))}}\n            {{#if hits.hits.[0]}}\n              <p>\n                Here are jobs since the (Need to get date last sent here) that match your saved search preferences \n              </p>\n              {{#each hits.hits}}\n              <h2>\n                <a href=\"https://goodmoves.com/vacancy/{{_source.slug}}\">\n                {{_source.title}}\n                </a>\n              </h2>\n              <ul>\n                <li>\n                  <strong>Organisation:</strong>\n                  <a href=\"https://goodmoves.com/organisation/{{_source.organisation.slug}}\">\n                    {{_source.organisation.name}}\n                  </a>\n                </li>\n                <li>\n                  <strong>Salary:</strong>\n                  {{_source.salary}}\n                </li>\n                <li>\n                  <strong>Location:</strong>\n                  {{_source.location}}\n                </li>\n              </ul>\n              <div>\n                {{{_source.description}}}\n              </div>\n              {{/each}}\n            {{else}}\n              <p>We have nothing for you this week</p>\n            {{/if}}\n          {{else}}\n            <p>We have nothing for you this week... aaand something seems to have gone wrong!</p>\n          {{/with}}\n        </div>\n      {{/blockStringify}}\n    }{{#unless @last}},{{/unless}}\n  {{/each}}\n{{/if}}\n]\n",
        "vacancies_emailer": "{\n  \"data\": {{{stringify @root.data}}},\n  \"errors\": {{{stringify @root.errors}}}\n}\n",
        "vacancies_home-foot": "",
        "vacancies_home-head-tags": "<title>Goodmoves  charity and voluntary sector recruitment</title>\n<meta property=\"og:title\" content=\"Goodmoves  charity and voluntary sector recruitment\" data-dynamic=\"true\">\n\n",
        "vacancies_home": "<div class=\"container-fluid home-banner\">\n  <div class=\"banner-search overlay\" style=\"background-image: url('{{~>asset_url url='images/goodmoves-header.jpg'~}}');\">\n    <div class=\"content page-content\">\n      <div class=\"overlay-content\">\n        <div class=\"mdc-layout-grid\">\n          <div class=\"mdc-layout-grid__inner\">\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n              {{> logo welcome=\"true\"}}\n              <p class=\"header-extra\">\n                Charity and voluntary sector recruitment\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"search-content\">\n        {{#compare @root.data.supplimentaryResponses.types.hits.total \">\" 0 ~}}\n          <form id=\"search-view\" class=\"search-form mdc-elevation--z10\" action=\"/search\" method=\"GET\">\n            <input type=\"hidden\" name=\"lat\" value=\"{{@root.request.params.query.lat}}\" id=\"location-lat\">\n            <input type=\"hidden\" name=\"lng\" value=\"{{@root.request.params.query.lng}}\" id=\"location-lng\">\n            <div class=\"mdc-layout-grid\">\n              <div class=\"mdc-layout-grid__inner\">\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-5-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon mdc-text-field-tt\" data-mdc-auto-init=\"MDCTextField\">\n                    <span class=\"far fa-search mdc-text-field__icon\" tabindex=\"0\" role=\"button\" aria-hidden=\"true\"></span>\n                    <input type=\"text\" id=\"what-primary-content\" name=\"keywords\" class=\"mdc-text-field__input\" placeholder=\"\" data-lpignore=\"true\" data-typeahead='{\n                      \"typeaheadOptions\": {\n                        \"highlight\": true,\n                        \"minlength\": 0\n                      },\n                      \"outputs\": [\n                        {\n                          \"type\": \"element\",\n                          \"options\": {\n                            \"containerSelectorTemplate\": \"#search-terms\",\n                            \"testSelectorTemplate\": \"#\\{{dataset.name}}-\\{{item.value}}\",\n                            \"removeSelectorTemplate\": \"#remove-\\{{dataset.name}}-\\{{item.value}}\",\n                            \"template\": {{#blockStringify this~}}\n                              <div class=\"mdc-chip mdc-theme--primary-bg\" tabindex=\"0\" id=\"\\{{dataset.name}}-\\{{item.value}}\">\n                                <div class=\"mdc-chip__text\">\\{{item.label}}</div>\n                                <input type=\"hidden\" name=\"\\{{dataset.name}}[]\" value=\"\\{{item.value}}\">\n                                <i class=\"far fa-times-circle mdc-chip__icon mdc-chip__icon--trailing\" tabindex=\"0\" role=\"button\" id=\"remove-\\{{dataset.name}}-\\{{item.value}}\"></i>\n                              </div>\n                            {{~/blockStringify}}\n                          }\n                        },\n                        {\n                          \"type\": \"prop\",\n                          \"options\": {\n                            \"selectorTemplate\": \"#what-primary-content\",\n                            \"valueTemplate\": \"\"\n                          }\n                        }\n                      ],\n                      \"datasets\": [\n                        {\n                          \"name\": \"sectors\",\n                          \"templates\": {\n                            \"header\": \"<h3>Sectors</h3>\"\n                          },\n                          \"display\": \"label\",\n                          \"items\": [\n                            {{#each @root.data.supplimentaryResponses.types.aggregations.sectors.buckets ~}}\n                            {\n                              \"label\": {{{stringify key}}},\n                              \"value\": {{{stringify (slugify key)}}}\n                            }{{#unless @last}},{{/unless}}\n                            {{/each ~}}\n                          ]\n                        },\n                        {\n                          \"name\": \"roles\",\n                          \"templates\": {\n                            \"header\": \"<h3>Roles</h3>\"\n                          },\n                          \"display\": \"label\",\n                          \"items\": [\n                            {{#each @root.data.supplimentaryResponses.types.aggregations.roles.buckets ~}}\n                            {\n                              \"label\": {{{stringify key}}},\n                              \"value\": {{{stringify (slugify key)}}}\n                            }{{#unless @last}},{{/unless}}\n                            {{/each ~}}\n                          ]\n                        },\n                        {\n                          \"name\": \"working_patterns\",\n                          \"templates\": {\n                            \"header\": \"<h3>Working patterns</h3>\"\n                          },\n                          \"display\": \"label\",\n                          \"items\": [\n                            {{#each @root.data.supplimentaryResponses.types.aggregations.working_patterns.buckets ~}}\n                            {\n                              \"label\": {{{stringify key}}},\n                              \"value\": {{{stringify (slugify key)}}}\n                            }{{#unless @last}},{{/unless}}\n                            {{/each ~}}\n                          ]\n                        }\n                      ]\n                    }' aria-label=\"Keywords\">\n                    <label for=\"what-primary-content\" class=\"mdc-floating-label\">\n                      Keywords\n                    </label>\n                    <div class=\"mdc-line-ripple\"></div>\n                  </div>\n                </div>\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n                    <i class=\"far fa-map-marker-alt mdc-text-field__icon geo-lookup\" tabindex=\"0\" title=\"Find my location\" role=\"button\"></i>\n                    <input type=\"text\" id=\"where-primary-content\" name=\"location\" class=\"mdc-text-field__input\" value=\"{{@root.request.params.query.location}}\" placeholder=\"\" data-lpignore=\"true\" data-location-search='{\n                      \"latSelector\": \"[name=\\\"lat\\\"]\",\n                      \"lngSelector\": \"[name=\\\"lng\\\"]\",\n                      \"locationServicesSelector\": \".geo-lookup\"\n                    }' aria-label=\"Location\">\n                    <label for=\"where-primary-content\" class=\"mdc-floating-label mdc-floating-label--float-above\">\n                      Location\n                    </label>\n                    <div class=\"mdc-line-ripple\"></div>\n                  </div>\n                  <!-- <div class=\"after-textfield-action geo-lookup\">Find me</div> -->\n                </div>\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <div class=\"mdc-form-field\">\n                    <div class=\"mdc-select mdc-select--box\" data-mdc-auto-init=\"MDCSelect\">\n                      <span class=\"mdc-select__dropdown-icon\"></span>\n                      <select data-location=\"where-primary-content\" class=\"mdc-select__native-control\" name=\"distance\" id=\"distance-primary-content\">\n                        <option value=\"8.04672\">within 5 miles</option>\n                        <option value=\"16.09344\" selected>within 10 miles</option>\n                        <option value=\"40.2336\">within 25 miles</option>\n                        <option value=\"80.4672\">within 50 miles</option>\n                        <option value=\"\">any distance</option>\n                      </select>\n                      <label class=\"mdc-floating-label mdc-floating-label--float-above\" for=\"distance-primary-content\">\n                        Distance\n                      </label>\n                      <span class=\"mdc-line-ripple\"></span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <button type=\"submit\" id=\"search-primary-content\" class=\"mdc-button mdc-button--raised mdc-button--large mdc-text-field--box mdc-button--search mdc-ripple-surface mdc-ripple-surface--primary\" data-mdc-auto-init=\"MDCRipple\">\n                    Search\n                    <span class=\"far fa-search\" aria-hidden=\"true\"></span>\n                  </button>\n                </div>\n              </div>\n              <div class=\"mdc-layout-grid__inner\">\n                <!-- <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-7-tablet mdc-layout-grid__cell--span-4-phone\"> -->\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <div id=\"search-terms\" class=\"mdc-chip-set\"></div>\n                </div>\n                <!-- <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-1-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <div class=\"extra-options\">\n                    <a href=\"/browse\">Browse</a><span class=\"noselect\"> | </span><a href=\"/search\">Advanced</a>\n                  </div>\n                </div> -->\n              </div>\n            </div>\n          </form>\n        {{else}}\n          <div class=\"mdc-typography--headline6\" style=\"color:white;\">\n            No jobs are currently listed\n          </div>\n        {{/compare ~}}\n      </div>\n    </div>\n  </div>\n\n  {{#compare @root.data.supplimentaryResponses.types.hits.total \">\" 0 ~}}\n    <div class=\"home-browse h-padding\">\n      <h3 class=\"mdc-drawer__content-heading cursor-pointer h-padding-full\" data-collapse-target=\"#home-browse-collapse\" role=\"button\" aria-pressed=\"false\" aria-label=\"Show browse section\" tabindex=\"0\">\n        <span class=\"mdc-button mdc-button--raised\" onclick=\"gtag('event', 'ui-interaction', { event_category: 'home-page', event_label: 'Browse menu click' })\">\n          Browse\n          <span class=\"mdc-icon-toggle\">\n            <span class=\"far fa-chevron-down\" aria-hidden=\"true\"></span>\n          </span>\n        </span>\n        <span class=\"mdc-typography--body2\">\n          By role, sector, working pattern, or region\n        </span>\n      </h3>\n      <div id=\"home-browse-collapse\" style=\"display: none;\">\n        {{> browse eventContext=\"category-browser-home\"}}\n      </div>\n    </div>\n\n    <div class=\"home-content\">\n      {{> dialog_shortlist}}\n\n      {{#if @root.data.auth}}\n        <div class=\"mdc-layout-grid home-heading\">\n          <div class=\"mdc-layout-grid__inner\">\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n              <h2 class=\"mdc-typography--headline5\">\n                Your shortlist\n              </h2>\n            </div>\n          </div>\n        </div>\n        <div class=\"home-content-primary\">\n          {{#>components_horizontal_card_scroller\n              outerClasses=\"home-shortlist\"\n              scrollLeftIconClasses=\"fal fa-fw fa-angle-left\"\n              scrollRightIconClasses=\"fal fa-fw fa-angle-right\"\n              itemClasses=\"shortlist-primary-content\"\n              items=(arrayConcat\n                (map @root.data.supplimentaryResponses.shortlist_vacancies_open.hits.hits (getProp \"_source\"))\n                (map @root.data.supplimentaryResponses.shortlist_vacancies_closed.hits.hits (getProp \"_source\"))\n              )\n              itemsPartial=\"vacancy_mini\"\n              moreUrl=\"/search\"\n              moreText=\"Find more jobs for your shortlist\"}}\n            <p class=\"mdc-typography--body1 h-padding v-margin-none\">\n              There are currently no jobs in your shortlist, if you shortlist a job it will appear here for easy reference.\n            </p>\n          {{/components_horizontal_card_scroller}}\n        </div>\n      {{/if}}\n\n      {{#compare @root.data.primaryResponse.home_latest.hits.total \">\" 0}}\n      <div class=\"mdc-layout-grid home-heading\">\n        <div class=\"mdc-layout-grid__inner\">\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n            {{#compare @root.data.primaryResponse.home_latest_personalised.hits.total \">\" 0}}\n            <h2 class=\"mdc-typography--headline5\">\n              Your latest jobs&ensp;\n              <span class=\"mdc-typography--body1\">\n                <a href=\"/searches\">Your searches</a>\n              </span>\n            </h2>\n            {{else}}\n            <div class=\"mdc-typography--headline5\">\n              Latest jobs&ensp;\n              <span class=\"mdc-typography--body1\">\n                <a href=\"/search?sort=newest&page=2\">Find more</a>\n              </span>\n            </div>\n            {{/compare}}\n          </div>\n        </div>\n      </div>\n      <div class=\"home-content-primary\">\n        {{#>components_horizontal_card_scroller\n            outerClasses=\"home-latest\"\n            scrollLeftIconClasses=\"fal fa-fw fa-angle-left\"\n            scrollRightIconClasses=\"fal fa-fw fa-angle-right\"\n            itemClasses=\"latest-primary-content latest-primary-content-personalised\"\n            items=(if (any @root.data.primaryResponse.home_latest_personalised.hits.hits)\n              (map @root.data.primaryResponse.home_latest_personalised.hits.hits (getProp \"_source\"))\n              else=(map @root.data.primaryResponse.home_latest.hits.hits (getProp \"_source\"))\n            )\n            itemsPartial=\"vacancy_mini\"\n            moreUrl=(if\n              (compare @root.data.primaryResponse.home_latest_personalised.hits.total \">\" 0)\n              \"/search?sort=newest\"\n              else=\"/search?sort=newest&page=2\"\n            )\n            moreText=(if\n              (compare @root.data.primaryResponse.home_latest_personalised.hits.total \">\" 0)\n              \"All latest jobs\"\n              else=\"Find more jobs\"\n            )}}\n          {{/components_horizontal_card_scroller}}\n        </div>\n      </div>\n      {{/compare}}\n\n      {{#if @root.data.auth.email}}\n      {{#compare @root.data.primaryResponse.recently_viewed.hits.total \">\" 0}}\n      <div class=\"mdc-layout-grid home-heading\">\n        <div class=\"mdc-layout-grid__inner\">\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n            <div class=\"mdc-typography--headline5\">\n              Recently viewed&ensp;\n              <span class=\"mdc-typography--body1\">\n                <a href=\"/search?sort=newest&page=1\">Find more</a>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"home-content-primary\">\n        {{#>components_horizontal_card_scroller\n            outerClasses=\"home-latest\"\n            scrollLeftIconClasses=\"fal fa-fw fa-angle-left\"\n            scrollRightIconClasses=\"fal fa-fw fa-angle-right\"\n            itemClasses=\"latest-primary-content\"\n            items=(map\n              (sortByIndex @root.data.primaryResponse.recently_viewed.hits.hits (split @root.request.cookies.recently_viewed ',') '_id') (getProp \"_source\")\n            )\n            itemsPartial=\"vacancy_mini\"\n            moreUrl=\"/search?sort=newest&page=1\"\n            moreText=\"Find more jobs\"}}\n        {{/components_horizontal_card_scroller}}\n      </div>\n      {{/compare}}\n      {{/if}}\n\n      {{#compare @root.data.supplimentaryResponses.top.hits.total \">\" 0}}\n      <div class=\"mdc-layout-grid home-heading\">\n        <div class=\"mdc-layout-grid__inner\">\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n            <h2 class=\"mdc-typography--headline5\">\n              Top jobs&ensp;\n              <span class=\"mdc-typography--body1\">\n                <a href=\"/search\">Find more</a>\n              </span>\n            </h2>\n          </div>\n        </div>\n      </div>\n      <div class=\"home-content-primary\">\n        {{#>components_horizontal_card_scroller\n            outerClasses=\"home-top\"\n            scrollLeftIconClasses=\"fal fa-fw fa-angle-left\"\n            scrollRightIconClasses=\"fal fa-fw fa-angle-right\"\n            itemClasses=\"top-primary-content\"\n            items=(map @root.data.supplimentaryResponses.top.hits.hits (getProp \"_source\"))\n            itemsPartial=\"vacancy_mini\"\n            moreUrl=\"/search\"\n            moreText=\"Find more jobs\"}}\n        {{/components_horizontal_card_scroller}}\n      </div>\n      {{/compare}}\n    </div>\n\n    {{> currently_recruiting}}\n  {{/compare ~}}\n\n  {{> tfn_latest}}\n\n</div>",
        "vacancies_jobs-in": "<div id=\"detailed-results-container\" class=\"container-content content-primary-search\">\n  <h1 class=\"mdc-typography--headline3\">\n    Jobs in\n    {{#if @root.request.params.ward}}\n    {{{replace (getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".wards.\" @root.request.params.ward \".term\")) \"/\" \" &amp; \"}}},\n    {{/if}}\n    {{getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".term\")}}\n  </h1>\n\n  <div class=\"container-content container-map\">\n    <div id=\"map-content-primary\" data-map-name=\"vacancyMap\" data-map-clustered-options=\"{}\">\n      {{#each @root.data.search_data.detailed_results.hits.hits ~}}\n        {{#if _source.geo_info ~}}\n          {{#each (arrayify _source.geo_info) ~}}\n            {{#compare @root.request.params.district (slugify (replace (replace admin_district \" City\" \"\") \"City of \" \"\"))}}\n              {{#ifAny (if @root.request.params.ward false else=true) (compare @root.request.params.ward \"===\" (slugify admin_ward))}}\n              <marker style=\"display:none;\" data-map=\"vacancyMap\" data-lat=\"{{latitude}}\" data-lng=\"{{longitude}}\" data-shortlisted=\"{{#each @root.data.shortlist.items}}{{#compare id \"===\" ../../_source.Id}}true{{/compare}}{{/each}}\" data-homebased=\"{{#if ../_source.home_based}}true{{/if}}\" data-variouslocations=\"{{#if ../_source.various_locations}}true{{/if}}\" data-title=\"{{../_source.title}}\">\n                {{>vacancy_map ../_source}}\n              </marker>\n              {{/ifAny}}\n            {{/compare}}\n          {{/each ~}}\n        {{/if ~}}\n      {{/each ~}}\n    </div>\n  </div>\n\n  <h2 class=\"mdc-typography--headline5\">\n    <a href=\"/jobs-in/{{@root.request.params.district}}\">{{getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".term\")}}</a>\n    areas with jobs\n  </h2>\n  <div class=\"mdc-layout-grid browse-areas\">\n    <div class=\"mdc-layout-grid__inner\">\n      {{#each (getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".wards\"))}}\n        <ul class=\"mdc-list mdc-layout-grid__cell\">\n          <a class=\"mdc-list-item\" href=\"/jobs-in/{{@root.request.params.district}}/{{@key}}\" role=\"menuitem\">\n            <span class=\"mdc-list-item__text\">\n              {{{replace term \"/\" \" &amp; \"}}}\n            </span>\n            <span class=\"mdc-list-item__meta\" aria-label=\"{{count}} vacancies\">\n              {{count}}\n            </span>\n          </a>\n        </ul>\n      {{/each}}\n    </div>\n  </div>\n\n  <div class=\"search-info mdc-elevation--z3\">\n    <strong>\n      Total number of jobs in\n      {{#if @root.request.params.ward}}\n      {{{replace (getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".wards.\" @root.request.params.ward \".term\")) \"/\" \" &amp; \"}}},\n      {{/if}}\n      {{getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".term\")}}:\n    </strong> {{@root.data.search_data.detailed_results.hits.total}}\n  </div>\n\n  {{#each @root.data.search_data.detailed_results.hits.hits ~}}\n  {{> vacancy_search_result _source sort=sort distance=fields.distance.[0]}}\n  {{/each ~}}\n</div>\n",
        "vacancies_map-head": "<style>\n  html {\n    overflow: hidden;\n  }\n</style>\n",
        "vacancies_map-search-form": "<div class=\"map-search-head\">\n  <svg width=\"260\" height=\"48\" xmlns=\"http://www.w3.org/2000/svg\">\n    <metadata id=\"metadata7\">image/svg+xml</metadata>\n    <g transform=\"scale(0.80)\">\n      <title>Goodmoves</title>\n      <g font-style=\"normal\" font-weight=\"normal\" font-size=\"40px\" font-family=\"sans-serif\" fill=\"#ffffff\" stroke-width=\"1px\" id=\"flowRoot3336\">\n        <path id=\"path4662\" d=\"m24.360004,27.719999q0,-3.9 -2.16,-6.12q-2.16,-2.22 -5.34,-2.22q-3.18,0 -5.52,2.22q-2.28,2.22 -2.28,6.06q0,3.84 2.22,6.24q2.28,2.34 5.52,2.34q3.24,0 5.4,-2.34q2.16,-2.34 2.16,-6.18zm1.26,11.34q-4.26,4.74 -10.62,4.74q-6.3,0 -10.68,-4.26q-4.32,-4.32 -4.32,-11.46q0,-7.2 4.44,-11.76q4.5,-4.62 10.26,-4.62q5.76,0 9.54,4.74l0,-4.26l9,0l0,28.14q0,4.32 -1.5,7.68q-1.5,3.36 -4.02,5.28q-4.98,3.96 -11.76,3.96q-3.6,0 -7.38,-1.2q-3.72,-1.14 -6.54,-3.3l3.48,-6.78q4.44,3.36 9.36,3.36q4.98,0 7.86,-2.46q2.88,-2.46 2.88,-7.8z\"\n        />\n        <path id=\"path4664\" d=\"m42.848124,28.379999q0,3.96 2.22,6.48q2.28,2.46 5.76,2.46q3.54,0 5.76,-2.46q2.28,-2.52 2.28,-6.48q0,-3.96 -2.28,-6.48q-2.22,-2.52 -5.76,-2.52q-3.48,0 -5.76,2.52q-2.22,2.52 -2.22,6.48zm25.08,0q0,7.02 -4.86,11.82q-4.86,4.8 -12.24,4.8q-7.32,0 -12.18,-4.8q-4.86,-4.8 -4.86,-11.82q0,-7.02 4.86,-11.82q4.86,-4.86 12.18,-4.86q7.38,0 12.24,4.86q4.86,4.8 4.86,11.82z\"\n        />\n        <path id=\"path4666\" d=\"m77.334374,28.379999q0,3.96 2.22,6.48q2.28,2.46 5.76,2.46q3.54,0 5.76,-2.46q2.28,-2.52 2.28,-6.48q0,-3.96 -2.28,-6.48q-2.22,-2.52 -5.76,-2.52q-3.48,0 -5.76,2.52q-2.22,2.52 -2.22,6.48zm25.08,0q0,7.02 -4.86,11.82q-4.86,4.8 -12.24,4.8q-7.32,0 -12.18,-4.8q-4.86,-4.8 -4.86,-11.82q0,-7.02 4.86,-11.82q4.86,-4.86 12.18,-4.86q7.38,0 12.24,4.86q4.86,4.8 4.86,11.82z\"\n        />\n        <path id=\"path4668\" d=\"m117.520624,44.999999q-5.7,0 -10.2,-4.86q-4.5,-4.86 -4.5,-12.06q0,-7.2 4.38,-11.76q4.38,-4.62 10.26,-4.62q5.88,0 9.6,4.14l0,-15.84l9,0l0,44.52l-9,0l0,-4.26q-3.78,4.74 -9.54,4.74zm-5.64,-16.56q0,3.9 2.34,6.42q2.34,2.46 5.46,2.46q3.12,0 5.28,-2.46q2.22,-2.52 2.22,-6.42q0,-3.96 -2.22,-6.54q-2.16,-2.64 -5.34,-2.64q-3.18,0 -5.46,2.64q-2.28,2.64 -2.28,6.54z\"\n        />\n        <path id=\"path4670\" d=\"m147.481554,27.239999l0,17.28l-6.72,0l0,-31.92l6.72,0l0,5.82q1.44,-2.94 4.32,-4.62q2.94,-1.68 6.3,-1.68q7.56,0 10.26,6.24q4.74,-6.24 11.82,-6.24q5.4,0 8.7,3.3q3.36,3.3 3.36,9.54l0,19.56l-6.72,0l0,-17.52q0,-8.82 -7.32,-8.82q-3.42,0 -6,2.22q-2.52,2.16 -2.64,6.36l0,17.76l-6.72,0l0,-17.52q0,-4.56 -1.62,-6.66q-1.62,-2.16 -5.1,-2.16q-3.48,0 -6.06,2.34q-2.58,2.28 -2.58,6.72z\"\n        />\n        <path id=\"path4672\" d=\"m204.601874,36.119999q2.88,2.88 7.26,2.88q4.38,0 7.2,-2.88q2.88,-2.94 2.88,-7.56q0,-4.62 -2.88,-7.5q-2.82,-2.94 -7.2,-2.94q-4.38,0 -7.26,2.94q-2.82,2.88 -2.82,7.5q0,4.62 2.82,7.56zm19.26,4.14q-4.8,4.74 -12,4.74q-7.2,0 -12,-4.74q-4.8,-4.8 -4.8,-11.7q0,-6.9 4.8,-11.64q4.8,-4.8 12,-4.8q7.2,0 12,4.8q4.8,4.74 4.8,11.64q0,6.9 -4.8,11.7z\"\n        />\n        <path id=\"path4674\" d=\"m239.756554,44.519999l-12.84,-31.92l6.96,0l9.72,24.12l9.72,-24.12l6.96,0l-12.84,31.92l-7.68,0z\" />\n        <path id=\"path4676\" d=\"m290.912494,31.499999l-25.02,0q0.24,3.48 3.18,5.64q2.94,2.1 6.72,2.1q6,0 9.12,-3.78l3.84,4.2q-5.16,5.34 -13.44,5.34q-6.72,0 -11.46,-4.44q-4.68,-4.5 -4.68,-12q0,-7.56 4.8,-12q4.8,-4.44 11.28,-4.44q6.54,0 11.1,3.96q4.56,3.9 4.56,10.8l0,4.62zm-25.02,-5.28l18.3,0q0,-4.02 -2.52,-6.18q-2.52,-2.16 -6.24,-2.16q-3.66,0 -6.6,2.28q-2.94,2.22 -2.94,6.06z\"\n        />\n        <path id=\"path4678\" d=\"m316.56373,34.98q0,4.56 -3.3,7.32q-3.3,2.7 -8.46,2.7q-3.48,0 -7.26,-1.26q-3.72,-1.26 -6.6,-3.54l3.24,-5.22q5.58,4.2 10.8,4.2q2.28,0 3.6,-1.02q1.32,-1.08 1.32,-2.7q0,-2.4 -6.36,-4.32q-0.48,-0.18 -0.72,-0.24q-9.96,-2.7 -9.96,-9q0,-4.44 3.42,-7.08q3.48,-2.7 9,-2.7q5.52,0 10.44,3.24l-2.52,4.98q-3.9,-2.58 -8.46,-2.58q-2.4,0 -3.9,0.9q-1.5,0.84 -1.5,2.58q0,1.56 1.56,2.28q1.08,0.54 3,1.02q1.98,0.48 3.48,0.96c0.96,0.36 1.92,0.72 2.88,1.08q1.44,0.6 3.06,1.68q3.24,2.16 3.24,6.72z\"\n        />\n      </g>\n    </g>\n  </svg>\n</div>\n{{> vacancy_search_form instance_id=\"perm\"}}\n",
        "vacancies_map": "{{#*inline \"marker\"}}\n<marker style=\"display:none;\" data-map=\"fullMap\" data-lat=\"{{lat}}\" data-lng=\"{{lng}}\" data-title=\"{{source.title}}\">\n  {{>vacancy_map source postcode=(itemAt (arrayify source.postcodes) index)}}\n</marker>\n{{/inline}}\n\n{{#if @root.data.search_data.map_results.pagination.totalResults ~}}\n<div id=\"detailed-results-container\" class=\"container-content container-map\">\n  <div id=\"map-full\" data-map-name=\"fullMap\" data-map-clustered-options='{\n    {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}}\n      \"circle\": {\n        \"lat\": {{@root.request.params.query.lat}},\n        \"lng\": {{@root.request.params.query.lng}},\n        \"radius\": {{default @root.request.params.query.distance 0}},\n        \"color\": \"#9cd986\"\n      }\n    {{/ifAll ~}}\n    }'>\n    {{#each @root.data.search_data.map_results.hits.hits ~}}\n      {{#if _source.geo_coords ~}}\n        {{#each (arrayify _source.geo_coords) ~}}\n          {{#if @root.request.params.query.regions ~}}\n            {{!-- {{#switch (getProperty (itemAt ../_source.geo_info @index) \"nhs_ha\") ~}}\n            {{#case \"Lothian\" ~}}\n            {{#if (contains @root.request.params.query.regions \"edinburgh-lothian\") ~}} --}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{!-- {{/if ~}}\n            {{/case ~}}\n            {{#case \"Greater Glasgow and Clyde\" ~}}\n            {{#if (contains @root.request.params.query.regions \"glasgow-clyde\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Tayside\" ~}}\n            {{#if (contains @root.request.params.query.regions \"tayside\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Forth Valley\" ~}}\n            {{#if (contains @root.request.params.query.regions \"central-scotland\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Western Isles\" ~}}\n            {{#if (contains @root.request.params.query.regions \"na-h-eileanan-siar\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Fife\" ~}}\n            {{#if (contains @root.request.params.query.regions \"fife\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Grampian\" ~}}\n            {{#if (contains @root.request.params.query.regions \"grampian\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Highland\" ~}}\n            {{#if (contains @root.request.params.query.regions \"highlands\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Lanarkshire\" ~}}\n            {{#if (contains @root.request.params.query.regions \"glasgow-clyde\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Orkney\" ~}}\n            {{#if (contains @root.request.params.query.regions \"northern-isles\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Shetland\" ~}}\n            {{#if (contains @root.request.params.query.regions \"northern-isles\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{#case \"Argyll & Bute\" ~}}\n            {{#if (contains @root.request.params.query.regions \"argyll-bute\") ~}}\n            {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n            {{/case ~}}\n            {{/switch ~}} --}}\n          {{else}}\n            {{#if @root.request.params.query.distance ~}}\n              {{#compare (itemAt ../fields.distance @index) \"<\" @root.request.params.query.distance ~}}\n                {{> marker lat=lat lng=lon source=../_source index=@index}}\n              {{/compare ~}}\n            {{else}}\n              {{> marker lat=lat lng=lon source=../_source index=@index}}\n            {{/if ~}}\n          {{/if ~}}\n        {{/each ~}}\n      {{/if ~}}\n    {{/each ~}}\n  </div>\n</div>\n{{else}}\n<div id=\"detailed-results-container\" class=\"container-content content-primary-search\">\n  <div class=\"search-info mdc-elevation--z1\">\n    No results could be found, please try a different search query\n  </div>\n</div>\n{{/if ~}}",
        "vacancies_notes": "<div id=\"detailed-results-container\" class=\"container-content content-notes\">\n  <div class=\"mdc-layout-grid\">\n    <div class=\"mdc-layout-grid__inner\">\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n        <h1 class=\"mdc-typography--headline3 v-margin-full\">\n          Notes\n        </h1>\n      </div>\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop hide-md hide-sm\">\n      </div>\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n        <form action=\"{{{@root.request.url.path}}}\" method=\"GET\">\n          {{> vacancy_search_sort}}\n        </form>\n      </div>\n    </div>\n  </div>\n\n  {{#compare @root.data.notes_vacancies.open.hits.total \"===\" 0}}\n    {{#compare @root.data.notes_vacancies.closed.hits.total \"===\" 0}}\n      <p class=\"mdc-typography--body1\">\n        You haven't yet written notes on any jobs. To write a note, navigate to the full details of a job then enter the&ensp;<strong><span class=\"far fa-edit mdc-chip__icon mdc-chip__icon--leading\" aria-hidden=\"true\"></span> Notes</strong>&ensp;tab, type out some text, then click the&ensp;<strong><span class=\"far fa-save mdc-chip__icon mdc-chip__icon--leading\" aria-hidden=\"true\"></span> Save notes</strong>&ensp;button.\n      </p>\n    {{else}}\n      <p class=\"mdc-typography--body1\">\n        You don't have notes on any open jobs.\n      </p>\n    {{/compare}}\n  {{/compare}}\n\n  {{#compare @root.data.notes_vacancies.open.hits.total \">\" 0}}\n    {{#each @root.data.notes_vacancies.open.hits.hits ~}}\n      {{#compare (trim (getProperty @root.data.notes _source.Id)) \"!==\" \"\" ~}}\n        {{> vacancy_search_result _source}}\n      {{/compare ~}}\n    {{/each ~}}\n    <div class=\"foot\">\n      {{> pagination paging=@root.data.notes_vacancies.open.pagination}}\n    </div>\n  {{/compare}}\n\n  {{#compare @root.data.notes_vacancies.closed.hits.total \">\" 0}}\n    <h2 class=\"mdc-typography--headline5 v-margin-full\">\n      Closed jobs\n    </h2>\n    {{#each @root.data.notes_vacancies.closed.hits.hits ~}}\n      {{#compare (trim (getProperty @root.data.notes _source.Id)) \"!==\" \"\" ~}}\n        {{> vacancy_search_result _source}}\n      {{/compare ~}}\n    {{/each ~}}\n    <div class=\"foot\">\n      {{> pagination paging=@root.data.notes_vacancies.closed.pagination}}\n    </div>\n  {{/compare}}\n</div>",
        "vacancies_saved-searches": "<div id=\"detailed-results-container\" class=\"container-content content-saved-searches\">\n  {{#compare (length @root.data.searches.items.[0]) \">\" 0 ~}}\n  <div class=\"settings mdc-typography--body1\">\n    <span class=\"settings-heading\">Email frequency</span>\n    {{> email_frequency}}\n  </div>\n  {{/compare}}\n  <h1 class=\"mdc-typography--headline3 v-margin-full\">\n    Saved searches &amp; email alerts\n  </h1>\n\n  {{#compare (length @root.data.searches.items.[0]) \">\" 0 ~}}\n  <ul class=\"mdc-list mdc-list--two-line mdc-list--avatar-list mdc-elevation--z3\">\n    <li class=\"mdc-list-item mdc-list-item--header\">\n      <span class=\"mdc-list-item__graphic far hide-sm\" aria-hidden=\"true\"></span>\n      <div class=\"mdc-layout-grid\">\n        <div class=\"mdc-layout-grid__inner\">\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone saved-search\">\n            <span class=\"mdc-list-item__text\">\n              <strong>Search</strong>\n            </span>\n          </div>\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-2-phone align-centre\">\n            <span class=\"mdc-list-item__text\">\n              <strong>Email</strong>\n            </span>\n          </div>\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-2-phone align-centre\">\n            <span class=\"mdc-list-item__text\">\n              <strong>Delete</strong>\n            </span>\n          </div>\n        </div>\n      </div>\n    </li>\n    {{#each @root.data.searches.items.[0] ~}}\n      <li class=\"mdc-list-item mdc-ripple-upgraded\">\n        <span class=\"mdc-list-item__graphic far fa-search fa-2x hide-sm\" aria-hidden=\"true\"></span>\n        <div class=\"mdc-layout-grid\">\n          <div class=\"mdc-layout-grid__inner\">\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone saved-search\">\n              <span class=\"mdc-list-item__text\">\n                <a href=\"/search?{{{this.querystring}}}\">{{{partition}}}</a>\n                <div class=\"mdc-list-item__secondary-text\">\n                  {{#with (querystring querystring) ~}}\n                    {{#if keywords ~}}\n                      Keywords: <strong>{{{keywords}}}</strong>\n                    {{/if ~}}\n\n                    {{#if salary_min ~}}\n                      Minimum salary: <strong>&pound;{{addCommas salary_min}}</strong>\n                    {{/if ~}}\n                    {{#if salary_max ~}}\n                      {{#if salary_min ~}}and{{/if}}\n                      Maximum salary: <strong>&pound;{{addCommas salary_max}}</strong>\n                    {{/if ~}}\n\n                    {{#if regions ~}}\n                      {{inflect (length (arrayify regions)) \"Region\" \"Regions\"}}:\n                      {{#each (arrayify regions) ~}}\n                        <strong>{{{getProperty @root.data.termsMaps.regions.slugsMap (concat this \".term\")}}}{{#unless @last}}, {{/unless}}</strong>\n                      {{/each ~}}\n                    {{/if ~}}\n\n                    {{#if roles ~}}\n                      {{inflect (length (arrayify roles)) \"Role\" \"Roles\"}}:\n                      {{#each (arrayify roles) ~}}\n                        <strong>{{{getProperty @root.data.termsMaps.roles.slugsMap (concat this \".term\")}}}{{#unless @last}}, {{/unless}}</strong>\n                      {{/each ~}}\n                    {{/if ~}}\n\n                    {{#if sectors ~}}\n                      {{inflect (length (arrayify sectors)) \"Sector\" \"Sectors\"}}:\n                      {{#each (arrayify sectors) ~}}\n                        <strong>{{{getProperty @root.data.termsMaps.sectors.slugsMap (concat this \".term\")}}}{{#unless @last}}, {{/unless}}</strong>\n                      {{/each ~}}\n                    {{/if ~}}\n\n                    {{#if working_patterns ~}}\n                      Working {{inflect (length (arrayify working_patterns)) \"pattern\" \"patterns\"}}:\n                      {{#each (arrayify working_patterns)}}\n                        <strong>{{{getProperty @root.data.termsMaps.working_patterns.slugsMap (concat this \".term\")}}}{{#unless @last}}, {{/unless}}</strong>\n                      {{/each ~}}\n                    {{/if ~}}\n\n                    {{#ifAll location distance ~}}\n                      {{#ifAny keywords roles regions sectors working_patterns salary_min salary_max ~}}\n                        Within\n                      {{else}}\n                        within\n                      {{/ifAny ~}}\n                      <strong>{{round (multiply distance 0.62137)}}</strong>\n                      miles of\n                      <strong>{{{location}}}</strong>\n                    {{/ifAll ~}}\n                  {{/with ~}}\n                </div>\n              </span>\n            </div>\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-2-phone align-centre\">\n              <div class=\"mdc-chip-set mdc-chip-set--filter\">\n                {{#> ajax_chip\n                  onUrl=\"/toggle-subscription\"\n                  offUrl=\"/toggle-subscription\"\n                  onText=\"Email\"\n                  offText=\"Email\"\n                  onMethod=\"POST\"\n                  offMethod=\"POST\"\n                  iconClasses=\"fal fa-fw fa-times\"\n                  on=partitionActive\n                }}\n                {\n                  \"onData\": {\n                    \"name\": {{{stringify ../partition}}}\n                  },\n                  \"offData\": {\n                    \"name\": {{{stringify ../partition}}}\n                  }\n                }\n                {{/ajax_chip}}\n              </div>\n            </div>\n            <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-2-phone align-centre\">\n              {{> delete_search name=partition}}\n            </div>\n          </div>\n        </div>\n      </li>\n      {{#unless @last}}\n        <li class=\"mdc-list-divider\" role=\"separator\"></li>\n      {{/unless ~}}\n    {{/each ~}}\n  </ul>\n  {{else}}\n  <p class=\"mdc-typography--body1\">\n    You don't yet have any searches saved. To save a search, click the &ensp;<strong><span class=\"far fa-search-plus mdc-chip__icon mdc-chip__icon--leading\" aria-hidden=\"true\"></span>Save/email this search</strong>&ensp;button once you've entered some search parameters.\n  </p>\n  {{/compare ~}}\n</div>\n",
        "vacancies_search-foot": "<script src=\"{{~>asset_url url='libraries/typeahead/typeahead.bundle.min.js'~}}\"></script>\n<script type=\"text/javascript\">\nvar terms = {\n  sectors: [\n    {{#each @root.data.supplimentaryResponses.types.aggregations.sectors.buckets ~}}\n    { field: 'sectors', term: {{{stringify key}}} },\n    {{/each ~}}\n  ],\n  roles: [\n    {{#each @root.data.supplimentaryResponses.types.aggregations.roles.buckets ~}}\n    { field: 'roles', term: {{{stringify key}}} },\n    {{/each ~}}\n  ],\n  role_status: [\n    {{#each @root.data.supplimentaryResponses.types.aggregations.role_status.buckets ~}}\n    { field: 'role_status', term: {{{stringify key}}} },\n    {{/each ~}}\n  ]\n};\n</script>",
        "vacancies_search-form": "{{> vacancy_search_form instance_id=\"perm\"}}\n",
        "vacancies_search-head-tags": "{{#if @root.request.params.district ~}}\n<title>Jobs in {{#if @root.request.params.ward}}{{{replace (getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".wards.\" @root.request.params.ward \".term\")) \"/\" \" &amp; \"}}}, {{/if}}{{getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".term\")}}  {{momentFormat (moment now) \"MMMM YYYY\"}}  Goodmoves</title>\n<meta property=\"og:title\" content=\"Jobs in {{#if @root.request.params.ward}}{{{replace (getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".wards.\" @root.request.params.ward \".term\")) \"/\" \" &amp; \"}}}, {{/if}}{{getProperty @root.data.termsMaps.districts.slugsMap (concat @root.request.params.district \".term\")}}  {{momentFormat (moment now) \"MMMM YYYY\"}}  Goodmoves\" data-dynamic=\"true\">\n{{else}}\n<title>Job search results  Goodmoves</title>\n<meta property=\"og:title\" content=\"Goodmoves  Search results\" data-dynamic=\"true\">\n{{/if ~}}\n",
        "vacancies_search-json": "{\n  \"detailed_results\": {{{stringify (component \"vacancy_search_results\" this)}}},\n  \"map_results\": {\n    \"total\": {{data.search_data.map_results.hits.total}},\n    \"hits\": [\n      {{#each data.search_data.map_results.hits.hits}}\n      {\n        \"Id\": {{{stringify _id}}},\n        \"geo_coords\": {{{stringify _source.geo_coords}}},\n        \"title\": {{{stringify _source.title}}},\n        \"info_window\": {{{stringify (component \"vacancy_map\" _source)}}}\n      }{{#unless @last}},{{/unless}}\n      {{/each}}\n    ]\n  },\n  \"query\": {{{stringify data.search_data.detailed_results.request.query}}}\n}\n",
        "vacancies_search-rss-head-tags": "{{#if data.primaryResponse.hits.hits.[0] ~}}\n{{#with data.primaryResponse.hits.hits.[0]._source ~}}\n<title>Job search results  Goodmoves</title>\n{{/with ~}}\n{{else}}\n<title>Job search results  Goodmoves</title>\n{{/if ~}}\n<description>{{{description}}}</description>\n<link>https://goodmoves.com{{{replace (replace request.params.uri.path \"&rss\" \"\") \"?rss\" \"\"}}}</link>",
        "vacancies_search-rss": "{{#each data.search_data.detailed_results.hits.hits ~}}\n{{{_source.rendered.goodmoves_rss}}}\n{{/each ~}}",
        "vacancies_search": "<div id=\"detailed-results-container\" class=\"container-content content-primary-search\">\n  {{> vacancy_search_results this}}\n</div>\n",
        "vacancies_shortlist": "<div id=\"detailed-results-container\" class=\"container-content content-shortlist\">\n  <div class=\"mdc-layout-grid\">\n    <div class=\"mdc-layout-grid__inner\">\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n        <h1 class=\"mdc-typography--headline3 v-margin-full\">\n          Shortlist\n        </h1>\n      </div>\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n        {{#compare @root.data.shortlist_vacancies.open.hits.total \">\" 0}}\n        <div class=\"t-margin-full align-centre\">\n          <div class=\"mdc-chip-set mdc-chip-set--filter t-margin\">\n            {{> shortlist_alerts}}\n          </div>\n        </div>\n        {{/compare}}\n      </div>\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-1-desktop mdc-layout-grid__cell--span-4-tablet hide-sm\">\n      </div>\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone\">\n        <form action=\"{{{@root.request.url.path}}}\" method=\"GET\">\n          {{> vacancy_search_sort}}\n        </form>\n      </div>\n    </div>\n  </div>\n\n  {{#compare @root.data.shortlist_vacancies.open.hits.total \"===\" 0}}\n    {{#compare @root.data.shortlist_vacancies.closed.hits.total \"===\" 0}}\n      <p class=\"mdc-typography--body1\">\n        You don't yet have any jobs on your shortlist. To add a job, click the &ensp;<strong><span class=\"far fa-star mdc-chip__icon mdc-chip__icon--leading\" aria-hidden=\"true\"></span>Shortlist</strong>&ensp;button.\n      </p>\n    {{else}}\n      <p class=\"mdc-typography--body1\">\n        You don't have any open jobs on your shortlist.\n      </p>\n    {{/compare}}\n  {{/compare}}\n\n  {{#compare @root.data.shortlist_vacancies.open.hits.total \">\" 0}}\n    {{#each @root.data.shortlist_vacancies.open.hits.hits ~}}\n      {{> vacancy_search_result _source}}\n    {{/each ~}}\n    <div class=\"foot\">\n      {{> pagination paging=@root.data.shortlist_vacancies.open.pagination}}\n    </div>\n  {{/compare}}\n\n  {{#compare @root.data.shortlist_vacancies.closed.hits.total \">\" 0}}\n    <h2 class=\"mdc-typography--headline5 v-margin-full\">\n      Closed jobs\n    </h2>\n    {{#each @root.data.shortlist_vacancies.closed.hits.hits ~}}\n      {{> vacancy_search_result _source}}\n    {{/each ~}}\n    <div class=\"foot\">\n      {{> pagination paging=@root.data.shortlist_vacancies.closed.pagination}}\n    </div>\n  {{/compare}}\n</div>",
        "vacancies_vacancy-foot": "<script>\n$(document).ready(function() {\n{{#if data.auth}}\n  var recentlyViewed = goodmoves.getCookie('recently_viewed') || '';\n  // console.log('Recently Viewed:', recentlyViewed, '| Vacancy Id:', vacancyId);\n  recentlyViewed = recentlyViewed.split(',');\n  recentlyViewed.unshift(vacancyId);\n  var newRecentlyViewed = [];\n  for (var i = 0; i < Math.min(recentlyViewed.length, 10); ++i) {\n    var item = recentlyViewed[i];\n    if (item && newRecentlyViewed.indexOf(item) === -1) {\n      newRecentlyViewed.push(item);\n    }\n  };\n  newRecentlyViewed = newRecentlyViewed.join(',');\n  // console.log('New Recently Viewed:', newRecentlyViewed);\n  goodmoves.setCookie('recently_viewed', newRecentlyViewed, 7);\n{{/if}}\n\n  var downloads = [].slice.call(document.querySelectorAll);\n  $('[href*=\"goodmoves-files\"]').on('click', function(evt) {\n    var url = $(evt.currentTarget).attr('href');\n    var parts = url.split('/');\n    var filename = parts[parts.length - 1];\n\n    gtag('event', 'document_hit', {\n      'event_category': 'goodmoves-vacancy',\n      'event_label': vacancyId,\n      'hit_type': filename\n    });\n  });\n  $('.detailed-info a').on('click', function(evt) {\n    var url = $(evt.currentTarget).attr('href');\n    var hitType = 'unknown-link-click';\n\n    if (url.indexOf('mailto:') === 0) {\n      var parts = url.split(':');\n      hitType = parts[1].split('?')[0];\n    } else if (url.indexOf('tel:') === 0) {\n      var parts = url.split(':');\n      hitType = parts[1].split('?')[0];\n    } else if (url.indexOf('goodmoves-files') > -1) {\n      var parts = url.split('/');\n      hitType = parts[parts.length - 1];\n    } else if (url.indexOf('//') > -1) {\n      var parts = url.split('//');\n      parts = parts[1].split('/');\n      hitType = parts[0];\n      if (parts.length > 1) {\n        hitType = hitType + '...' + parts[parts.length - 1].split('?')[0];\n      }\n    }\n\n    gtag('event', 'document_hit', {\n      'event_category': 'goodmoves-vacancy',\n      'event_label': vacancyId,\n      'hit_type': hitType\n    });\n  });\n});\n</script>\n",
        "vacancies_vacancy-head-tags": "{{#if data.primaryResponse.hits.hits.[0] ~}}\n{{#with data.primaryResponse.hits.hits.[0]._source ~}}\n\n<title>{{title}} with {{organisation.name}}  Goodmoves</title>\n<meta property=\"og:title\" content=\"{{title}} with {{organisation.name}}  Goodmoves\" data-dynamic=\"true\">\n<meta itemprop=\"name\" content=\"{{title}} with {{organisation.name}}  Goodmoves\" data-dynamic=\"true\">\n<meta name=\"twitter:title\" content=\"{{title}} with {{organisation.name}}  Goodmoves\" data-dynamic=\"true\">\n\n{{#ifAny organisation.logo_url og_image ../og_image ~}}\n<meta property=\"og:image\" content=\"{{default organisation.logo_url og_image ../og_image}}\" data-dynamic=\"true\">\n<meta property=\"og:image:height\" content=\"250\">\n<meta property=\"og:image:width\" content=\"250\">\n<meta itemprop=\"image\" content=\"{{default organisation.logo_url og_image ../og_image}}\" data-dynamic=\"true\">\n<meta name=\"twitter:image\" content=\"{{default organisation.logo_url og_image ../og_image}}\" data-dynamic=\"true\">\n{{/ifAny ~}}\n\n{{#ifAny og_summary description ../og_summary ../description ~}}\n<meta property=\"og:summary\" content=\"{{stripTags (regexReplace (default og_summary (default ../og_summary (default description ../description))) '\\r|\\n' 'gi' '')}}\" data-dynamic=\"true\">\n<meta itemprop=\"description\" content=\"{{stripTags (regexReplace (default description (default ../description (default og_summary ../og_summary))) '\\r|\\n' 'gi' '')}}\" data-dynamic=\"true\">\n<meta name=\"description\" content=\"{{stripTags (regexReplace (default description (default ../description (default og_summary ../og_summary))) '\\r|\\n' 'gi' '')}}\" data-dynamic=\"true\">\n<meta property=\"og:description\" content=\"{{stripTags (regexReplace (default description (default ../description (default og_summary ../og_summary))) '\\r|\\n' 'gi' '')}}\" data-dynamic=\"true\">\n<meta name=\"twitter:description\" content=\"{{stripTags (regexReplace (default description (default ../description (default og_summary ../og_summary))) '\\r|\\n' 'gi' '')}}\" data-dynamic=\"true\">\n{{/ifAny ~}}\n\n<!-- Twitter Card data -->\n<meta name=\"twitter:card\" content=\"summary\" />\n<meta name=\"twitter:site\" content=\"@goodmovesjobs\">\n<meta name=\"twitter:creator\" content=\"@goodmovesjobs\">\n<!-- Twitter summary card with large image must be at least 280x150px -->\n<!-- <meta name=\"twitter:image:src\" content=\"http://www.example.com/image.jpg\"> -->\n\n<!-- Open Graph data -->\n<meta property=\"og:type\" content=\"website\" />\n{{#if slug ~}}\n<!-- <meta property=\"og:url\" content=\"https://goodmoves.com/vacancy/{{slug}}\" /> -->\n{{/if ~}}\n<meta property=\"og:site_name\" content=\"Goodmoves\" />\n\n<script type=\"application/ld+json\" data-dynamic=\"true\">\n  {{> vacancy_json_ld}}\n</script>\n\n{{/with ~}}\n{{else}}\n<title>Job vacancy  Goodmoves</title>\n<meta property=\"og:title\" content=\"Job vacancy  Goodmoves\" data-dynamic=\"true\">\n{{/if ~}}\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\">\n",
        "vacancies_vacancy": "<div class=\"container-content\">\n  {{#compare @root.data.primaryResponse.hits.total \">\" 0}}\n\n  {{> dialog_shortlist}}\n\n  <div class=\"content-primary\">\n    {{#each @root.data.primaryResponse.hits.hits ~}}\n      {{~> vacancy_full _source~}}\n    {{/each ~}}\n  </div>\n\n  {{#compare @root.data.supplimentaryResponses.related.hits.total \">\" 0 ~}}\n  <div class=\"content-related\">\n    <div class=\"mdc-typography--headline5 v-margin-full\">\n      Similar jobs\n    </div>\n    <div class=\"mdc-layout-grid equal-height\">\n      <div class=\"mdc-layout-grid__inner\">\n        {{#each @root.data.supplimentaryResponses.related.hits.hits ~}}\n        <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n          {{> vacancy_list _source hitContext=\"related-job\" parentDocument=_source.Id}}\n        </div>\n        {{/each ~}}\n      </div>\n    </div>\n  </div>\n  {{/compare ~}}\n\n  {{> tfn_latest}}\n\n  {{else}}\n  <div class=\"search-info mdc-elevation--z3 h-padding-full\">\n    <h2 class=\"t-margin\">Error 404: Vacancy not found</h2>\n    <p>\n      Could not find the requested vacancy - it may have expired or been removed.\n    </p>\n  </div>\n  {{/compare}}\n</div>\n",
        "volunteering_home": "<div class=\"container-fluid home-banner volunteering-banner\">\n  <div class=\"banner-search overlay\" style=\"background-image: url('https://storage.googleapis.com/volunteerscotland-search/vs-search-homepage-image.jpg');\">\n    <div class=\"content page-content\">\n      <div class=\"search-content\">\n        <form id=\"search-view\" class=\"search-form\" action=\"https://search.volunteerscotland.net/search\" method=\"GET\">\n          <input type=\"hidden\" name=\"lat\" value=\"{{@root.request.params.query.lat}}\" id=\"location-lat\" />\n          <input type=\"hidden\" name=\"lng\" value=\"{{@root.request.params.query.lng}}\" id=\"location-lng\" />\n          <input type=\"hidden\" name=\"la\" value=\"{{@root.request.params.query.la}}\" id=\"location-la\" />\n          <input type=\"hidden\" name=\"sort\" value=\"{{@root.request.params.query.sort}}\" id=\"default-sort\" />\n          <input type=\"hidden\" name=\"utm_source\" value=\"goodmoves\" id=\"default-utm_source\" />\n          <input type=\"hidden\" name=\"utm_campaign\" value=\"search\" id=\"default-utm_campaign\" />\n          <input type=\"hidden\" name=\"utm_medium\" value=\"website\" id=\"default-utm_medium\" />\n          <h2 class=\"mdc-typography--headline6\">\n            <span class=\"mdc-typography--headline4\">Search</span> for a volunteering opportunity\n          </h2>\n          <div class=\"mdc-layout-grid b-padding\">\n            <div class=\"mdc-layout-grid__inner\">\n              <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n                <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n                  <span class=\"far fa-map-marker-alt mdc-text-field__icon geo-lookup\" tabindex=\"0\" title=\"Find my location\"></span>\n                  <input type=\"text\" id=\"where-opportunities\" name=\"location\" class=\"mdc-text-field__input\" value=\"{{@root.request.params.query.location}}\" placeholder=\"\" data-lpignore=\"true\" data-location-search='{\n                    \"latSelector\": \"[name=\\\"lat\\\"]\",\n                    \"lngSelector\": \"[name=\\\"lng\\\"]\",\n                    \"laSelector\": \"[name=\\\"la\\\"]\",\n                    \"locationServicesSelector\": \".geo-lookup\"\n                  }'>\n                  <label for=\"where-opportunities\" class=\"mdc-floating-label mdc-floating-label--float-above\">\n                    Location\n                  </label>\n                  <div class=\"mdc-line-ripple\"></div>\n                </div>\n                <!-- <div class=\"after-textfield-action geo-lookup\">Find me</div> -->\n              </div>\n              <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone filter-distance\">\n                <div class=\"mdc-layout-grid\">\n                  <div class=\"mdc-layout-grid__inner\">\n                    <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n                      <div class=\"mdc-select\" data-mdc-auto-init=\"MDCSelect\">\n                        <span class=\"mdc-select__dropdown-icon\"></span>\n                        <select class=\"mdc-select__native-control\" id=\"distance\" name=\"distance\">\n                          {{#each (split \"5,10,15,20,25,30,35,40,45,50\" \",\")}}\n                            <option value=\"{{this}}\" {{#compare (default @root.request.params.query.distance \"10\") \"===\" this}}selected{{/compare}}>{{this}} miles</option>\n                          {{/each}}\n                        </select>\n                        <label class=\"mdc-floating-label mdc-select__label--float-above\" for=\"sort\">\n                          Within\n                        </label>\n                        <div class=\"mdc-line-ripple\"></div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-4-phone\">\n                <div class=\"mdc-text-field mdc-text-field--box\" data-mdc-auto-init=\"MDCTextField\">\n                  <input type=\"text\" id=\"what-opportunities\" name=\"keywords\" class=\"mdc-text-field__input\" placeholder=\"\" />\n                  <label for=\"what-opportunities\" class=\"mdc-floating-label\">\n                    Keywords\n                  </label>\n                  <div class=\"mdc-line-ripple\"></div>\n                </div>\n              </div>\n              <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-4-phone\">\n                <button type=\"submit\" id=\"search-opportunities\" class=\"mdc-button mdc-button--raised mdc-button--large mdc-button--arrow mdc-text-field--box mdc-button--search mdc-ripple-surface mdc-ripple-surface--primary\" data-mdc-auto-init=\"MDCRipple\">\n                  Search\n                  <span class=\"far fa-search\" aria-hidden=\"true\"></span>\n                </button>\n              </div>\n            </div>\n            <div class=\"mdc-layout-grid__inner\">\n              <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n                <div id=\"search-terms\" class=\"mdc-chip-set\"></div>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n\n  {{!-- <div class=\"home-browse h-padding\">\n    <h3 class=\"mdc-drawer__content-heading cursor-pointer h-padding-full\" data-collapse-target=\"#home-browse-collapse\" role=\"button\" aria-pressed=\"false\" aria-label=\"Show browse section\" tabindex=\"0\">\n      <span class=\"mdc-button mdc-button--raised\">\n        Browse\n        <span class=\"mdc-icon-toggle\">\n          <span class=\"far fa-chevron-down\" aria-hidden=\"true\"></span>\n        </span>\n      </span>\n      <span class=\"mdc-typography--body2\">\n        By theme, activity, or area\n      </span>\n    </h3>\n    <div id=\"home-browse-collapse\" style=\"display: none;\">\n      {{> browse_volunteering eventContext=\"category-browser-home\"}}\n    </div>\n  </div> --}}\n\n  {{#compare @root.data.search_data.home_latest.hits.total \">\" 0}}\n  <div class=\"mdc-layout-grid l-margin-full l-padding\">\n    <div class=\"mdc-layout-grid__inner\">\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n        <div class=\"container-content content-page\">\n          <div class=\"full\">\n            <h2 class=\"mdc-typography--headline6\">\n              More than a million of us across Scotland volunteer\n            </h2>\n            <p class=\"mdc-typography--body1\">\n              And with good reason. Volunteering is one of the most rewarding things you can do. There are thousands of volunteer roles available right now. And as many places and spaces to give your time. Just want to help out? Looking to learn new skills? Keen to meet other people? Fired up to make a difference? Volunteering can help you do it. Whether you have a little or lots of time to give there should be something there for you.\n            </p>\n            <p class=\"mdc-typography--body1\">\n              This search facility is provided by <a href=\"https://search.volunteerscotland.net?utm_source=goodmoves&utm_campaign=page&utm_medium=website\">Volunteer Scotland</a> in partnership with <a href=\"https://scvo.org\">SCVO</a>.\n            </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n        <div class=\"mdc-typography--headline6 l-padding t-margin-full t-padding\">\n          Latest opportunities &nbsp;\n          <span class=\"mdc-typography--body1\">\n            <a href=\"https://search.volunteerscotland.net/search?sort=newest&page=2&utm_source=goodmoves&utm_campaign=page&utm_medium=website\">Find more</a>\n          </span>\n        </div>\n        <div class=\"home-content-primary\">\n          {{#>components_horizontal_card_scroller\n            outerClasses=\"home-latest\"\n            scrollLeftIconClasses=\"fal fa-fw fa-angle-left\"\n            scrollRightIconClasses=\"fal fa-fw fa-angle-right\"\n            itemClasses=\"latest-primary-content\"\n            items=(map @root.data.search_data.home_latest.hits.hits (getProp \"_source\"))\n            itemsPartial=\"volunteering_mini\"\n            moreUrl=\"https://search.volunteerscotland.net/search?sort=newest&page=2&utm_source=goodmoves&utm_campaign=page&utm_medium=website\"\n            moreText=\"Find more opportunities\"}}\n          {{/components_horizontal_card_scroller}}\n        </div>\n      </div>\n    </div>\n  </div>\n  {{/compare}}\n\n  {{!-- {{#compare @root.data.search_data.home_top.hits.total \">\" 0}}\n  <div class=\"mdc-layout-grid home-heading\">\n    <div class=\"mdc-layout-grid__inner\">\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n        <div class=\"mdc-typography--headline5\">\n          Top opportunities &ensp;\n          <span class=\"mdc-typography--body1\">\n            <a href=\"https://search.volunteerscotland.net/search?sort=relevance&page=2&utm_source=goodmoves&utm_campaign=page&utm_medium=website\">Find more</a>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"home-content-primary\">\n    {{#>components_horizontal_card_scroller\n      outerClasses=\"home-top\"\n      scrollLeftIconClasses=\"fal fa-fw fa-angle-left\"\n      scrollRightIconClasses=\"fal fa-fw fa-angle-right\"\n      itemClasses=\"top-primary-content\"\n      items=(map @root.data.search_data.home_top.hits.hits (getProp \"_source\"))\n      itemsPartial=\"volunteering_mini\"\n      moreUrl=\"https://search.volunteerscotland.net/search?sort=relevance&page=2&utm_source=goodmoves&utm_campaign=page&utm_medium=website\"\n      moreText=\"Find more opportunities\"}}\n    {{/components_horizontal_card_scroller}}\n  </div>\n  {{/compare}} --}}\n</div>",
        "volunteering_search-foot": "<script src=\"{{~>asset_url url='libraries/typeahead/typeahead.bundle.min.js'~}}\"></script>",
        "volunteering_search-form": "<div class=\"mdc-drawer__content\">\n  <form action=\"/volunteering/search\" method=\"GET\" class=\"search-form\" novalidate>\n    <input type=\"hidden\" name=\"sort\" value=\"{{@root.request.params.query.sort}}\" id=\"perm-sort\">\n    <div class=\"h-padding-full\">\n      <div class=\"mdc-layout-grid\">\n        <div class=\"mdc-layout-grid__inner\">\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n            <div class=\"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\" style=\"z-index:5;\">\n              <span class=\"far fa-map-marker-alt mdc-text-field__icon geo-lookup\" tabindex=\"0\" title=\"Find my location\" role=\"button\" style=\"pointer-events: initial !important;\"></span>\n              <input type=\"text\" id=\"perm-location\" name=\"location\" class=\"mdc-text-field__input mdc-text-field--fullwidth search-location\" value=\"{{#ifAll @root.request.params.query.lat @root.request.params.query.lng}}{{@root.request.params.query.location}}{{/ifAll}}\" placeholder=\"\" data-lpignore=\"true\" data-location-search='{\n                \"latSelector\": \"[name=\\\"lat\\\"]\",\n                \"lngSelector\": \"[name=\\\"lng\\\"]\",\n                \"laSelector\": \"[name=\\\"la\\\"]\",\n                \"locationServicesSelector\": \".geo-lookup\"\n              }'>\n              <label class=\"mdc-floating-label\" for=\"perm-location\">\n                Location\n              </label>\n              <div class=\"mdc-line-ripple\"></div>\n            </div>\n          </div>\n        </div>\n        <div class=\"mdc-layout-grid__inner\">\n          <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n            <div class=\"mdc-select t-margin\" data-mdc-auto-init=\"MDCSelect\">\n              <span class=\"mdc-select__dropdown-icon\"></span>\n              <select class=\"mdc-select__native-control\" id=\"distance\" name=\"distance\">\n                {{#each (split \"5,10,15,20,25,30,35,40,45,50\" \",\")}}\n                <option value=\"{{this}}\" {{#compare (default @root.request.params.query.distance \"10\") \"===\" this}}selected{{/compare}}>{{this}} miles</option>\n                {{/each}}\n              </select>\n              <label class=\"mdc-floating-label mdc-select__label--float-above\" for=\"sort\">\n                Within\n              </label>\n              <div class=\"mdc-line-ripple\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {{#if @root.request.params.query.debug_results}}\n        <input type=\"hidden\" name=\"debug_results\" value=\"{{@root.request.params.query.debug_results}}\">\n      {{/if}}\n      <input type=\"hidden\" name=\"lat\" value=\"{{#if @root.request.params.query.location}}{{@root.request.params.query.lat}}{{/if}}\" id=\"location-lat\" />\n      <input type=\"hidden\" name=\"lng\" value=\"{{#if @root.request.params.query.location}}{{@root.request.params.query.lng}}{{/if}}\" id=\"location-lng\" />\n\n      <div class=\"header mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon\" data-mdc-auto-init=\"MDCTextField\">\n        <input type=\"text\" id=\"what-primary-content\" name=\"keywords\" class=\"mdc-text-field__input\" placeholder=\"\" value=\"{{@root.request.params.query.keywords}}\" data-lpignore=\"true\" />\n        <span class=\"fas fa-search active-search-icon mdc-text-field__icon\" role=\"button\" onclick=\" $(this).parents('form:first').submit();\" style=\"pointer-events: initial !important; z-index: 500;\" tabindex=\"-1\"></span></a>\n        <label for=\"what-primary-content\" class=\"mdc-floating-label\">\n          Keywords / categories\n        </label>\n        <div class=\"mdc-line-ripple\"></div>\n      </div>\n      {{!-- {{#each @root.context.metaData.volunteeringTerms ~}}\n        {{#unless noSearchFilter ~}}\n          {{#> components_advanced_checkbox_list name=key label=label}}\n            {{#each termGroups ~}}\n              {{#> components_advanced_checkbox_group\n                  name=(concat ../key '-' key)\n                  label=label\n                  hideParent=(compare (length ../../termGroups) 1)}}\n                {{#each terms ~}}\n                  <!-- termGroups Length: {{length ../../../termGroups}} -->\n                  <!-- noIndent: {{compare (length ../../../termGroups) 1}} -->\n                  {{> components_advanced_checkbox_item\n                      name=../../../../key\n                      value=key\n                      label=label\n                      checked=(contains (getProperty @root.request.params.query ../../../../key) key)\n                      group=(concat ../../../key '-' ../key)\n                      noIndent=(compare (length ../../../termGroups) 1)}}\n                {{/each ~}}\n              {{/components_advanced_checkbox_group}}\n            {{/each ~}}\n          {{/components_advanced_checkbox_list}}\n        {{/unless ~}}\n      {{/each ~}} --}}\n      <div id=\"filter-container-outer\">\n        <div id=\"filter-container-inner\">\n          <button class=\"mdc-button mdc-button--raised mdc-button--large mdc-button--fullwidth mdc-ripple-surface mdc-ripple-surface--primary t-margin-full\" type=\"submit\" id=\"perm-search-submit\" data-mdc-auto-init=\"MDCRipple\">\n            <span class=\"far fa-search fa-fw mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n            Filter\n          </button>\n        </div>\n      </div>\n      {{!-- <span id=\"filter-indicator\" class=\"fal fa-angle-double-down fa-3x\" style=\"display:none;\"></span> --}}\n    </div>\n  </form>\n</div>",
        "volunteering_search-head-tags": "{{#if data.primaryResponse.hits.hits.[0] ~}}\n<title>Volunteering search results  Goodmoves</title>\n<meta property=\"og:title\" content=\"Volunteering search results  Goodmoves\" data-dynamic=\"true\">\n{{else}}\n<title>Volunteering search results  Goodmoves</title>\n<meta property=\"og:title\" content=\"Volunteering search results  Goodmoves\" data-dynamic=\"true\">\n{{/if ~}}",
        "volunteering_search": "<div id=\"detailed-results-container\" class=\"container-content content-primary-search content-volunteering-search\" instance_id=\"perm\">\n  <div class=\"mdc-layout-grid head\">\n    <div class=\"mdc-layout-grid__inner\">\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone pagination-desktop\">\n        <button class=\"mdc-button mdc-button--raised filter-search hide-lg filter-search-button\" id=\"filter-search-button\" data-drawer-target=\"#sidebar-temporary\">\n          <span class=\"fas fa-search mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n          Search filters\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class=\"mdc-layout-grid grid-content\">\n    <div class=\"mdc-layout-grid__inner\">\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-9-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone\">\n        {{> search_info paging=@root.data.search_data.detailed_results.pagination}}\n      </div>\n      <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone action\">\n        {{#compare @root.data.search_data.detailed_results.hits.total \">\" 0 ~}}\n          <form action=\"{{{@root.request.url.path}}}\" method=\"GET\">\n            {{#each (split \"volunteersearch_types,activities,themes,services,age_groups\" \",\")}}\n              {{#if (getProperty @root.request.params.query this) ~}}\n                {{#each (arrayify (getProperty @root.request.params.query this)) ~}}\n                  <input type=\"hidden\" name=\"{{../this}}[]\" value=\"{{this}}\" />\n                {{/each ~}}\n              {{/if ~}}\n            {{/each ~}}\n            {{#each (split \"keywords,exclude,location,lat,lng,la\" \",\")}}\n              {{#if (getProperty @root.request.params.query this) ~}}\n                <input type=\"hidden\" name=\"{{this}}\" value=\"{{getProperty @root.request.params.query this}}\" />\n              {{/if ~}}\n            {{/each ~}}\n            <input type=\"hidden\" name=\"distance\" value=\"{{default @root.request.params.query.distance 10}}\" />\n            {{#if @root.request.params.query.debug_results}}\n              <input type=\"hidden\" name=\"debug_results\" value=\"{{@root.request.params.query.debug_results}}\">\n            {{/if}}\n\n            <div class=\"mdc-select pull-right\" data-mdc-auto-init=\"MDCSelect\">\n              <span class=\"mdc-select__dropdown-icon\"></span>\n              <select class=\"mdc-select__native-control\" id=\"sort\" name=\"sort\" onchange=\"this.form.submit();\">\n                <option value=\"relevance\" {{#unless @root.request.params.query.sort}} selected {{/unless}}>Relevance</option>\n                {{#if @root.request.params.query.location}}<option value=\"distance\"{{#compare @root.request.params.query.sort \"===\" \"distance\"}} selected{{/compare}}{{#compare @root.request.params.query.exclude \"===\" \"locations\"}} disabled{{else}}{{#compare @root.request.params.query.location \"===\" \"\"}} disabled{{/compare}}{{/compare}}>Distance</option>{{/if}}\n                <option value=\"newest\"{{#compare @root.request.params.query.sort \"===\" \"newest\"}} selected{{/compare}}>Newest</option>\n                <option value=\"oldest\"{{#compare @root.request.params.query.sort \"===\" \"oldest\"}} selected{{/compare}}>Oldest</option>\n              </select>\n              <div class=\"mdc-floating-label mdc-select__label--float-above\" for=\"sort\">\n                Sort by\n              </div>\n              <div class=\"mdc-line-ripple\"></div>\n            </div>\n          </form>\n        {{/compare ~}}\n      </div>\n    </div>\n  </div>\n\n  {{#if @root.request.params.query.debug_results}}\n    <div class=\"v-padding-full\">\n      <pre>\n  {{{safeStringify @root.data.search_data.detailed_results.request}}}\n      </pre>\n    </div>\n  {{/if}}\n\n  {{#each @root.data.search_data.detailed_results.hits.hits ~}}\n    {{#if @root.request.params.query.debug_results}}\n      <div class=\"v-padding-full\">\n        <pre>\n  SCORE: {{_score}}\n  DISTANCE: {{numberFormat fields.distance.[0] \"en-GB\" 1}} miles\n  LAST MODIFIED: {{#with (momentDistance (moment _source.date_last_modified \"x\") null \"days\")~}}\n    {{~#compare this \"<=\" 0~}}\n      {{replace (concat this \"\") \"-\" \"\"}} days ago\n    {{~else~}}\n      {{this}} days in the future\n    {{~/compare~}}\n  {{/with}}\n\n  HIGHLIGHTS:\n  {{{safeStringify highlight}}}\n        </pre>\n      </div>\n    {{/if}}\n\n    {{#compare _type \"milo-volunteering-opportunity\" ~}}\n    {{> opportunity_search_result _source distance=sort.[2]}}\n    {{else}}\n    {{> vacancy_search_result _source distance=sort.[2]}}\n    {{/compare ~}}\n\n  {{/each ~}}\n\n  <div class=\"foot\">\n    {{> pagination firstLastNavigation=true paging=@root.data.search_data.detailed_results.pagination}}\n  </div>\n</div>\n"
      },
      "layouts": {
        "data": "{{{layoutParts.content}}}",
        "default": "<!doctype html>\n<html lang=\"en\">\n<head prefix=\"og: http://ogp.me/ns#\">\n  <meta charset=\"utf-8\">\n  <base href=\"/\">\n  {{{layoutParts.head}}}\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n  <!--\n\n  Powered by:\n                      \n              \n                                \n                             \n                 \n                          \n\n  -->\n\n\t<link rel=\"shortcut icon\" href=\"{{~>asset_url url='images/icons/favicon.ico'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"{{~>asset_url url='images/icons/apple-icon-57x57.png'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"60x60\" href=\"{{~>asset_url url='images/icons/apple-icon-60x60.png'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"{{~>asset_url url='images/icons/apple-icon-72x72.png'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"{{~>asset_url url='images/icons/apple-icon-76x76.png'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"{{~>asset_url url='images/icons/apple-icon-114x114.png'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"{{~>asset_url url='images/icons/apple-icon-120x120.png'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"{{~>asset_url url='images/icons/apple-icon-144x144.png'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"{{~>asset_url url='images/icons/apple-icon-152x152.png'~}}\">\n  <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"{{~>asset_url url='images/icons/apple-icon-180x180.png'~}}\">\n  <link rel=\"icon\" type=\"image/png\" sizes=\"192x192\" href=\"{{~>asset_url url='images/icons/android-icon-192x192.png'~}}\">\n  <link rel=\"icon\" type=\"image/png\" sizes=\"512x512\"  href=\"{{~>asset_url url='images/icons/android-icon-192x192.png'~}}\">\n  <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"{{~>asset_url url='images/icons/favicon-32x32.png'~}}\">\n  <link rel=\"icon\" type=\"image/png\" sizes=\"96x96\" href=\"{{~>asset_url url='images/icons/favicon-96x96.png'~}}\">\n  <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"{{~>asset_url url='images/icons/favicon-16x16.png'~}}\">\n  <link rel=\"manifest\" href=\"{{~>asset_url url='images/icons/manifest.json'~}}\">\n  <meta name=\"msapplication-TileColor\" content=\"#3c7524\">\n  <meta name=\"msapplication-TileImage\" content=\"{{~>asset_url url='images/icons/ms-icon-144x144.png'~}}\">\n  <meta name=\"theme-color\" content=\"#3c7524\">\n  <link rel=\"search\" type=\"application/opensearchdescription+xml\" title=\"Goodmoves\" href=\"{{~>asset_url url='opensearch.xml'~}}\" />\n\n  <link rel=\"canonical\" href=\"https://goodmoves.com{{request.params.uri.pathname}}\" />\n  <script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-3467930-6\"></script>\n  <script type=\"text/javascript\">\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n  gtag('config', 'UA-3467930-6', {\n    'send_page_view': true,\n    'anonymize_ip': true,\n    'cookieDomain': 'none',\n    'custom_map': {\n      'dimension1': 'hit_type',\n      'dimension2': 'parent_document'\n    }\n  });\n  </script>\n  {{#ifAny @root.request.params.query.debug (compare @root.request.url.hostname \"goodmoves.local\") ~}}\n  <script type=\"text/javascript\">\n  console.log('#### DEBUG MODE ON ####');\n  console.log('Request:', {{{regexReplace (regexReplace (stringify @root.request) \"(<\\/script)\" \"gi\" '</scr\\\" + \\\"ipt') \"(\\r|\\n)\" \"gi\" \"\"}}});\n  console.log('Route:', {{{regexReplace (regexReplace (stringify @root.route) \"(<\\/script)\" \"gi\" '</scr\\\" + \\\"ipt') \"(\\r|\\n)\" \"gi\" \"\"}}});\n  console.log('Context:', {{{regexReplace (regexReplace (stringify @root.context) \"(<\\/script)\" \"gi\" '</scr\\\" + \\\"ipt') \"(\\r|\\n)\" \"gi\" \"\"}}});\n  console.log('Data:', {{{regexReplace (regexReplace (stringify @root.data) \"(<\\/script)\" \"gi\" '</scr\\\" + \\\"ipt') \"(\\r|\\n)\" \"gi\" \"\"}}});\n  console.log('Menus:', {{{regexReplace (regexReplace (stringify @root.context.metaData.menus) \"(<\\/script)\" \"gi\" '</scr\\\" + \\\"ipt') \"(\\r|\\n)\" \"gi\" \"\"}}});\n  {{#if errors.[0]}}\n    console.error('Task Errors:', {{{regexReplace (regexReplace (stringify @root.errors) \"(<\\/script)\" \"gi\" '</scr\\\" + \\\"ipt') \"(\\r|\\n)\" \"gi\" \"\"}}});\n  {{/if}}\n  </script>\n  {{/ifAny ~}}\n  <link type=\"text/css\" rel=\"stylesheet\" href=\"{{~>asset_url url='libraries/leaflet/leaflet.css'~}}\" />\n  <link type=\"text/css\" rel=\"stylesheet\" href=\"{{~>asset_url url='libraries/fontawesome-pro/css/all.min.css'~}}\" />\n  <link type=\"text/css\" rel=\"stylesheet\" href=\"{{~>asset_url url='main-VERSION.css'}}\" />\n</head>\n<body class=\"mdc-theme--site-bg {{#if request.params.path}}{{replace request.params.path '_' ' '}}{{else}}home{{/if}}\">\n  <goodmoves-site>\n    <div class=\"mdc-typography\">\n      {{#ifAny @root.request.params.query.debug (compare @root.request.url.hostname \"goodmoves.local\") ~}}\n        {{#if errors.[0]}}\n          <div style=\"z-index:100;position:fixed;top:0;right:0;padding:5px;background-color:#ff0000;color:#ffffff;\">\n            Route Task Errors (F12)\n          </div>\n        {{/if}}\n        {{#if logs.[0]}}\n          <div style=\"z-index:100;position:fixed;bottom:0;right:0;padding:5px;background-color:#0000ff;color:#ffffff;\"\n               onclick=\"document.querySelector('#route-debug-log').style.display='block';\">\n            Route Log\n          </div>\n          <div style=\"z-index:100;position:fixed;bottom:0;left:0;right:0;padding:5px;background-color:#ededed;color:#000000;overflow:auto;height:50vh;display:none;border-top:1px solid #cccccc;\" id=\"route-debug-log\">\n            <a style=\"position:fixed;right:25px;\" onclick=\"document.querySelector('#route-debug-log').style.display='none';\">x</a>\n<pre style=\"white-space: pre-wrap;\">\n{{~#each logs}}\n{{{this}}}\n\n{{/each~}}\n</pre>\n          </div>\n        {{/if}}\n      {{/ifAny}}\n      <header class=\"mdc-top-app-bar mdc-elevation--z5 top-bar-stuck\" id=\"top-bar\">\n        <div class=\"container-fluid\">\n          {{!-- <div class=\"mdc-top-app-bar__row mdc-top-app-bar__lower scvo-tab-bar\">\n            <section class=\"mdc-top-app-bar__row mdc-top-app-bar__section--align-start\">\n              {{> components_scvo_bar}}\n            </section>\n          </div> --}}\n          <div class=\"mdc-top-app-bar__row mdc-top-app-bar__upper\">\n            <section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-start\">\n              {{#unless @root.route.metaData.hideSearch ~}}\n              <button class=\"mdc-top-app-bar__navigation-icon hide-lg filter-search-button\" id=\"sidebar-button\" title=\"Search\">\n                <span class=\"far fa-fw fa-2x fa-search\"></span>\n              </button>\n              {{/unless ~}}\n              <span class=\"mdc-top-app-bar__title\">\n                {{> logo link=\"true\"}}\n              </span>\n            </section>\n            <section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-end\">\n              <button class=\"mdc-top-app-bar__navigation-icon hide-lg\" data-drawer-target=\"#mobile-menu\" aria-label=\"Menu\">\n                <span class=\"far fa-fw fa-2x fa-bars\"></span>\n              </button>\n              {{#>components_tab_bar\n                  extraClasses=\"mdc-tab-bar__auto-width hide-sm hide-md\"\n                  id=\"upper-tab-bar\"}}\n                {{#if @root.data.auth ~}}\n                  {{#each @root.context.metaData.menus.upper-signed-in ~}}\n                    {{>components_tab\n                        url=(stripTrailingSlash path)\n                        active=(regexMatch @root.request.url.pathname route \"gi\")\n                        label=label}}\n                  {{/each ~}}\n                {{else}}\n                  {{#each @root.context.metaData.menus.upper-not-signed-in ~}}\n                    {{>components_tab\n                        url=(stripTrailingSlash path)\n                        active=(regexMatch @root.request.url.pathname route \"gi\")\n                        label=label}}\n                  {{/each ~}}\n                {{/if ~}}\n                {{#each @root.context.metaData.menus.upper ~}}\n                  {{#if label ~}}\n                  {{>components_tab\n                      url=(stripTrailingSlash path)\n                      active=(regexMatch @root.request.url.pathname route \"gi\")\n                      label=label}}\n                  {{/if ~}}\n                {{/each ~}}\n              {{/components_tab_bar}}\n            </section>\n          </div>\n          <div class=\"mdc-top-app-bar__row mdc-top-app-bar__lower hide-sm hide-md\">\n            <section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-start mdc-top-app-bar__main\">\n              {{#>components_tab_bar\n                  extraClasses=\"mdc-tab-bar__auto-width\"\n                  id=\"main-tab-bar\"}}\n                {{#each @root.context.metaData.menus.main ~}}\n                  {{>components_tab\n                      url=(stripTrailingSlash path)\n                      labelClasses=\"mdc-theme--on-primary\"\n                      active=(regexMatch @root.request.url.pathname route \"gi\")\n                      label=label}}\n                {{/each ~}}\n                {{#each @root.context.metaData.menus.main-extra ~}}\n                  {{>components_tab\n                      url=(stripTrailingSlash path)\n                      labelClasses=\"mdc-theme--on-primary\"\n                      active=(regexMatch @root.request.url.pathname route \"gi\")\n                      label=label}}\n                {{/each ~}}\n              {{/components_tab_bar}}\n            </section>\n            <section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-end mdc-top-app-bar__user\">\n              {{#if @root.data.auth ~}}\n                {{#>components_anchored_menu\n                    buttonClasses=\"mdc-theme--on-primary\"\n                    imageUrl=(default @root.data.auth.photoURL false)\n                    imageClasses=\"far fa-fw user-avatar\"\n                    iconClasses=(if (if @root.data.auth.photoURL false else=true) \"far fa-fw fa-user-circle\" else=false)\n                    buttonLabel=@root.data.auth.email\n                    arrowClasses=\"far fa-fw fa-angle-down\"}}\n                  {{#each @root.context.metaData.menus.user-signed-in ~}}\n                    <a class=\"mdc-list-item {{#if (regexMatch @root.request.url.pathname route \"gi\")}} mdc-list-item--activated{{/if}}\" href=\"{{stripTrailingSlash path}}\" role=\"menuitem\">\n                      {{#if icon ~}}\n                      <span class=\"far fa-{{icon}} mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n                      {{/if ~}}\n                      {{{label}}}\n                    </a>\n                  {{/each ~}}\n                {{/components_anchored_menu}}\n              {{else}}\n                {{#>components_tab_bar\n                    extraClasses=\"mdc-tab-bar__auto-width\"\n                    id=\"user-not-signed-in-tab-bar\"}}\n                  {{#each @root.context.metaData.menus.user-not-signed-in ~}}\n                    {{>components_tab\n                        url=(stripTrailingSlash path)\n                        labelClasses=\"mdc-theme--on-primary\"\n                        active=(regexMatch @root.request.url.pathname route \"gi\")\n                        label=label}}\n                  {{/each}}\n                {{/components_tab_bar}}\n              {{/if ~}}\n            </section>\n          </div>\n        </div>\n      </header>\n\n      <aside class=\"mdc-drawer mdc-drawer--modal\" id=\"mobile-menu\" data-mdc-auto-init=\"MDCDrawer\">\n        <div class=\"mdc-drawer__content\">\n          <nav class=\"mdc-list\">\n            <a class=\"mdc-list-item {{#compare @root.request.url.pathname \"/\"}} mdc-list-item--activated{{/compare}}\"\n               href=\"/\" aria-selected=\"true\" tabindex=\"1\">\n              <span class=\"far fa-home mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n              Home\n            </a>\n            {{#each @root.context.metaData.menus.main ~}}\n            <a class=\"mdc-list-item {{#if (regexMatch @root.request.url.pathname route \"gi\")}} mdc-list-item--activated{{/if}}\"\n               href=\"{{stripTrailingSlash path}}\" {{#if (regexMatch @root.request.url.pathname route \"gi\")}}aria-selected=\"true\"{{else}}aria-hidden=\"true\"{{/if}}>\n              {{#if icon ~}}\n              <span class=\"far fa-{{icon}} mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n              {{/if ~}}\n              {{{label}}}\n            </a>\n            {{/each ~}}\n            {{#each @root.context.metaData.menus.upper ~}}\n            <a class=\"mdc-list-item {{#if (regexMatch @root.request.url.pathname route \"gi\")}} mdc-list-item--activated{{/if}}\"\n               href=\"{{stripTrailingSlash path}}\" {{#if (regexMatch @root.request.url.pathname route \"gi\")}}aria-selected=\"true\"{{else}}aria-hidden=\"true\"{{/if}}>\n              {{#if icon ~}}\n              <span class=\"far fa-{{icon}} mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n              {{/if ~}}\n              {{{label}}}\n            </a>\n            {{/each ~}}\n            {{#each @root.context.metaData.menus.main-extra ~}}\n            <a class=\"mdc-list-item {{#if (regexMatch @root.request.url.pathname route \"gi\")}} mdc-list-item--activated{{/if}}\"\n               href=\"{{stripTrailingSlash path}}\" {{#if (regexMatch @root.request.url.pathname route \"gi\")}}aria-selected=\"true\"{{else}}aria-hidden=\"true\"{{/if}}>\n              {{#if icon ~}}\n              <span class=\"far fa-{{icon}} mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n              {{/if ~}}\n              {{{label}}}\n            </a>\n            {{/each ~}}\n            <div role=\"separator\" class=\"mdc-list-divider\"></div>\n            {{#if @root.data.auth ~}}\n            <a class=\"mdc-list-item mdc-list-item__user\" href=\"#\">\n              <span class=\"mdc-list-item__graphic\" aria-hidden=\"true\">\n                <img src=\"{{@root.data.auth.photoURL}}\" alt=\"{{@root.data.auth.email}}\" />\n              </span>\n              <span class=\"mdc-list-item__text\">{{@root.data.auth.email}}</span>\n            </a>\n            {{#each @root.context.metaData.menus.user-signed-in ~}}\n            {{#compare path \"===\" \"/\" ~}}\n            {{else}}\n            <a class=\"mdc-list-item {{#if (regexMatch @root.request.url.pathname route \"gi\")}} mdc-list-item--activated{{/if}}\"\n               href=\"{{stripTrailingSlash path}}\" {{#if (regexMatch @root.request.url.pathname route \"gi\")}}aria-selected=\"true\"{{else}}aria-hidden=\"true\"{{/if}}>\n              {{#if icon ~}}\n              <span class=\"far fa-{{icon}} mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n              {{/if ~}}\n              {{{label}}}\n            </a>\n            {{/compare ~}}\n            {{/each ~}}\n            {{else}}\n            {{#each @root.context.metaData.menus.user-not-signed-in ~}}\n            <a class=\"mdc-list-item {{#if (regexMatch @root.request.url.pathname route \"gi\")}} mdc-list-item--activated{{/if}}\"\n               href=\"{{stripTrailingSlash path}}\" {{#if (regexMatch @root.request.url.pathname route \"gi\")}}aria-selected=\"true\"{{else}}aria-hidden=\"true\"{{/if}}>\n              {{#if icon ~}}\n              <span class=\"far fa-{{icon}} mdc-list-item__graphic\" aria-hidden=\"true\"></span>\n              {{/if ~}}\n              {{{label}}}\n            </a>\n            {{/each ~}}\n            {{/if ~}}\n          </nav>\n        </div>\n      </aside>\n\n      <div class=\"mdc-drawer-scrim\"></div>\n\n      <main class=\"mdc-theme--background mdc-toolbar-fixed-adjust {{#if layoutParts.sidebar}}drawer-container-permanent{{else}}drawer-container-temporary{{/if}}\">\n        {{#if layoutParts.sidebar }}\n        <aside class=\"mdc-drawer mdc-drawer--occasional\" id=\"sidebar-temporary\" data-menu-button=\".filter-search-button\">\n          {{{layoutParts.sidebar}}}\n        </aside>\n        <div class=\"mdc-drawer-scrim\"></div>\n        {{/if}}\n        {{{layoutParts.body}}}\n      </main>\n\n      <footer class=\"mdc-layout__footer\">\n        <div class=\"footer-main\">\n          <div class=\"container-fluid\">\n            <div class=\"mdc-layout-grid\">\n              <div class=\"mdc-layout-grid__inner\">\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone contact\">\n                  <h3>Contact</h3>\n                  <ul class=\"fa-ul\">\n                    <li>\n                      <span class=\"fa-li\" aria-hidden=\"true\"><span class=\"fas fa-envelope\"></span></span>\n                      <a href=\"mailto:enquiries@goodmoves.org.uk\">enquiries@goodmoves.org.uk</a>\n                    </li>\n                    <li>\n                      <span class=\"fa-li\" aria-hidden=\"true\"><span class=\"fas fa-phone fa-flip-horizontal\"></span></span>\n                      <a href=\"tel:+448000192149\">0800&nbsp;0192&nbsp;149</a>\n                    </li>\n                    <li>\n                      <span class=\"fa-li\" aria-hidden=\"true\"><span class=\"fab fa-twitter\"></span></span>\n                      <a href=\"https://twitter.com/goodmovesjobs\" target=\"_blank\" rel=\"noopener\">Twitter</a>\n                    </li>\n                  </ul>\n                </div>\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone help\">\n                  <h3>Help</h3>\n                  <ul class=\"mdc-list\">\n                    {{#each @root.context.metaData.menus.footer-help ~}}\n                    <li class=\"mdc-list-item\">\n                      <a href=\"{{path}}\">{{{label}}}</a>\n                    </li>\n                    {{/each ~}}\n                    <div id=\"google_translate_element\"></div>\n                  </ul>\n                </div>\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone info\">\n                  <h3>Information</h3>\n                  <ul class=\"mdc-list\">\n                    {{#each @root.context.metaData.menus.footer-info ~}}\n                    <li class=\"mdc-list-item\">\n                      <a href=\"{{path}}\">{{{label}}}</a>\n                    </li>\n                    {{/each ~}}\n                  </ul>\n                </div>\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone about\">\n                  <h3>About</h3>\n                  <p>\n                    <strong>Goodmoves</strong> is the premier careers hub for the civil society, charity and voluntary sector &ndash; run by the <a href=\"https://scvo.org\">Scottish Council for Voluntary Organisations</a>.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"footer-copyright\">\n          <div class=\"container-fluid\">\n            <div class=\"mdc-layout-grid\">\n              <div class=\"mdc-layout-grid__inner\">\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <p>\n                    &copy; {{momentFormat (moment) \"YYYY\"}}. The Scottish Council for Voluntary Organisations (SCVO) is a Scottish Charitable Incorporated Organisation.<br />\n                    Charity registered in Scotland <a href=\"https://www.oscr.org.uk/about-charities/search-the-register/charity-details?number=SC003558\">SC003558</a>. Registered office Mansfield Traquair Centre, 15 Mansfield Place, Edinburgh EH3 6BB.\n                  </p>\n                </div>\n                <div class=\"mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-4-phone\">\n                  <a href=\"https://scvo.org\" class=\"brand-logo\" title=\"Scottish Council for Voluntary Organisations\">\n\t\t\t\t\t\t\t\t\t\t<img src=\"{{~>asset_url url='images/logos/scvo.png'~}}\" alt=\"Scottish Council for Voluntary Organisations\" />\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n    {{!-- <div class=\"mdc-snackbar mdc-elevation--z10\"\n         aria-live=\"assertive\"\n         aria-atomic=\"true\"\n         aria-hidden=\"true\"\n         id=\"app-snackbar\">\n      <div class=\"mdc-snackbar__text\"></div>\n      <div class=\"mdc-snackbar__action-wrapper\">\n        <button type=\"button\" class=\"mdc-snackbar__action-button\" aria-label=\"Close\"></button>\n      </div>\n    </div> --}}\n  </goodmoves-site>\n\n  <script type=\"text/javascript\">\n  function googleTranslateElementInit() {\n    new google.translate.TranslateElement(\n      {\n        pageLanguage: 'en',\n        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,\n        gaTrack: true,\n        gaId: 'UA-3467930-6'\n      },\n      'google_translate_element'\n    );\n  }\n  </script>\n  <script type=\"text/javascript\" src=\"//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\"></script>\n  <script type=\"text/javascript\">\n  var $buoop = {required:{e:-3,f:-3,o:-3,s:-1,c:-3},insecure:true,unsupported:true,api:2018.07 };\n  function $buo_f(){\n    var e = document.createElement(\"script\");\n    e.src = \"//browser-update.org/update.min.js\";\n    document.body.appendChild(e);\n  };\n  try {document.addEventListener(\"DOMContentLoaded\", $buo_f,false)}\n  catch(e){window.attachEvent(\"onload\", $buo_f)}\n  </script>\n\n\t<script type=\"text/javascript\" src=\"{{~>asset_url url='main-VERSION.js'~}}\"></script>\n\n  <script>\n    var goodmoves = null; readyListeners = [];\n    $(document).ready(function() {\n      goodmoves = new Goodmoves.Goodmoves({\n        apiKey: \"AIzaSyAuGAacoIdUgbtfI42UXTHDosMS4pP5Teg\",\n        authDomain: \"auth.goodmoves.com\",\n        databaseURL: \"https://goodmoves-frontend.firebaseio.com\",\n        projectId: \"goodmoves-frontend\",\n        storageBucket: \"goodmoves-frontend.appspot.com\",\n        messagingSenderId: \"639831727728\"\n      });\n      ready = true;\n      readyListeners.forEach(function(listener) {\n        listener();\n      });\n    });\n\n    function registerReadyListener(listener) {\n      if (goodmoves) {\n        listener();\n      } else {\n        readyListeners.push(listener);\n      }\n    }\n  </script>\n\n  {{{layoutParts.foot}}}\n</body>\n</html>",
        "rss": "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<rss version=\"2.0\" xmlns:atom=\"http://www.w3.org/2005/Atom\">\n  <channel>\n    {{{layoutParts.head}}}\n    <lastBuildDate>{{momentFormat (moment) 'ddd, DD MMM YYYY HH:mm:ss ZZ'}}</lastBuildDate>\n    <pubDate>{{momentFormat (moment) 'ddd, DD MMM YYYY HH:mm:ss ZZ'}}</pubDate>\n    <ttl>1800</ttl>\n    <atom:link href=\"https://goodmoves.com{{{@root.request.params.uri.path}}}\" rel=\"self\" type=\"application/rss+xml\" />\n    {{{layoutParts.body}}}\n  </channel>\n</rss>"
      },
      "queries": {
        "account_shortlist": "{\n  \"size\": 1000,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"title\",\n    \"organisation.name\"\n  ],\n  \"query\": {\n    \"ids\": {\n      \"values\": {{{stringify (split (concat (map @root.data.shortlist.items.[0] (getProp \"value\")) \",\" (getKeys @root.data.notes) \",\" @root.request.cookies.recently_viewed) \",\")}}}\n    }\n  } \n}\n",
        "banners_banner": "{\n  \"size\": 1,\n  \"_source\": [\n    \"title\",\n    \"description\",\n    \"url\",\n    \"og_image\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"range\": {\n                \"start_at\": {\n                  \"lt\": \"now\",\n                  \"boost\": 1\n                }\n              }\n            },\n            {\n              \"range\": {\n                \"end_at\": {\n                  \"gt\": \"now\",\n                  \"boost\": 1\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"random_score\": {},\n      \"boost_mode\":\"multiply\"\n    }\n  }\n}",
        "events_event": "{\n  \"size\": 1,\n  \"_source\": [\n    \"Id\",\n    \"title\",\n    \"slug\",\n    \"title_slug\",\n    \"course_type\",\n    \"course_overview\",\n    \"description\",\n    \"date_start\",\n    \"date_end\",\n    \"places_available\",\n    \"city\",\n    \"url\",\n    \"event_venue\",\n    \"trainer\",\n    \"categories_id\",\n    \"booking_url\",\n    \"rendered.scvo_speakers\"\n  ],\n  \"query\": {\n    \"term\": {\n      \"slug\": \"{{request.params.slug}}\"\n    }\n  }\n}",
        "events_search-list": "{\n  \"size\": 10,\n  \"from\": {{multiply (subtract (default request.params.query.page 1) 1) 10}},\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"title\",\n    \"title_slug\",\n    \"description\",\n    \"course_overview\",\n    \"rendered.post_info_booked\",\n    \"rendered.post_info_date\",\n    \"rendered.post_info_city\",\n    \"rendered.json_ld\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"must_not\": [\n        {\n          \"term\": {\n            \"hide_in_results\": true\n          }\n        }\n      ],\n      \"must\": [\n        {\n          \"term\": {\n            \"team\": \"events\"\n          }\n        },\n        {\n          \"term\": {\n            \"course_type\": \"Training Course\"\n          }\n        },\n        {\n          \"range\" : {\n            \"date_start\" : {\n              \"gte\" : \"now/d\"\n            }\n          }\n        },\n        {{#if request.params.query.keywords ~}}\n        {\n          \"query_string\": {\n            \"query\": {{{stringify request.params.query.keywords}}},\n            \"fields\": [\"text_bag_boost^5\", \"text_bag\"],\n            \"default_operator\": \"AND\",\n            \"analyzer\": \"snowball\"\n          }\n        }\n        {{else}}\n        {\n          \"match_all\": {}\n        }\n        {{/if ~}}\n      ]\n    }\n  }\n}",
        "geo-lookup": "{\n  \"size\": 6,\n  \"_source\": [\"place\", \"display\", \"point\"],\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"query_string\": {\n             \"fields\": [\"autocomplete\", \"textbag\"],\n             \"query\":\n             {{~#if (regexMatch @root.request.params.query.q \"^([A-Z]{1,2})(([0-9][A-Z])|([0-9]{1,2}))\" \"ig\")~}}\n               {{{stringify (replace @root.request.params.query.q \" \" \"\")}}}\n             {{else}}\n               {{{stringify (lowercase @root.request.params.query.q)}}}\n             {{~/if~}}\n          }\n        }\n      ],\n      \"should\": [\n        {\n          \"term\": {\n            \"localType\": {\n              \"value\": \"City\",\n              \"boost\": 5\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"localType\": {\n              \"value\": \"Town\",\n              \"boost\": 2\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"country\": {\n              \"value\": \"Scotland\",\n              \"boost\": 10.0\n            }\n          }\n        }\n      ]\n    }\n  }\n}",
        "goodhq_posts": "{\n  \"size\": 3,\n  \"_source\": [\n    \"rendered.goodmoves_list\"\n  ],\n  \"query\": {\n    \"term\": {\n      \"goodhq_organisation.xid\": \"{{data.primaryResponse.hits.hits.[0]._source.goodhq_organisation.xid}}\"\n    }\n  },\n  \"sort\": {\n    \"date_posted\": \"desc\"\n  }\n}",
        "goodhq_reviews": "{\n  \"size\": 3,\n  \"_source\": [\n    \"rendered.goodmoves_list\"\n  ],\n  \"query\": {\n    \"term\": {\n      \"goodhq_organisation.xid\": \"{{data.primaryResponse.hits.hits.[0]._source.goodhq_organisation.xid}}\"\n    }\n  },\n  \"sort\": {\n    \"date_posted\": \"desc\"\n  }\n}",
        "goodhq_volunteering": "{\n  \"size\": 3,\n  \"_source\": [\n    \"rendered.goodmoves_list\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"term\": {\n            \"goodhq_organisation.xid\": \"{{data.primaryResponse.hits.hits.[0]._source.goodhq_organisation.xid}}\"\n          }\n        }\n      ],\n      \"must_not\": [\n        {\n          \"terms\": {\n            \"activities_slugs\": [\"committee-work\"]\n          }\n        }\n      ]\n    }\n  },\n  \"sort\": {\n    \"available_from\": \"desc\"\n  }\n}\n",
        "notifications_add-saved-search": "{{#if @root.data.auth ~}}\nCALL _addSubscriptionParameters(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.emailCampaignName}}},\n  {{{mysqlEscape (\n    querystringify (obj)\n      keywords=@root.request.params.query.keywords\n      salary_min=@root.request.params.query.salary_min\n      salary_max=@root.request.params.query.salary_max\n      regions=(sort @root.request.params.query.regions)\n      roles=(sort @root.request.params.query.roles)\n      sectors=(sort @root.request.params.query.sectors)\n      working_patterns=(sort @root.request.params.query.working_patterns)\n      distance=@root.request.params.query.distance\n      lat=@root.request.params.query.lat\n      lng=@root.request.params.query.lng\n      location=@root.request.params.query.location\n    )\n  }}},\n  {{{mysqlEscape (default @root.request.body.name \"My saved search\")}}},\n  {{#if @root.request.body.subscribe}}1{{else}}0{{/if}}\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "notifications_add-to-shortlist": "{{#if @root.data.auth ~}}\nCALL _addSubscriptionParameter(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.shortlistCampaignName}}},\n  {{{mysqlEscape 'id'}}},\n  {{{mysqlEscape @root.request.params.query.id}}},\n  'Shortlist',\n  NULL\n);\n{{else}}\nSET @query=false;\n{{/if ~}}\n",
        "notifications_delete-search": "{{#if @root.data.auth ~}}\nCALL _removeSubscriptionPartition(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.emailCampaignName}}},\n  {{{mysqlEscape @root.request.body.name}}}\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "notifications_delete-user": "{{#if @root.data.auth ~}}\nCALL _removeSubscriptionPartition(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.emailCampaignName}}},\n  NULL\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "notifications_get-saved-searches": "{{#if @root.data.auth ~}}\nCALL _getSubscriptions(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.emailCampaignName}}},\n  NULL\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "notifications_get-shortlist": "{{#if @root.data.auth ~}}\nCALL _getSubscriptionParameters(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.shortlistCampaignName}}},\n  'Shortlist'\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "notifications_remove-from-shortlist": "{{#if @root.data.auth ~}}\nCALL _removeSubscriptionParameter(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.shortlistCampaignName}}},\n  'Shortlist',\n  'id',\n  {{{mysqlEscape @root.request.params.query.id}}}\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "notifications_stop-all-emails": "{{#if @root.data.auth ~}}\nUPDATE subscriptionPartitions\nSET active = 0\nWHERE\n  campaign IN ({{{mysqlEscape @root.context.metaData.emailCampaignName}}}, {{{mysqlEscape @root.context.metaData.shortlistCampaignName}}}) AND\n  email = {{{mysqlEscape @root.data.auth.email}}};\n{{else}}\nSET @query=false;\n{{/if ~}}\n",
        "notifications_toggle-shortlist-subscription": "{{#if @root.data.auth ~}}\nCALL _toggleSubscriptionActiveState(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.shortlistCampaignName}}},\n  'Shortlist'\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "notifications_toggle-subscription": "{{#if @root.data.auth ~}}\nCALL _toggleSubscriptionActiveState(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.emailCampaignName}}},\n  {{{mysqlEscape @root.request.body.name}}}\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "notifications_update-email-preferences": "{{#if @root.data.auth ~}}\nCALL _setSubscriptionDays(\n  {{{mysqlEscape @root.data.auth.email}}},\n  {{{mysqlEscape @root.context.metaData.emailCampaignName}}},\n  '\n    {{~#if @root.request.body.sunday}}1{{/if~}}\n    {{~#if @root.request.body.monday}}2{{/if~}}\n    {{~#if @root.request.body.tuesday}}3{{/if~}}\n    {{~#if @root.request.body.wednesday}}4{{/if~}}\n    {{~#if @root.request.body.thursday}}5{{/if~}}\n    {{~#if @root.request.body.friday}}6{{/if~}}\n    {{~#if @root.request.body.saturday}}7{{/if~}}\n  '\n);\n{{else}}\nSET @query=false;\n{{/if ~}}",
        "organisations_currently-recruiting": "{\n  \"size\": 12,\n  \"_source\": [\n    \"Id\",\n    \"title\",\n    \"title_slug\",\n    \"slug\",\n    \"logo_url\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": [\n            {{>queries_organisation_common_filters request.params.query}}\n          ],\n          \"must\": [\n            {\n              \"term\": {\n                \"has_logo\": true\n              }\n            }\n          ]\n        }\n      },\n      \"random_score\": {},\n      \"score_mode\": \"sum\"\n    }\n  }\n}",
        "organisations_organisation": "{\n  \"size\": 1,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"charity_number\",\n    \"title\",\n    \"title_slug\",\n    \"alias\",\n    \"description\",\n    \"goodhq_organisation\",\n    \"geo_organisation_coords\",\n    \"postcode\",\n    \"has_logo\",\n    \"logo_url\",\n    \"facebook\",\n    \"facebook_url\",\n    \"twitter\",\n    \"twitter_url\",\n    \"linkedin\",\n    \"linkedin_url\",\n    \"website\",\n    \"website_url\",\n    \"rendered.json_ld\",\n    \"rendered.goodmoves_charity_info\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_organisation_common_filters request.params.query}}\n      ],\n      \"should\": [\n        {\n          \"term\": {\n            \"Id\": \"{{@root.request.params.id}}\"\n          }\n        },\n        {\n          \"term\": {\n            \"slug\": \"{{@root.request.params.id}}\"\n          }\n        }\n      ],\n      \"minimum_should_match\": 1\n    }\n  }\n}",
        "organisations_search-list": "{\n  \"size\": 12,\n  \"from\": {{multiply (subtract (default @root.request.params.query.page 1) 1) 12}},\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"charity_number\",\n    \"title\",\n    \"title_slug\",\n    \"alias\",\n    \"description\",\n    \"og_summary\",\n    \"goodhq_organisation\",\n    \"geo_organisation_coords\",\n    \"postcode\",\n    \"has_logo\",\n    \"logo_url\",\n    \"facebook\",\n    \"twitter\",\n    \"website\",\n    \"website_url\",\n    \"rendered.json_ld\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_organisation_common_filters @root.request.params.query}}\n      ],\n      \"must\": [\n        {{#if @root.request.params.query.keywords ~}}\n        {\n          \"query_string\": {\n            \"query\": {{{stringify @root.request.params.query.keywords}}},\n            \"fields\": [\"text_bag_boost^5\", \"text_bag\"],\n            \"default_operator\": \"AND\",\n            \"analyzer\": \"snowball\"\n          }\n        }\n        {{else}}\n        {\n          \"match_all\": {}\n        }\n        {{/if ~}}\n      ]\n    }\n  },\n  \"sort\": [\n    {{#if @root.request.params.query.keywords ~}}\n    \"_score\"\n    {{else}}\n    {\n      \"title_sort\": \"asc\"\n    }\n    {{/if ~}}\n  ]\n}",
        "pages_not-found": "{\n  \"size\": 4,\n  \"_source\": [\n    \"title\",\n    \"rendered.scvo_search_result\"\n  ],\n  \"query\": {\n    {{#if data.primaryResponse.hits.hits.[0] ~}}\n    \"match_none\": {}\n    {{else}}\n    \"query_string\": {\n      \"query\": \"{{{regexReplace (default request.url.path \"\") \"([^a-zA-Z0-9\\s])\" \"gi\" \" \"}}}\",\n      \"default_field\": \"text_bag_boost\",\n      \"default_operator\": \"OR\",\n      \"analyzer\": \"snowball\"\n    }\n    {{/if ~}}\n  }\n}",
        "pages_page": "{\n  \"size\": 1,\n  \"_source\": [\n    \"wpid\",\n    \"slug\",\n    \"title\",\n    \"sub_title\",\n    \"og_title\",\n    \"content\",\n    \"rendered.json_ld\",\n    \"breadcrumb\",\n    \"categories_id\",\n    \"categories_slug\",\n    \"author\",\n    \"header_background\",\n    \"header_text\",\n    \"hide_overlay\"\n  ],\n  \"query\": {\n    \"term\": {\n      \"slug\": \"{{request.params.path}}\"\n    }\n  }\n}",
        "pages_sitemap": "{\n  \"size\": 100,\n  \"_source\": [\"title\", \"updated\", \"slug\"],\n  \"query\": {\n    \"term\": {\n      \"status\": \"publish\"\n    }\n  }\n}\n",
        "pages_splash": "{\n  \"size\": 1,\n  \"_source\": [\n    \"caption\",\n    \"original_image\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"categories_id\": 573\n              }\n            }\n          ]\n        }\n      },\n      \"random_score\": {},\n      \"score_mode\": \"sum\"\n    }\n  }\n}\n",
        "posts_tfn-latest": "{\n  \"size\": 4,\n  \"_source\": [\n    \"title\",\n    \"url\",\n    \"date_published\",\n    \"image_feature\"\n  ],\n  \"query\": {\n    \"match_all\": {}\n  },\n  \"sort\": {\n    \"date_published\": \"desc\"\n  }\n}",
        "posts_tfn-related": "{\n  \"size\": 3,\n  \"_source\": [\n    \"title\",\n    \"url\",\n    \"date_published\",\n    \"image_feature\"\n  ],\n  \"query\": {\n    \"more_like_this\" : {\n      \"fields\" : [\"text_bag\"],\n      \"like\" : \"{{data.primaryResponse.hits.hits.[0]._source.text_bag_boost}}\",\n      \"min_term_freq\" : 1,\n      \"max_query_terms\" : 12\n    }\n  }\n}",
        "vacancies_home-latest-personalised": "{\n  \"size\": 10,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ],\n      {{#ifAll @root.data.auth @root.data.searches.items.[0] ~}}\n      \"should\": [\n        {{#each @root.data.searches.items.[0] ~}}\n          {{#with (querystring querystring) ~}}\n            {\n              \"bool\": {\n                \"filter\": [\n                  {{>queries_vacancy_search_filters this}}\n                ],\n                \"must\": [\n                  {{>queries_vacancy_search_must this}}\n                ]\n              }\n            }\n            {{#unless @last}},{{/unless}}\n          {{/with ~}}\n        {{/each ~}}\n      ],\n      \"minimum_should_match\": 1\n      {{else}}\n      \"must\": [\n        {\n          \"match_none\": {}\n        }\n      ]\n      {{/ifAll ~}}\n    }\n  },\n  \"sort\": {\n    \"start_at\": \"desc\"\n  }\n}\n",
        "vacancies_home-latest": "{\n  \"size\": 10,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ]\n    }\n  },\n  \"sort\": {\n    \"start_at\": \"desc\"\n  }\n}\n",
        "vacancies_home-top": "{\n  \"size\": 10,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": [\n            {{>queries_vacancy_common_filters_open request.params.query}}\n          ],\n          \"must\": [\n            {\n              \"term\": {\n                \"top_job\": true\n              }\n            }\n          ]\n        }\n      },\n      \"random_score\": {},\n      \"score_mode\": \"sum\"\n    }\n  }\n}\n",
        "vacancies_jobs-in-list": "{\n  \"size\": 1000,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"geo_info\",\n    \"home_based\",\n    \"various_locations\",\n    \"location\",\n    \"salary\",\n    \"salary_currency\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\",\n    \"rendered.goodmoves_rss\",\n    \"admin_district\",\n    \"admin_district_slug\",\n    \"admin_ward\",\n    \"admin_ward_slug\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": [\n            {{>queries_vacancy_common_filters_open @root.request.params.query}},\n            {{>queries_vacancy_search_filters @root.request.params.query}},\n            {\n              \"term\": {\n                \"admin_district_slug\": {{{stringify @root.request.params.district}}}\n              }\n            }\n            {{#if @root.request.params.ward}}\n              , {\n                \"term\": {\n                  \"admin_ward_slug\": {{{stringify @root.request.params.ward}}}\n                }\n              }\n            {{/if}}\n          ],\n          \"must\": [\n            {{>queries_vacancy_search_must @root.request.params.query}}\n          ]\n        }\n      },\n      \"boost\": 1,\n      \"functions\": [\n        {\n          \"filter\": {\n            \"match\": {\n              \"top_job\": true\n            }\n          },\n          \"weight\": 2\n        }\n      ],\n      \"max_boost\": 10,\n      \"score_mode\": \"max\",\n      \"boost_mode\": \"multiply\",\n      \"min_score\" : 0\n    }\n  },\n  {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}}\n  \"script_fields\" : {\n    \"distance\" : {\n      \"script\" : {\n        \"inline\": \"doc['geo_coords'].arcDistance(params.lat,params.lon) * 0.000621371\",\n        \"lang\": \"painless\",\n        \"params\": {\n          \"lat\": {{request.params.query.lat}},\n          \"lon\": {{request.params.query.lng}}\n        }\n      }\n    }\n  },\n  {{/ifAll ~}}\n  \"sort\": [\n    {{#if @root.request.params.query.sort ~}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_low\" ~}}\n    {\n      \"salary_min\": \"asc\"\n    },\n    {\n      \"salary_max\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_high\" ~}}\n    {\n      \"salary_min\": \"desc\"\n    },\n    {\n      \"salary_max\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"newest\" ~}}\n    {\n      \"start_at\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"oldest\" ~}}\n    {\n      \"start_at\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"closing_soon\" ~}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"distance\" ~}}\n    {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}}\n    {\n      \"_geo_distance\": {\n        \"geo_coords\": {\n          \"lat\": {{request.params.query.lat}},\n          \"lon\": {{request.params.query.lng}}\n        },\n        \"order\": \"asc\",\n        \"unit\": \"km\",\n        \"mode\": \"min\",\n        \"distance_type\": \"arc\"\n      }\n    }\n    {{else}}\n    \"_score\"\n    {{/ifAll ~}}\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"relevance\" ~}}\n    \"_score\",\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{else}}\n    \"_score\",\n    {\n      \"start_at\": \"desc\"\n    }\n    {{/if ~}}\n  ]\n}\n",
        "vacancies_local-authority-areas": "{\n  \"size\": 0,\n  \"_source\": false,\n  {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng @root.request.params.query.distance ~}}\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"geo_shape\": {\n            \"shape\": {\n              \"shape\": {\n                \"type\": \"circle\",\n                \"coordinates\": [\n                  {{@root.request.params.query.lng}},\n                  {{@root.request.params.query.lat}}\n                ],\n                \"radius\": \"{{default @root.request.params.query.distance \"10\"}}mi\"\n              }\n            }\n          }\n        }\n      ]\n    }\n  },\n  \"aggs\": {\n    \"local_authority_areas\": {\n      \"terms\": {\n        \"field\": \"place\",\n        \"size\" : 10000\n      }\n    }\n  }\n  {{else}}\n  \"query\": {\n    \"match_none\": {}\n  }\n  {{/ifAll ~}}\n}\n",
        "vacancies_notes-closed": "{\n  \"size\": 100,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\"\n  ],\n  \"query\": {\n    {{#if data.notes ~}}\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_closed request.params.query}}\n      ],\n      \"must\": [\n        {{>queries_terms field=\"Id\" terms=(getKeys data.notes)}}\n      ]\n    }\n    {{else}}\n    \"match_none\": {}\n    {{/if ~}}\n  },\n  \"sort\": [\n    {{#if @root.request.params.query.sort ~}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_low\" ~}}\n    {\n      \"salary_min\": \"asc\"\n    },\n    {\n      \"salary_max\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_high\" ~}}\n    {\n      \"salary_min\": \"desc\"\n    },\n    {\n      \"salary_max\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"newest\" ~}}\n    {\n      \"start_at\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"oldest\" ~}}\n    {\n      \"start_at\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"closing_soon\" ~}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{else}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{else}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{/if ~}}\n  ]\n}\n",
        "vacancies_notes-open": "{\n  \"size\": 100,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\"\n  ],\n  \"query\": {\n    {{#if data.notes ~}}\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ],\n      \"must\": [\n        {{>queries_terms field=\"Id\" terms=(getKeys data.notes)}}\n      ]\n    }\n    {{else}}\n    \"match_none\": {}\n    {{/if ~}}\n  },\n  \"sort\": [\n    {{#if @root.request.params.query.sort ~}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_low\" ~}}\n    {\n      \"salary_min\": \"asc\"\n    },\n    {\n      \"salary_max\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_high\" ~}}\n    {\n      \"salary_min\": \"desc\"\n    },\n    {\n      \"salary_max\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"newest\" ~}}\n    {\n      \"start_at\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"oldest\" ~}}\n    {\n      \"start_at\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"closing_soon\" ~}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{else}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{else}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{/if ~}}\n  ]\n}\n",
        "vacancies_organisation-vacancies-closed": "{\n  \"size\": 100,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"salary_info\",\n    \"benefits\",\n    \"reference_number\",\n    \"application_notes\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\",\n    \"organisation.website\",\n    \"organisation.profile\",\n    \"organisation_website_url\",\n    \"rendered.goodmoves_sponsor_logos\",\n    \"rendered.goodmoves_downloads\",\n    \"rendered.rss\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_closed request.params.query}}\n      ],\n      \"must\": [\n        {\n          \"term\": {\n            \"organisation.id\": \"{{data.primaryResponse.hits.hits.[0]._source.Id}}\"\n          }\n        }\n      ]\n    }\n  },\n  \"sort\": {\n    \"start_at\": \"asc\"\n  }\n}\n",
        "vacancies_organisation-vacancies-open": "{\n  \"size\": 100,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"salary_info\",\n    \"benefits\",\n    \"reference_number\",\n    \"application_notes\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\",\n    \"organisation.website\",\n    \"organisation.profile\",\n    \"organisation_website_url\",\n    \"rendered.goodmoves_sponsor_logos\",\n    \"rendered.goodmoves_downloads\",\n    \"rendered.rss\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ],\n      \"must\": [\n        {\n          \"term\": {\n            \"organisation.id\": \"{{data.primaryResponse.hits.hits.[0]._source.Id}}\"\n          }\n        }\n      ]\n    }\n  },\n  \"sort\": {\n    \"top_job\": \"desc\",\n    \"start_at\": \"asc\"\n  }\n}\n",
        "vacancies_organisations-currently-recruiting": "{\n  \"size\": 0,\n  \"_source\": false,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ]\n    }\n  },\n  \"aggs\": {\n    \"organisations\": {\n      \"terms\": {\n        \"field\": \"organisation.id\",\n        \"size\": 10000\n      }\n    }\n  }\n}",
        "vacancies_organisations": "{\n  \"size\": 0,\n  \"_source\": false,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters request.params.query}}\n      ]\n    }\n  },\n  \"aggs\": {\n    \"organisations\": {\n      \"terms\": {\n        \"field\": \"organisation.id\",\n        \"size\": 10000\n      }\n    }\n  }\n}",
        "vacancies_recently-viewed": "{\n  \"size\": 10,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ],\n      \"must\": [\n        {{#if @root.request.cookies.recently_viewed}}\n        {\n          \"terms\": {\n            \"Id\": {{{stringify (split @root.request.cookies.recently_viewed ',')}}}\n          }\n        }\n        {{else}}\n        {\n          \"match_none\": {}\n        }\n        {{/if}}\n      ]\n    }\n  }\n}\n",
        "vacancies_related": "{\n  \"size\": 4,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"salary_min\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"roles_slugs\",\n    \"sectors_slugs\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\",\n    \"remuneration_type\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        {{#compare @root.data.primaryResponse.hits.total \">\" 0}}\n        \"bool\": {\n          \"must\": [\n            {{>queries_vacancy_common_filters_open @root.request.params.query}}\n          ],\n          \"must_not\": [\n            {{>queries_term field=\"Id\" term=@root.data.primaryResponse.hits.hits.[0]._source.Id}}\n          ]\n        }\n        {{else}}\n        \"match_none\": {}\n        {{/compare}}\n      },\n      \"boost\": \"5\",\n      \"functions\": [\n        {{#each @root.data.primaryResponse.hits.hits.[0]._source.sectors ~}}\n        {\n          \"filter\": {\n            \"match\": {\n              \"sectors\": \"{{this}}\"\n            }\n          },\n          \"weight\": 1\n        },\n        {{/each ~}}\n        {{#each @root.data.primaryResponse.hits.hits.[0]._source.roles ~}}\n        {\n          \"filter\": {\n            \"match\": {\n              \"roles\": \"{{this}}\"\n            }\n          },\n          \"weight\": 1\n        },\n        {{/each ~}}\n        {{#if @root.data.primaryResponse.hits.hits.[0]._source.salary_min ~}}\n        {\n          \"gauss\": {\n            \"salary_min\": {\n              \"origin\": \"{{@root.data.primaryResponse.hits.hits.[0]._source.salary_min}}\",\n              \"scale\": \"1000\",\n              \"offset\": \"10000\",\n              \"decay\": 0.1\n            }\n          }\n        },\n        {{/if ~}}\n        {{#if @root.data.primaryResponse.hits.hits.[0]._source.remuneration_type ~}}\n        {\n          \"filter\": {\n            \"match\": {\n              \"remuneration_type\": \"{{@root.data.primaryResponse.hits.hits.[0]._source.remuneration_type}}\"\n            }\n          },\n          \"weight\": 1\n        },\n        {{/if ~}}\n        {{#if @root.data.primaryResponse.hits.hits.[0]._source.organisation.field_of_work ~}}\n        {\n          \"filter\": {\n            \"match\": {\n              \"organisation.field_of_work\": \"{{@root.data.primaryResponse.hits.hits.[0]._source.organisation.field_of_work}}\"\n            }\n          },\n          \"weight\": 5\n        },\n        {{/if ~}}\n        {{#if @root.data.primaryResponse.hits.hits.[0]._source.organisation.name ~}}\n        {\n          \"filter\": {\n            \"more_like_this\": {\n              \"fields\": [\"organisation.name^2\",\"text_bag\"],\n              \"like\": \"{{@root.data.primaryResponse.hits.hits.[0]._source.organisation.name}}\",\n              \"min_term_freq\": 1,\n              \"max_query_terms\": 12\n            }\n          },\n          \"weight\": 2\n        },\n        {{/if ~}}\n        {{#each @root.data.primaryResponse.hits.hits.[0]._source.geo_coords ~}}\n        {\n          \"gauss\": {\n            \"geo_coords\": {\n              \"origin\": { \"lat\": {{lat}}, \"lon\": {{lon}} },\n              \"offset\": \"2km\",\n              \"scale\":  \"10km\"\n            }\n          },\n          \"weight\": 2\n        },\n        {{/each ~}}\n        {\n          \"filter\": {\n            \"more_like_this\": {\n              \"fields\": [\"title^5\",\"text_bag\"],\n              \"like\": \"{{@root.data.primaryResponse.hits.hits.[0]._source.title}}\",\n              \"min_term_freq\": 1,\n              \"max_query_terms\": 12\n            }\n          },\n          \"weight\": 3\n        }\n      ],\n      \"max_boost\": 50,\n      \"score_mode\": \"sum\",\n      \"boost_mode\": \"multiply\",\n      \"min_score\" : 1\n    }\n  }\n}\n",
        "vacancies_search-all": "{\n  \"size\": 200,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"home_based\",\n    \"various_locations\",\n    \"location\",\n    \"salary\",\n    \"salary_currency\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\",\n    \"rendered.goodmoves_rss\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {{#each (split templateMetaData.querystrings \"&&\")}}\n              {{#with (querystring this)}}\n              {\n                \"bool\": {\n                  \"filter\": [\n                    {{>queries_vacancy_common_filters_open this}},\n                    {{>queries_vacancy_search_filters this}}\n                  ],\n                  \"must\": [\n                    {{>queries_vacancy_search_must this}}\n                  ]\n                }\n                {{/with}}\n              }{{#unless @last}},{{/unless}}\n            {{/each}}\n          ]\n        }\n      },\n      \"boost\": 1,\n      \"functions\": [\n        {\n          \"filter\": {\n            \"match\": {\n              \"top_job\": true\n            }\n          },\n          \"weight\": 5\n        }\n      ],\n      \"max_boost\": 10,\n      \"score_mode\": \"max\",\n      \"boost_mode\": \"multiply\",\n      \"min_score\" : 0\n    }\n  },\n  \"sort\": [\n    {\n      \"start_at\": \"asc\"\n    }\n  ]\n}\n",
        "vacancies_search-list": "{\n  \"size\": 10,\n  \"from\": {{multiply (subtract (default @root.request.params.query.page 1) 1) 10}},\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"home_based\",\n    \"various_locations\",\n    \"location\",\n    \"salary\",\n    \"salary_currency\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\",\n    \"rendered.goodmoves_rss\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": [\n            {{>queries_vacancy_common_filters_open @root.request.params.query}},\n            {{>queries_vacancy_search_filters @root.request.params.query}}\n          ],\n          \"must\": [\n            {{>queries_vacancy_search_must @root.request.params.query}}\n          ]\n        }\n      },\n      \"boost\": 1,\n      \"functions\": [\n        {\n          \"filter\": {\n            \"match\": {\n              \"top_job\": true\n            }\n          },\n          \"weight\": 2\n        }\n      ],\n      \"max_boost\": 10,\n      \"score_mode\": \"max\",\n      \"boost_mode\": \"multiply\",\n      \"min_score\" : 0\n    }\n  },\n  \"sort\": [\n    {{#if @root.request.params.query.sort ~}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_low\" ~}}\n    {\n      \"salary_min\": \"asc\"\n    },\n    {\n      \"salary_max\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_high\" ~}}\n    {\n      \"salary_min\": \"desc\"\n    },\n    {\n      \"salary_max\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"newest\" ~}}\n    {\n      \"start_at\": \"desc\"\n    },\n    \"_score\"\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"oldest\" ~}}\n    {\n      \"start_at\": \"asc\"\n    },\n    \"_score\"\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"closing_soon\" ~}}\n    {\n      \"closing_date\": \"asc\"\n    },\n    \"_score\"\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"distance\" ~}}\n    {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}}\n    {\n      \"_geo_distance\": {\n        \"geo_coords\": {\n          \"lat\": {{request.params.query.lat}},\n          \"lon\": {{request.params.query.lng}}\n        },\n        \"order\": \"asc\",\n        \"unit\": \"km\",\n        \"mode\": \"min\",\n        \"distance_type\": \"arc\"\n      }\n    },\n    {\n      \"start_at\": \"desc\"\n    }\n    {{else}}\n    \"_score\",\n    {\n      \"start_at\": \"desc\"\n    }\n    {{/ifAll ~}}\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"relevance\" ~}}\n    \"_score\",\n    {\n      \"start_at\": \"desc\"\n    }\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{else}}\n    \"_score\",\n    {\n      \"start_at\": \"desc\"\n    }\n    {{/if ~}}\n    {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}},\n    {\n      \"_geo_distance\": {\n        \"geo_coords\": {\n          \"lat\": {{request.params.query.lat}},\n          \"lon\": {{request.params.query.lng}}\n        },\n        \"order\": \"asc\",\n        \"unit\": \"km\",\n        \"mode\": \"min\",\n        \"distance_type\": \"arc\"\n      }\n    }\n    {{/ifAll ~}}\n  ]\n}\n",
        "vacancies_search-map": "{\n  \"size\": 1000,\n  \"_source\": [\n    \"Id\",\n    \"title\",\n    \"title_slug\",\n    \"organisation.name\",\n    \"organisation.logo\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"geo_coords\",\n    \"geo_info\",\n    \"regions_scotland_slugs\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"home_based\",\n    \"various_locations\",\n    \"salary\",\n    \"role_status_list\",\n    \"location\",\n    \"postcodes\",\n    \"slug\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open @root.request.params.query}},\n        {{>queries_vacancy_search_filters @root.request.params.query}}\n      ],\n      \"must\": [\n        {{>queries_vacancy_search_must @root.request.params.query}}\n      ],\n      \"must_not\": [\n        {\n          \"term\": {\n            \"home_based\": true\n          }\n        },\n        {\n          \"term\": {\n            \"various_locations\": true\n          }\n        }\n      ]\n    }\n  },\n  {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}}\n  \"script_fields\": {\n    \"distance\": {\n      \"script\": {\n        \"inline\": \"def l = new ArrayList(); for (int i=0; i<doc['geo_coords'].values.length; i++) { double dist = Double.MAX_VALUE; double TO_METERS = 6371008.7714D; double TO_RADIANS = Math.PI / 180D; double doc_lat, doc_lon, x1, x2, h1, h2, h, cdist; doc_lat = params._source['geo_coords'][i].lat; doc_lon = params._source['geo_coords'][i].lon; x1 = doc_lat * TO_RADIANS; x2 = params.lat * TO_RADIANS; h1 = 1 - Math.cos(x1 - x2); h2 = 1 - Math.cos((doc_lon - params.lon) * TO_RADIANS); h = h1 + Math.cos(x1) * Math.cos(x2) * h2; cdist = TO_METERS * 2 * Math.asin(Math.min(1, Math.sqrt(h * 0.5))); dist = Math.min(dist, cdist); l.add(dist * 0.001) } return l;\",\n        \"lang\": \"painless\",\n        \"params\": {\n          \"lat\": {{@root.request.params.query.lat}},\n          \"lon\": {{@root.request.params.query.lng}}\n        }\n      }\n    }\n  },\n  {{/ifAll ~}}\n  \"sort\": [\n    {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng ~}}\n      {\n        \"_geo_distance\": {\n          \"geo_coords\": {\n            \"lat\": {{@root.request.params.query.lat}},\n            \"lon\": {{@root.request.params.query.lng}}\n          },\n          \"order\": \"asc\",\n          \"unit\": \"km\",\n          \"mode\": \"min\",\n          \"distance_type\": \"arc\"\n        }\n      }\n    {{else}}\n      {\n        \"closing_date\": \"asc\"\n      }\n    {{/ifAll ~}}\n  ]\n}\n",
        "vacancies_search-rss": "{\n  \"size\": 1000,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description_short\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\",\n    \"rendered.goodmoves_rss\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ]\n    }\n  },\n  \"sort\": [\n    {\n      \"start_at\": \"desc\"\n    }\n  ]\n}\n",
        "vacancies_shortlist-closed": "{\n  \"size\": 100,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_closed request.params.query}}\n      ],\n      \"must\": [\n        {\n          \"terms\": {\n            \"Id\": {{{stringify (map data.shortlist.items.[0] (getProp \"value\"))}}}\n          }\n        }\n      ]\n    }\n  },\n  \"sort\": [\n    {{#if @root.request.params.query.sort ~}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_low\" ~}}\n    {\n      \"salary_min\": \"asc\"\n    },\n    {\n      \"salary_max\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_high\" ~}}\n    {\n      \"salary_min\": \"desc\"\n    },\n    {\n      \"salary_max\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"newest\" ~}}\n    {\n      \"start_at\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"oldest\" ~}}\n    {\n      \"start_at\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"closing_soon\" ~}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{else}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{else}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{/if ~}}\n  ]\n}",
        "vacancies_shortlist-open": "{\n  \"size\": 100,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ],\n      \"must\": [\n        {\n          \"terms\": {\n            \"Id\": {{{stringify (map data.shortlist.items.[0] (getProp \"value\"))}}}\n          }\n        }\n      ]\n    }\n  },\n  \"sort\": [\n    {{#if @root.request.params.query.sort ~}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_low\" ~}}\n    {\n      \"salary_min\": \"asc\"\n    },\n    {\n      \"salary_max\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"salary_high\" ~}}\n    {\n      \"salary_min\": \"desc\"\n    },\n    {\n      \"salary_max\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"newest\" ~}}\n    {\n      \"start_at\": \"desc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"oldest\" ~}}\n    {\n      \"start_at\": \"asc\"\n    }\n    {{else}}\n    {{#compare @root.request.params.query.sort \"===\" \"closing_soon\" ~}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{else}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{/compare ~}}\n    {{else}}\n    {\n      \"closing_date\": \"asc\"\n    }\n    {{/if ~}}\n  ]\n}\n",
        "vacancies_sitemap": "{\n  \"size\": 1000,\n  \"_source\": [\"slug\", \"start_at\"],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open request.params.query}}\n      ]\n    }\n  },\n  \"aggs\": {\n    \"organisations\": {\n      \"terms\": {\n        \"field\": \"organisation.slug\",\n        \"size\": 10000\n      },\n      \"aggs\": {\n        \"last_updated\": {\n          \"max\": {\n            \"field\": \"start_at\"\n          }\n        }\n      }\n    }\n  }\n}\n",
        "vacancies_types-regions-belgium": "{\n  \"size\": 0,\n  \"_source\": false,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open @root.request.params.query}}\n      ],\n      \"must_not\": [\n        {\n          \"term\": {\n            \"home_based\": true\n          }\n        },\n        {\n          \"term\": {\n            \"various_locations\": true\n          }\n        }\n      ]\n    }\n  },\n  \"aggs\": {\n    \"regions\": {\n      \"terms\": {\n        \"field\": \"region_group_belgium\",\n        \"size\": 10000\n      }\n    },\n    \"regions_slugs\": {\n      \"terms\": {\n        \"field\": \"region_group_belgium_slug\",\n        \"size\": 10000\n      }\n    }\n  }\n}\n",
        "vacancies_types-regions-england": "{\n  \"size\": 0,\n  \"_source\": false,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open @root.request.params.query}}\n      ],\n      \"must_not\": [\n        {\n          \"term\": {\n            \"home_based\": true\n          }\n        },\n        {\n          \"term\": {\n            \"various_locations\": true\n          }\n        }\n      ]\n    }\n  },\n  \"aggs\": {\n    \"regions\": {\n      \"terms\": {\n        \"field\": \"region_group_england\",\n        \"size\": 10000\n      }\n    },\n    \"regions_slugs\": {\n      \"terms\": {\n        \"field\": \"region_group_england_slug\",\n        \"size\": 10000\n      }\n    }\n  }\n}\n",
        "vacancies_types-regions-northern-ireland": "{\n  \"size\": 0,\n  \"_source\": false,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open @root.request.params.query}}\n      ],\n      \"must_not\": [\n        {\n          \"term\": {\n            \"home_based\": true\n          }\n        },\n        {\n          \"term\": {\n            \"various_locations\": true\n          }\n        }\n      ]\n    }\n  },\n  \"aggs\": {\n    \"regions\": {\n      \"terms\": {\n        \"field\": \"region_group_northern_ireland\",\n        \"size\": 10000\n      }\n    },\n    \"regions_slugs\": {\n      \"terms\": {\n        \"field\": \"region_group_northern_ireland_slug\",\n        \"size\": 10000\n      }\n    }\n  }\n}\n",
        "vacancies_types-regions-scotland": "{\n  \"size\": 0,\n  \"_source\": false,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open @root.request.params.query}}\n      ],\n      \"must_not\": [\n        {\n          \"term\": {\n            \"home_based\": true\n          }\n        },\n        {\n          \"term\": {\n            \"various_locations\": true\n          }\n        }\n      ]\n    }\n  },\n  \"aggs\": {\n    \"regions\": {\n      \"terms\": {\n        \"field\": \"regions_scotland\",\n        \"size\": 10000\n      }\n    },\n    \"regions_slugs\": {\n      \"terms\": {\n        \"field\": \"regions_scotland_slugs\",\n        \"size\": 10000\n      }\n    }\n  }\n}\n",
        "vacancies_types-regions-wales": "{\n  \"size\": 0,\n  \"_source\": false,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open @root.request.params.query}}\n      ],\n      \"must_not\": [\n        {\n          \"term\": {\n            \"home_based\": true\n          }\n        },\n        {\n          \"term\": {\n            \"various_locations\": true\n          }\n        }\n      ]\n    }\n  },\n  \"aggs\": {\n    \"regions\": {\n      \"terms\": {\n        \"field\": \"region_group_wales\",\n        \"size\": 10000\n      }\n    },\n    \"regions_slugs\": {\n      \"terms\": {\n        \"field\": \"region_group_wales_slug\",\n        \"size\": 10000\n      }\n    }\n  }\n}\n",
        "vacancies_types": "{\n  \"size\": 0,\n  \"_source\": false,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters_open @root.request.params.query}}\n      ]\n    }\n  },\n  \"aggs\": {\n    \"sectors\": {\n      \"terms\": {\n        \"field\": \"sectors\",\n        \"order\": {\n          \"_term\": \"asc\"\n        },\n        \"size\": 10000\n      }\n    },\n    \"sectors_slugs\": {\n      \"terms\": {\n        \"field\": \"sectors_slugs\",\n        \"order\": {\n          \"_term\": \"asc\"\n        },\n        \"size\": 10000\n      }\n    },\n    \"roles\": {\n      \"terms\": {\n        \"field\": \"roles\",\n        \"order\": {\n          \"_term\": \"asc\"\n        },\n        \"size\": 10000\n      }\n    },\n    \"roles_slugs\": {\n      \"terms\": {\n        \"field\": \"roles_slugs\",\n        \"order\": {\n          \"_term\": \"asc\"\n        },\n        \"size\": 10000\n      }\n    },\n    \"working_patterns\": {\n      \"terms\": {\n        \"field\": \"role_status\",\n        \"size\": 10000\n      }\n    },\n    \"working_patterns_slugs\": {\n      \"terms\": {\n        \"field\": \"role_status_slug\",\n        \"size\": 10000\n      }\n    },\n    \"regions\": {\n      \"terms\": {\n        \"field\": \"region_group\",\n        \"order\": {\n          \"_term\": \"asc\"\n        },\n        \"size\": 10000\n      }\n    },\n    \"regions_slugs\": {\n      \"terms\": {\n        \"field\": \"region_group_slug\",\n        \"order\": {\n          \"_term\": \"asc\"\n        },\n        \"size\": 10000\n      }\n    },\n    \"home_based\": {\n      \"terms\": {\n        \"field\": \"home_based\",\n        \"size\": 10000\n      }\n    },\n    \"various_locations\": {\n      \"terms\": {\n        \"field\": \"various_locations\",\n        \"size\": 10000\n      }\n    },\n    \"districts\": {\n      \"nested\": {\n        \"path\": \"districts\"\n      },\n      \"aggs\": {\n        \"district_names\": {\n          \"terms\": {\n            \"field\": \"districts.name\",\n            \"size\": 1000\n          },\n          \"aggs\": {\n            \"wards\": {\n              \"nested\": {\n                \"path\": \"districts.wards\"\n              },\n              \"aggs\": {\n                \"ward_names\": {\n                  \"terms\": {\n                    \"field\": \"districts.wards.name\",\n                    \"size\": 1000\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",
        "vacancies_vacancy": "{\n  \"size\": 1,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"top_job\",\n    \"sectors\",\n    \"sectors_slugs\",\n    \"roles\",\n    \"roles_slugs\",\n    \"role_status_list\",\n    \"description\",\n    \"title\",\n    \"title_slug\",\n    \"start_at\",\n    \"geo_coords\",\n    \"geo_info\",\n    \"location\",\n    \"salary\",\n    \"salary_info\",\n    \"salary_min\",\n    \"salary_max\",\n    \"remuneration_type\",\n    \"benefits\",\n    \"reference_number\",\n    \"application_notes\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"home_based\",\n    \"postcodes\",\n    \"various_locations\",\n    \"organisation.slug\",\n    \"organisation.name\",\n    \"organisation.id\",\n    \"organisation.name_slug\",\n    \"organisation.street_address\",\n    \"organisation.postcode\",\n    \"organisation.has_logo\",\n    \"organisation.logo_url\",\n    \"organisation.profile\",\n    \"organisation_website\",\n    \"organisation_website_url\",\n    \"organisation_twitter\",\n    \"organisation_twitter_url\",\n    \"organisation_facebook\",\n    \"organisation_facebook_url\",\n    \"organisation_linkedin\",\n    \"organisation_linkedin_url\",\n    \"organisation.field_of_work\",\n    \"rendered.goodmoves_sponsor_logos\",\n    \"rendered.goodmoves_downloads\",\n    \"rendered.goodmoves_rss\"\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {{>queries_vacancy_common_filters request.params.query}}\n      ],\n      \"should\": [\n        {\n          \"term\": {\n            \"Id\": \"{{@root.request.params.id}}\"\n          }\n        },\n        {\n          \"term\": {\n            \"slug\": \"{{@root.request.params.id}}\"\n          }\n        }\n      ],\n      \"minimum_should_match\": 1\n    }\n  }\n}\n",
        "volunteering_home-latest": "{\n  \"size\": 10,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"title\",\n    \"title_slug\",\n    \"description\",\n    \"available_from\",\n    \"themes\",\n    \"themes_slugs\",\n    \"description\",\n    \"end_date\",\n    \"geo\",\n    \"postcode\",\n    \"volunteersearch_type\",\n    \"volunteersearch_type_slugs\",\n    \"organisation_slug\",\n    \"organisation_name\",\n    \"organisation_aims_and_objectives\",\n    \"travel_expenses\",\n    \"work_location\",\n    \"activities\",\n    \"activities_slugs\",\n    \"top_job\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation_id\",\n    \"organisation_slug\",\n    \"organisation_name_slug\",\n    \"organisation_name\",\n    \"organisation_has_logo\",\n    \"organisation_logo_url\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": [\n            {{>queries_opportunity_common_filters @root.request.params.query}},\n            {{>queries_opportunity_search_filters @root.request.params.query}}\n          ],\n          \"must\": [\n            {{>queries_opportunity_search_must @root.request.params.query}}\n          ]\n        }\n      },\n      \"boost\": 1,\n      \"functions\": [\n        {\n          \"filter\": [\n            {\n              \"bool\": {\n                \"must\": [\n                  {\n                    \"term\": {\n                      \"_type\": {\n                        \"value\" : \"goodmoves-vacancy\"\n                      }\n                    }\n                  },\n                  {\n                    \"match\": {\n                      \"top_job\": true\n                    }\n                  }\n                ]\n              }\n            }\n          ],\n          \"weight\": 2\n        }\n      ],\n      \"max_boost\": 10,\n      \"score_mode\": \"max\",\n      \"boost_mode\": \"multiply\",\n      \"min_score\" : 0\n    }\n  },\n  \"sort\": {\n    \"date_last_modified\": \"desc\"\n  }\n}\n",
        "volunteering_home-top": "{\n  \"size\": 10,\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"title\",\n    \"title_slug\",\n    \"description\",\n    \"available_from\",\n    \"themes\",\n    \"themes_slugs\",\n    \"description\",\n    \"end_date\",\n    \"geo\",\n    \"postcode\",\n    \"volunteersearch_type\",\n    \"volunteersearch_type_slugs\",\n    \"organisation_slug\",\n    \"organisation_name\",\n    \"organisation_aims_and_objectives\",\n    \"travel_expenses\",\n    \"work_location\",\n    \"activities\",\n    \"activities_slugs\",\n    \"top_job\",\n    \"geo_coords\",\n    \"location\",\n    \"salary\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation_id\",\n    \"organisation_slug\",\n    \"organisation_name_slug\",\n    \"organisation_name\",\n    \"organisation_has_logo\",\n    \"organisation_logo_url\"\n  ],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": [\n            {{>queries_opportunity_common_filters @root.request.params.query}},\n            {{>queries_opportunity_search_filters @root.request.params.query}}\n          ],\n          \"must\": [\n            {{>queries_opportunity_search_must @root.request.params.query}}\n          ]\n        }\n      },\n      \"boost\": 1,\n      \"functions\": [\n        {\n          \"filter\": [\n            {\n              \"bool\": {\n                \"must\": [\n                  {\n                    \"term\": {\n                      \"_type\": {\n                        \"value\" : \"goodmoves-vacancy\"\n                      }\n                    }\n                  },\n                  {\n                    \"match\": {\n                      \"top_job\": true\n                    }\n                  }\n                ]\n              }\n            }\n          ],\n          \"weight\": 2\n        }\n      ],\n      \"max_boost\": 10,\n      \"score_mode\": \"max\",\n      \"boost_mode\": \"multiply\",\n      \"min_score\" : 0\n    }\n  },\n  \"sort\": {\n    \"_score\": \"desc\"\n  }\n}\n",
        "volunteering_local-authority-areas": "{\n  \"size\": 0,\n  \"_source\": false,\n  {{#ifAll @root.request.params.query.location @root.request.params.query.lat @root.request.params.query.lng @root.request.params.query.distance ~}}\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"geo_shape\": {\n            \"shape\": {\n              \"shape\": {\n                \"type\": \"circle\",\n                \"coordinates\": [\n                  {{@root.request.params.query.lng}},\n                  {{@root.request.params.query.lat}}\n                ],\n                \"radius\": \"{{default @root.request.params.query.distance \"10\"}}mi\"\n              }\n            }\n          }\n        }\n      ]\n    }\n  },\n  \"aggs\": {\n    \"local_authority_areas\": {\n      \"terms\": {\n        \"field\": \"place\",\n        \"size\" : 10000\n      }\n    }\n  }\n  {{else}}\n  \"query\": {\n    \"match_none\": {}\n  }\n  {{/ifAll ~}}\n}\n",
        "volunteering_search-list": "{\n  \"size\": 10,\n  \"from\": {{multiply (subtract (default @root.request.params.query.page 1) 1) 10}},\n  \"highlight\": {\n    \"fields\": {\n      \"text_bag\": {},\n      \"text_bag_boost\": {}\n    }\n  },\n  \"_source\": [\n    \"Id\",\n    \"slug\",\n    \"title\",\n    \"title_slug\",\n    \"available_from\",\n    \"themes\",\n    \"themes_slugs\",\n    \"date_last_modified\",\n    \"description\",\n    \"goodhq_organisation.image_url\",\n    \"advertised_areas\",\n    \"geo\",\n    \"postcode\",\n    \"volunteersearch_type\",\n    \"volunteersearch_type_slugs\",\n    \"organisation_slug\",\n    \"organisation_name\",\n    \"organisation_aims_and_objectives\",\n    \"activities\",\n    \"activities_slugs\",\n    \"top_job\",\n    \"geo_coords\",\n    \"home_based\",\n    \"various_locations\",\n    \"location\",\n    \"salary\",\n    \"salary_currency\",\n    \"role_status_list\",\n    \"active\",\n    \"closing_date\",\n    \"start_at\",\n    \"end_at\",\n    \"organisation_id\",\n    \"organisation_slug\",\n    \"organisation_name_slug\",\n    \"organisation_name\",\n    \"organisation_has_logo\",\n    \"organisation_logo_url\"\n  ],\n  {{#ifAll @root.request.params.query.lat @root.request.params.query.lng}}\n  \"script_fields\": {\n    \"distance\": {\n      \"script\": {\n        \"params\": {\n          \"lat\": {{@root.request.params.query.lat}},\n          \"lon\": {{@root.request.params.query.lng}}\n        },\n        \"source\": \"if (!doc['geo_coords'].empty) { doc['geo_coords'].arcDistance(params.lat, params.lon) * 0.000621371; }\"\n      }\n    }\n  },\n  {{/ifAll}}\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": [\n            {{>queries_opportunity_common_filters @root.request.params.query}},\n            {{>queries_opportunity_search_filters @root.request.params.query}}\n          ],\n          \"must\": [\n            {{>queries_opportunity_search_must @root.request.params.query}}\n          ]\n        }\n      },\n      \"boost\": 1,\n      \"functions\": [\n        {\n          \"filter\": [\n            {\n              \"bool\": {\n                \"must\": [\n                  {\n                    \"term\": {\n                      \"_type\": {\n                        \"value\" : \"goodmoves-vacancy\"\n                      }\n                    }\n                  }\n                ]\n              }\n            }\n          ],\n          \"weight\": 2\n        }\n      ],\n      \"max_boost\": 10,\n      \"score_mode\": \"max\",\n      \"boost_mode\": \"multiply\",\n      \"min_score\" : 0\n    }\n  }\n  {{#if @root.request.params.query.sort}},\n  \"sort\": [\n    {{#switch @root.request.params.query.sort}}\n      {{#case \"distance\"}}\n        {{#ifAll @root.request.params.query.lat @root.request.params.query.lng}}\n          {\n            \"_geo_distance\": {\n              \"geo_coords\": {\n                \"lat\": {{@root.request.params.query.lat}},\n                \"lon\": {{@root.request.params.query.lng}}\n              },\n              \"order\": \"asc\",\n              \"unit\": \"mi\",\n              \"mode\": \"min\",\n              \"distance_type\": \"arc\"\n            }\n          }\n        {{/ifAll}}\n      {{/case}}\n      {{#case \"newest\"}}\n        {\n          \"date_last_modified\": \"desc\"\n        }\n      {{/case}}\n      {{#case \"oldest\"}}\n        {\n          \"date_last_modified\": \"asc\"\n        }\n      {{/case}}\n    {{/switch}}\n  ]\n  {{/if}}\n}"
      }
    },
    "commonTasks": {
      "authNotRequired": {
        "name": "auth",
        "taskModule": "firebaseAuth",
        "config": {
          "tokenPath": "request.cookies.gm_token",
          "cookieName": "gm_cookie",
          "cookieOptions": {
            "maxAge": 1209600000,
            "secure": true,
            "path": "/"
          },
          "appName": "goodmoves",
          "noTokenRoute": "",
          "notAuthenticatedRoute": ""
        }
      },
      "authRequired": {
        "name": "auth",
        "taskModule": "firebaseAuth",
        "config": {
          "tokenPath": "request.cookies.gm_token",
          "cookieName": "gm_cookie",
          "cookieOptions": {
            "maxAge": 1209600000,
            "secure": true,
            "path": "/"
          },
          "appName": "goodmoves",
          "noTokenRoute": "sign_in",
          "notAuthenticatedRoute": "sign_in"
        }
      },
      "termsMaps": {
        "name": "termsMaps",
        "taskModule": "render",
        "renderer": "handlebars",
        "config": {
          "template": ">context.metaData.handlebars.partials.terms_maps",
          "output": "data",
          "parseJson": true
        }
      },
      "supplimentaryResponses": {
        "name": "supplimentaryResponses",
        "taskModule": "elasticsearch",
        "config": {
          "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
          "elasticsearchConfig": {
            "apiVersion": "5.6"
          },
          "queryTemplates": [
            {
              "name": "types",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_types"
            },
            {
              "name": "types_regions",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_types-regions-scotland"
            },
            {
              "name": "types_regions_belgium",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_types-regions-belgium"
            },
            {
              "name": "types_regions_england",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_types-regions-england"
            },
            {
              "name": "types_regions_northern_ireland",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_types-regions-northern-ireland"
            },
            {
              "name": "types_regions_wales",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_types-regions-wales"
            },
            {
              "name": "banner",
              "index": "web-content-production",
              "type": "goodmoves-banner",
              "template": ">context.metaData.handlebars.queries.banners_banner"
            },
            {
              "name": "not_found",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.pages_not-found"
            }
          ]
        },
        "renderer": "handlebars"
      },
      "organisationsWithVacancies": {
        "name": "organisationsWithVacancies",
        "taskModule": "elasticsearch",
        "config": {
          "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
          "elasticsearchConfig": {
            "apiVersion": "5.6"
          },
          "queryTemplates": [
            {
              "name": "vacancies",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_organisations"
            }
          ]
        },
        "renderer": "handlebars"
      },
      "organisationsWithOpenVacancies": {
        "name": "organisationsWithVacancies",
        "taskModule": "elasticsearch",
        "config": {
          "connectionStringTemplate": "https://readonly:onlyread@2e6b5fd9344d4f8565e7d015d861b240.europe-west3.gcp.cloud.es.io:9243",
          "elasticsearchConfig": {
            "apiVersion": "5.6"
          },
          "queryTemplates": [
            {
              "name": "vacancies",
              "index": "web-content-production",
              "type": "goodmoves-vacancy",
              "template": ">context.metaData.handlebars.queries.vacancies_organisations-currently-recruiting"
            }
          ]
        },
        "renderer": "handlebars"
      },
      "searchesData": {
        "name": "searches",
        "taskModule": "mysql",
        "config": {
          "connectionName": "notifications",
          "queryTemplates": {
            "items": ">context.metaData.handlebars.queries.notifications_get-saved-searches"
          }
        },
        "renderer": "handlebars"
      },
      "shortlistData": {
        "name": "shortlist",
        "taskModule": "mysql",
        "config": {
          "connectionName": "notifications",
          "queryTemplates": {
            "items": ">context.metaData.handlebars.queries.notifications_get-shortlist"
          }
        },
        "renderer": "handlebars"
      },
      "notesData": {
        "name": "notes",
        "taskModule": "firebaseRtbGet",
        "renderer": "handlebars",
        "config": {
          "appName": "goodmoves",
          "pathTemplate": "/notes/{{default data.auth.uid 'no-such-profile'}}",
          "defaultData": " "
        }
      }
    }
  }
}